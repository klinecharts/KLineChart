<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>setLocale(locale) | KLineChart</title>
    <meta name="description" content="💹📈 可高度自定义的专业级轻量金融图表。">
    <meta name="generator" content="VitePress v2.0.0-alpha.12">
    <link rel="preload stylesheet" href="/assets/style.CQt6sbO-.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.818ad4c3.js"></script>
    <script type="module" src="/assets/app.ChJSuWwp.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.Dld2xr5O.js">
    <link rel="modulepreload" href="/assets/chunks/framework.C2hRbcpH.js">
    <link rel="modulepreload" href="/assets/chunks/index.BmL39_UF.js">
    <link rel="modulepreload" href="/assets/chunks/index.CjPmp464.js">
    <link rel="modulepreload" href="/assets/api_instance_setLocale.md.C3tzf92K.lean.js">
    <link rel="icon" type="image/svg+xml" href="/images/logo.svg">
    <script>/**
     * @license
     * KLineChart v10.0.0-alpha9
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */(function(rt,K){typeof exports=="object"&&typeof module<"u"?K(exports):typeof define=="function"&&define.amd?define(["exports"],K):K((rt=typeof globalThis<"u"?globalThis:rt||self).klinecharts={})})(this,function(rt){"use strict";function K(n,e){if(bt(n)||bt(e)){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=n[t],r=e[t];bt(r)&&bt(i)?K(i,r):E(e[t])&&(n[t]=zt(e[t]))}}}function zt(n){if(!bt(n))return n;var e=null;for(var t in e=Tt(n)?[]:{},n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];bt(i)?e[t]=zt(i):e[t]=i}return e}function Tt(n){return Object.prototype.toString.call(n)==="[object Array]"}function ht(n){return typeof n=="function"}function bt(n){return typeof n=="object"&&E(n)}function W(n){return typeof n=="number"&&Number.isFinite(n)}function E(n){return n!=null}function Gt(n){return typeof n=="boolean"}function G(n){return typeof n=="string"}var Ti=/\\(\\)?/g,Pi=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function nt(n,e,t){if(E(n)){var i=[];e.replace(Pi,function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var c=s;return E(u[1])?c=u[2].replace(Ti,"$1"):E(u[0])&&(c=u[0].trim()),i.push(c),""});for(var r=n,o=0,a=i.length;E(r)&&o<a;)r=r?.[i[o++]];return E(r)?r:t??"--"}return t??"--"}function Te(n,e,t){var i=function(r,o){var a={};return r.formatToParts(new Date(o)).forEach(function(s){var u=s.type,l=s.value;switch(u){case"year":a.YYYY=l;break;case"month":a.MM=l;break;case"day":a.DD=l;break;case"hour":a.HH=l==="24"?"00":l;break;case"minute":a.mm=l;break;case"second":a.ss=l}}),a}(n,e);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(r){return i[r]})}function lt(n,e){var t=+n;return W(t)?t.toFixed(e??2):"".concat(n)}function Pe(n){var e=+n;if(W(e)){if(e>1e9)return"".concat(+(e/1e9).toFixed(3),"B");if(e>1e6)return"".concat(+(e/1e6).toFixed(3),"M");if(e>1e3)return"".concat(+(e/1e3).toFixed(3),"K")}return"".concat(n)}function Me(n,e){var t="".concat(n);if(e.length===0)return t;if(t.includes(".")){var i=t.split(".");return"".concat(i[0].replace(/(\d)(?=(\d{3})+$)/g,function(r){return"".concat(r).concat(e)}),".").concat(i[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(r){return"".concat(r).concat(e)})}function Ie(n,e){var t="".concat(n);if(new RegExp("\\.0{"+e+",}[1-9][0-9]*$").test(t)){var i=t.split("."),r=i.length-1,o=i[r],a=/0*/.exec(o);if(E(a)){var s=a[0].length;return i[r]=o.replace(/0*/,"0{".concat(s,"}")),i.join(".")}}return t}function De(n,e){return n.replace(/\{(\w+)\}/g,function(t,i){var r=e[i];return E(r)?r:"{".concat(i,"}")})}var Jt=null;function Rt(n){var e,t;return(t=(e=n.ownerDocument.defaultView)===null||e===void 0?void 0:e.devicePixelRatio)!==null&&t!==void 0?t:1}function Wt(n,e,t){return"".concat(e??"normal"," ").concat(n??12,"px ").concat(t??"Helvetica Neue")}function wt(n,e,t,i){if(!E(Jt)){var r=document.createElement("canvas"),o=Rt(r);(Jt=r.getContext("2d")).scale(o,o)}return Jt.font=Wt(e,t,i),Math.round(Jt.measureText(n).width)}var de=function(n,e){return de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},de(n,e)};function Y(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}de(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var D=function(){return D=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},D.apply(this,arguments)};function $t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function Kt(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(l){try{u(i.next(l))}catch(c){o(c)}}function s(l){try{u(i.throw(l))}catch(c){o(c)}}function u(l){var c;l.done?r(l.value):(c=l.value,c instanceof t?c:new t(function(h){h(c)})).then(a,s)}u((i=i.apply(n,e||[])).next())})}function te(n,e){var t,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(t=1,i&&(r=2&c[0]?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||c[0]!==6&&c[0]!==2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(n,o)}catch(h){c=[6,h],i=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}function mt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Nt(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,o=t.call(n),a=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return a}function ee(n,e,t){if(t||arguments.length===2)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function ie(n){var e={width:0,height:0,left:0,right:0,top:0,bottom:0};return E(n)&&K(e,n),e}typeof SuppressedError=="function"&&SuppressedError;function re(n){return ht(window.requestAnimationFrame)?window.requestAnimationFrame(n):window.setTimeout(n,20)}function ke(n){ht(window.cancelAnimationFrame)?window.cancelAnimationFrame(n):window.clearTimeout(n)}var pe=function(){function n(e){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,K(this._options,e)}return n.prototype._loop=function(){var e=this;this._running=!0;var t=function(){var i;if(e._running){var r=new Date().getTime()-e._time;r<e._options.duration?((i=e._doFrameCallback)===null||i===void 0||i.call(e,r),re(t)):(e.stop(),e._currentIterationCount++,e._currentIterationCount<e._options.iterationCount&&e.start())}};re(t)},n.prototype.doFrame=function(e){return this._doFrameCallback=e,this},n.prototype.setDuration=function(e){return this._options.duration=e,this},n.prototype.setIterationCount=function(e){return this._options.iterationCount=e,this},n.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},n.prototype.stop=function(){var e;this._running&&((e=this._doFrameCallback)===null||e===void 0||e.call(this,this._options.duration)),this._running=!1},n}(),ge=1,Ae=new Date().getTime();function ne(n){var e=new Date().getTime();return e===Ae?++ge:ge=1,Ae=e,"".concat(n??"").concat(e,"_").concat(ge)}function Dt(n,e){var t,i=document.createElement(n),r=e??{};for(var o in r)i.style[o]=(t=r[o])!==null&&t!==void 0?t:"";return i}function ve(n,e,t){var i=0,r=0;for(r=n.length-1;i!==r;){var o=Math.floor((r+i)/2),a=r-i,s=n[o][e];if(t===n[i][e])return i;if(t===n[r][e])return r;if(t===s)return o;if(t>s?i=o:r=o,a<=2)break}return i}function Fe(n,e){e=Math.max(0,e??0);var t=Math.pow(10,e);return Math.round(n*t)/t}function Be(n,e,t){for(var i,r,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a=n.length,s=0;s<a;){var u=n[s];o[0]=Math.max((i=u[e])!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((r=u[t])!==null&&r!==void 0?r:Number.MAX_SAFE_INTEGER,o[1]),++s}return o}function kt(n){return n===0?0:Math.log10(n)}function Vt(n){return Math.pow(10,n)}function Re(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n.join("_")}var Mi=function(){function n(e){this._running=0,this._queue=[],this._taskMap=new Map,this._limit=e??5}return n.prototype.add=function(e){return Kt(this,void 0,void 0,function(){var t=this;return te(this,function(i){switch(i.label){case 0:return[4,new Promise(function(r,o){var a=e.id,s=e.handler,u=function(){t._running++,s().then(function(h){r(h)}).catch(function(){o("failed")}).finally(function(){t._running--,t._taskMap.delete(a),t._next()})},l=t._taskMap.get(a);if(E(l)){l.reject("canceled");var c=t._queue.indexOf(l.run);c>-1&&t._queue.splice(c,1)}t._taskMap.set(a,{run:u,reject:o}),t._queue.push(u),t._next()})];case 1:return[2,i.sent()]}})})},n.prototype._next=function(){for(;this._running<this._limit&&this._queue.length>0;){var e=this._queue.shift();e?.()}},n.prototype.remove=function(e){var t=this._taskMap.get(e);if(E(t)){this._taskMap.delete(e);var i=this._queue.indexOf(t.run);i>-1&&this._queue.splice(i,1),t.reject("canceled")}},n.prototype.clear=function(){var e,t;try{for(var i=mt(this._taskMap),r=i.next();!r.done;r=i.next())(0,Nt(r.value,2)[1].reject)("canceled")}catch(o){e={error:o}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}this._taskMap.clear(),this._queue=[]},n}(),dt=2,fe=0,Ii=function(){function n(){this._callbacks=[]}return n.prototype.subscribe=function(e){this._callbacks.indexOf(e)<0&&this._callbacks.push(e)},n.prototype.unsubscribe=function(e){if(ht(e)){var t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},n.prototype.execute=function(e){this._callbacks.forEach(function(t){t(e)})},n.prototype.isEmpty=function(){return this._callbacks.length===0},n}();function Yt(n){return n==="transparent"||n==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(n)||/^[hH][Ss][Ll][Aa]\(([\s]*(360｜3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(n)}function Lt(n,e){var t=n.replace(/^#/,""),i=parseInt(t,16),r=i>>8&255,o=255&i;return"rgba(".concat(i>>16&255,", ").concat(r,", ").concat(o,", ").concat(e??1,")")}var V={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function Le(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:V.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function me(n,e,t,i){var r,o=n.result,a=n.figures,s=n.styles,u=nt(s,"circles",t.circles),l=u.length,c=nt(s,"bars",t.bars),h=c.length,p=nt(s,"lines",t.lines),d=p.length,g=0,v=0,f=0,x=0;a.forEach(function(m){var y,b,w,C;switch(m.type){case"circle":x=g;var _=u[g%l];r=D(D({},_),{color:_.noChangeColor}),g++;break;case"bar":x=v;var S=c[v%h];r=D(D({},S),{color:S.noChangeColor}),v++;break;case"line":x=f,r=p[f%d],f++}if(E(m.type)){var P=(y=m.styles)===null||y===void 0?void 0:y.call(m,{data:{prev:o[(b=e.prev)!==null&&b!==void 0?b:""],current:o[(w=e.current)!==null&&w!==void 0?w:""],next:o[(C=e.next)!==null&&C!==void 0?C:""]},indicator:n,defaultStyles:t});i(m,D(D({},r),P),x)}})}var Oe=function(){function n(e){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series="normal",this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,i){var r=JSON.stringify(t.calcParams)!==JSON.stringify(i.calcParams)||t.figures!==i.figures||t.calc!==i.calc;return{calc:r,draw:r||t.shortName!==i.shortName||t.series!==i.series||t.minValue!==i.minValue||t.maxValue!==i.maxValue||t.precision!==i.precision||t.shouldOhlc!==i.shouldOhlc||t.shouldFormatBigNumber!==i.shouldFormatBigNumber||t.visible!==i.visible||t.zLevel!==i.zLevel||t.extendData!==i.extendData||t.regenerateFigures!==i.regenerateFigures||t.createTooltipDataSource!==i.createTooltipDataSource||t.draw!==i.draw}},this.calc=function(){return{}},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.onDataStateChange=null,this.result={},this._lockSeriesPrecision=!1,this.override(e),this._lockSeriesPrecision=!1}return n.prototype.override=function(e){var t,i,r=this.result,o=$t(this,["result"]);this._prevIndicator=D(D({},zt(o)),{result:r});var a=e.id,s=e.name,u=e.shortName,l=e.precision,c=e.styles,h=e.figures,p=e.calcParams,d=$t(e,["id","name","shortName","precision","styles","figures","calcParams"]);!G(this.id)&&G(a)&&(this.id=a),G(this.name)||(this.name=s??""),this.shortName=(t=u??this.shortName)!==null&&t!==void 0?t:this.name,W(l)&&(this.precision=l,this._lockSeriesPrecision=!0),E(c)&&((i=this.styles)!==null&&i!==void 0||(this.styles={}),K(this.styles,c)),K(this,d),E(p)&&(this.calcParams=p,ht(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=h??this.figures},n.prototype.setSeriesPrecision=function(e){this._lockSeriesPrecision||(this.precision=e)},n.prototype.shouldUpdateImp=function(){var e=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return Gt(t)?{calc:t,draw:t,sort:e}:D(D({},t),{sort:e})},n.prototype.calcImp=function(e){return Kt(this,void 0,void 0,function(){var t;return te(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=i.sent(),this.result=t,[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}})})},n.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return Y(i,t),i}(n)},n}(),Di={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(n){var e,t,i=n.data,r=n.indicator,o=n.defaultStyles,a=i.prev,s=i.current,u=(e=a?.ao)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,l=(t=s?.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return{color:c=l>u?nt(r.styles,"bars[0].upColor",o.bars[0].upColor):nt(r.styles,"bars[0].downColor",o.bars[0].downColor),style:l>u?"stroke":"fill",borderColor:c}}}],calc:function(n,e){var t=e.calcParams,i=Math.max(t[0],t[1]),r=0,o=0,a=0,s=0;return n.reduce(function(u,l,c){var h={},p=(l.low+l.high)/2;if(r+=p,o+=p,c>=t[0]-1){a=r/t[0];var d=n[c-(t[0]-1)];r-=(d.low+d.high)/2}return c>=t[1]-1&&(s=o/t[1],d=n[c-(t[1]-1)],o-=(d.low+d.high)/2),c>=i-1&&(h.ao=a-s),u[l.timestamp]=h,u},{})}},ki={name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=t[0]-1,r=0;return n.reduce(function(o,a,s){var u=a.close,l={};if(r+=u,s>=i){l.mid=r/t[0];var c=function(h,p){var d=h.length,g=0;return h.forEach(function(v){var f=v.close-p;g+=f*f}),g=Math.abs(g),Math.sqrt(g/d)}(n.slice(s-i,s+1),l.mid);l.up=l.mid+t[1]*c,l.dn=l.mid-t[1]*c,r-=n[s-i].close}return o[a.timestamp]=l,o},{})}},Ai={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.max.apply(Math,ee([],Nt(t),!1)),r=[],o=[];return n.reduce(function(a,s,u){var l={},c=s.close;if(t.forEach(function(p,d){var g;r[d]=((g=r[d])!==null&&g!==void 0?g:0)+c,u>=p-1&&(o[d]=r[d]/p,r[d]-=n[u-(p-1)].close)}),u>=i-1){var h=0;o.forEach(function(p){h+=p}),l.bbi=h/4}return a[s.timestamp]=l,a},{})}},Fi={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=t[0]-1,r=0,o=[];return n.reduce(function(a,s,u){var l={},c=(s.high+s.low+s.close)/3;if(r+=c,o.push(c),u>=i){var h=r/t[0],p=o.slice(u-i,u+1),d=0;p.forEach(function(f){d+=Math.abs(f-h)});var g=d/t[0];l.cci=g!==0?(c-h)/g/.015:0;var v=(n[u-i].high+n[u-i].low+n[u-i].close)/3;r-=v}return a[s.timestamp]=l,a},{})}},Bi={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.ceil(t[1]/2.5+1),r=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),a=Math.ceil(t[4]/2.5+1),s=0,u=[],l=0,c=[],h=0,p=[],d=0,g=[],v=[],f={};return n.forEach(function(x,m){var y,b,w,C,_,S={},P=(y=n[m-1])!==null&&y!==void 0?y:x,T=(P.high+P.close+P.low+P.open)/4,k=Math.max(0,x.high-T),O=Math.max(0,T-x.low);m>=t[0]-1&&(S.cr=O!==0?k/O*100:0,s+=S.cr,l+=S.cr,h+=S.cr,d+=S.cr,m>=t[0]+t[1]-2&&(u.push(s/t[1]),m>=t[0]+t[1]+i-3&&(S.ma1=u[u.length-1-i]),s-=(b=v[m-(t[1]-1)].cr)!==null&&b!==void 0?b:0),m>=t[0]+t[2]-2&&(c.push(l/t[2]),m>=t[0]+t[2]+r-3&&(S.ma2=c[c.length-1-r]),l-=(w=v[m-(t[2]-1)].cr)!==null&&w!==void 0?w:0),m>=t[0]+t[3]-2&&(p.push(h/t[3]),m>=t[0]+t[3]+o-3&&(S.ma3=p[p.length-1-o]),h-=(C=v[m-(t[3]-1)].cr)!==null&&C!==void 0?C:0),m>=t[0]+t[4]-2&&(g.push(d/t[4]),m>=t[0]+t[4]+a-3&&(S.ma4=g[g.length-1-a]),d-=(_=v[m-(t[4]-1)].cr)!==null&&_!==void 0?_:0)),v.push(S),f[x.timestamp]=S}),f}},Ri={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.max(t[0],t[1]),r=0,o=0,a=0,s=[],u={};return n.forEach(function(l,c){var h,p={},d=l.close;r+=d,o+=d;var g=0,v=0;if(c>=t[0]-1&&(g=r/t[0],r-=n[c-(t[0]-1)].close),c>=t[1]-1&&(v=o/t[1],o-=n[c-(t[1]-1)].close),c>=i-1){var f=g-v;p.dma=f,a+=f,c>=i+t[2]-2&&(p.ama=a/t[2],a-=(h=s[c-(t[2]-1)].dma)!==null&&h!==void 0?h:0)}s.push(p),u[l.timestamp]=p}),u}},Li={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=0,c=0,h=[],p={};return n.forEach(function(d,g){var v,f,x={},m=(v=n[g-1])!==null&&v!==void 0?v:d,y=m.close,b=d.high,w=d.low,C=b-w,_=Math.abs(b-y),S=Math.abs(y-w),P=b-m.high,T=m.low-w,k=Math.max(Math.max(C,_),S),O=P>0&&P>T?P:0,A=T>0&&T>P?T:0;if(i+=k,r+=O,o+=A,g>=t[0]-1){g>t[0]-1?(a=a-a/t[0]+k,s=s-s/t[0]+O,u=u-u/t[0]+A):(a=i,s=r,u=o);var F=0,L=0;a!==0&&(F=100*s/a,L=100*u/a),x.pdi=F,x.mdi=L;var I=0;L+F!==0&&(I=Math.abs(L-F)/(L+F)*100),l+=I,g>=2*t[0]-2&&(c=g>2*t[0]-2?(c*(t[0]-1)+I)/t[0]:l/t[0],x.adx=c,g>=2*t[0]+t[1]-3&&(x.adxr=(((f=h[g-(t[1]-1)].adx)!==null&&f!==void 0?f:0)+c)/2))}h.push(x),p[d.timestamp]=x}),p}},Oi={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(n){var e,t,i=n.data,r=n.indicator,o=n.defaultStyles,a=i.prev,s=i.current,u=(e=a?.macd)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,l=(t=s?.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return{style:u<l?"stroke":"fill",color:c=l>0?nt(r.styles,"bars[0].upColor",o.bars[0].upColor):l<0?nt(r.styles,"bars[0].downColor",o.bars[0].downColor):nt(r.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor),borderColor:c}}}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=Math.max(t[0],t[1]);return n.reduce(function(c,h,p){var d={},g=h.close;return i+=g,p>=t[0]-1&&(r=p>t[0]-1?(2*g+(t[0]-1)*r)/(t[0]+1):i/t[0]),p>=t[1]-1&&(o=p>t[1]-1?(2*g+(t[1]-1)*o)/(t[1]+1):i/t[1]),p>=l-1&&(a=r-o,d.dif=a,s+=a,p>=l+t[2]-2&&(u=p>l+t[2]-2?(2*a+u*(t[2]-1))/(t[2]+1):s/t[2],d.macd=2*(a-u),d.dea=u)),c[h.timestamp]=d,c},{})}},Wi={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){var i=t+1;return{key:"rsi".concat(i),title:"RSI".concat(i,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[],o=[];return n.reduce(function(a,s,u){var l,c={},h=((l=n[u-1])!==null&&l!==void 0?l:s).close,p=s.close-h;return t.forEach(function(d,g){var v,f,x;if(p>0?r[g]=((v=r[g])!==null&&v!==void 0?v:0)+p:o[g]=((f=o[g])!==null&&f!==void 0?f:0)+Math.abs(p),u>=d-1){o[g]!==0?c[i[g].key]=100-100/(1+r[g]/o[g]):c[i[g].key]=0;var m=n[u-(d-1)],y=(x=n[u-d])!==null&&x!==void 0?x:m,b=m.close-y.close;b>0?r[g]-=b:o[g]-=Math.abs(b)}}),a[s.timestamp]=c,a},{})}},Vi={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=[],r={};return n.forEach(function(o,a){var s,u,l,c,h={},p=o.close;if(a>=t[0]-1){var d=Be(n.slice(a-(t[0]-1),a+1),"high","low"),g=d[0],v=d[1],f=g-v,x=(p-v)/(f===0?1:f)*100;h.k=((t[1]-1)*((u=(s=i[a-1])===null||s===void 0?void 0:s.k)!==null&&u!==void 0?u:50)+x)/t[1],h.d=((t[2]-1)*((c=(l=i[a-1])===null||l===void 0?void 0:l.d)!==null&&c!==void 0?c:50)+h.k)/t[2],h.j=3*h.k-2*h.d}i.push(h),r[o.timestamp]=h}),r}},zi={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(n){var e,t,i,r=n.data,o=n.indicator,a=n.defaultStyles,s=r.current;return{color:((e=s?.sar)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER)<(((t=s?.high)!==null&&t!==void 0?t:0)+((i=s?.low)!==null&&i!==void 0?i:0))/2?nt(o.styles,"circles[0].upColor",a.circles[0].upColor):nt(o.styles,"circles[0].downColor",a.circles[0].downColor)}}}],calc:function(n,e){var t=e.calcParams,i=t[0]/100,r=t[1]/100,o=t[2]/100,a=i,s=-100,u=!1,l=0;return n.reduce(function(c,h,p){var d=l,g=h.high,v=h.low;if(u){(s===-100||s<g)&&(s=g,a=Math.min(a+r,o)),l=d+a*(s-d);var f=Math.min(n[Math.max(1,p)-1].low,v);l>h.low?(l=s,a=i,s=-100,u=!u):l>f&&(l=f)}else{(s===-100||s>v)&&(s=v,a=Math.min(a+r,o)),l=d+a*(s-d);var x=Math.max(n[Math.max(1,p)-1].high,g);l<h.high?(l=s,a=0,s=-100,u=!u):l<x&&(l=x)}return c[h.timestamp]={high:g,low:v,sar:l},c},{})}};function We(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(n){var e=n.data,t=n.indicator,i=n.defaultStyles,r=e.current,o=nt(t.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor);return E(r)&&(r.close>r.open?o=nt(t.styles,"bars[0].upColor",i.bars[0].upColor):r.close<r.open&&(o=nt(t.styles,"bars[0].downColor",i.bars[0].downColor))),{color:o}}}}var Ni={name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},We()],regenerateFigures:function(n){var e=n.map(function(t,i){return{key:"ma".concat(i+1),title:"MA".concat(t,": "),type:"line"}});return e.push(We()),e},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.reduce(function(o,a,s){var u,l=(u=a.volume)!==null&&u!==void 0?u:0,c={volume:l,open:a.open,close:a.close};return t.forEach(function(h,p){var d,g;r[p]=((d=r[p])!==null&&d!==void 0?d:0)+l,s>=h-1&&(c[i[p].key]=r[p]/h,r[p]-=(g=n[s-(h-1)].volume)!==null&&g!==void 0?g:0)}),o[a.timestamp]=c,o},{})}},Yi={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures;return n.reduce(function(r,o,a){var s={},u=o.close;return t.forEach(function(l,c){var h=l-1;if(a>=h){var p=Be(n.slice(a-h,a+1),"high","low"),d=p[0],g=d-p[1];s[i[c].key]=g===0?0:(u-d)/g*100}}),r[o.timestamp]=s,r},{})}},oe={},Hi=[{name:"AVP",shortName:"AVP",series:"price",precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(n){var e=0,t=0;return n.reduce(function(i,r){var o,a,s={},u=(o=r.turnover)!==null&&o!==void 0?o:0,l=(a=r.volume)!==null&&a!==void 0?a:0;return e+=u,(t+=l)!==0&&(s.avp=e/t),i[r.timestamp]=s,i},{})}},Di,{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.reduce(function(o,a,s){var u={},l=a.close;return t.forEach(function(c,h){var p;if(r[h]=((p=r[h])!==null&&p!==void 0?p:0)+l,s>=c-1){var d=r[h]/t[h];u[i[h].key]=(l-d)/d*100,r[h]-=n[s-(c-1)].close}}),o[a.timestamp]=u,o},{})}},ki,{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0;return n.reduce(function(s,u,l){var c,h,p={},d=u.high,g=u.low,v=u.open,f=((c=n[l-1])!==null&&c!==void 0?c:u).close;if(o+=d-v,a+=v-g,i+=d-f,r+=f-g,l>=t[0]-1){p.ar=a!==0?o/a*100:0,p.br=r!==0?i/r*100:0;var x=n[l-(t[0]-1)],m=x.high,y=x.low,b=x.open,w=((h=n[l-t[0]])!==null&&h!==void 0?h:n[l-(t[0]-1)]).close;i-=m-w,r-=w-y,o-=m-b,a-=b-y}return s[u.timestamp]=p,s},{})}},Ai,Fi,Bi,Ri,Li,{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=[];return n.reduce(function(o,a,s){var u,l={};if(s>0){var c=n[s-1],h=a.high,p=a.low,d=(u=a.volume)!==null&&u!==void 0?u:0,g=(h+p)/2-(c.high+c.low)/2;if(d===0||h-p==0)l.emv=0;else{var v=d/1e8/(h-p);l.emv=g/v}i+=l.emv,r.push(l.emv),s>=t[0]&&(l.maEmv=i/t[0],i-=r[s-t[0]])}return o[a.timestamp]=l,o},{})}},{name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=0,o=[];return n.reduce(function(a,s,u){var l={},c=s.close;return r+=c,t.forEach(function(h,p){u>=h-1&&(o[p]=u>h-1?(2*c+(h-1)*o[p])/(h+1):r/h,l[i[p].key]=o[p])}),a[s.timestamp]=l,a},{})}},{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=[],o={};return n.forEach(function(a,s){var u,l={};if(s>=t[0]){var c=a.close,h=n[s-t[0]].close;l.mtm=c-h,i+=l.mtm,s>=t[0]+t[1]-1&&(l.maMtm=i/t[1],i-=(u=r[s-(t[1]-1)].mtm)!==null&&u!==void 0?u:0)}r.push(l),o[a.timestamp]=l}),o}},{name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.reduce(function(o,a,s){var u={},l=a.close;return t.forEach(function(c,h){var p;r[h]=((p=r[h])!==null&&p!==void 0?p:0)+l,s>=c-1&&(u[i[h].key]=r[h]/c,r[h]-=n[s-(c-1)].close)}),o[a.timestamp]=u,o},{})}},Oi,{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=[],a={};return n.forEach(function(s,u){var l,c,h,p,d=(l=n[u-1])!==null&&l!==void 0?l:s;s.close<d.close?r-=(c=s.volume)!==null&&c!==void 0?c:0:s.close>d.close&&(r+=(h=s.volume)!==null&&h!==void 0?h:0);var g={obv:r};i+=r,u>=t[0]-1&&(g.maObv=i/t[0],i-=(p=o[u-(t[0]-1)].obv)!==null&&p!==void 0?p:0),o.push(g),a[s.timestamp]=g}),a}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(n){var e=0;return n.reduce(function(t,i,r){var o,a,s={},u=i.close,l=(o=i.volume)!==null&&o!==void 0?o:1,c=((a=n[r-1])!==null&&a!==void 0?a:i).close,h=0,p=c*l;return p!==0&&(h=(u-c)/p),e+=h,s.pvt=e,t[i.timestamp]=s,t},{})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=[],a=[],s={};return n.forEach(function(u,l){var c,h,p={},d=((c=n[l-1])!==null&&c!==void 0?c:u).close,g=u.close-d>0?1:0;o.push(g),i+=g,l>=t[0]-1&&(p.psy=i/t[0]*100,r+=p.psy,l>=t[0]+t[1]-2&&(p.maPsy=r/t[1],r-=(h=a[l-(t[1]-1)].psy)!==null&&h!==void 0?h:0),i-=o[l-(t[0]-1)]),a.push(p),s[u.timestamp]=p}),s}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=[],r={},o=0;return n.forEach(function(a,s){var u,l,c={};if(s>=t[0]-1){var h=a.close,p=((u=n[s-t[0]])!==null&&u!==void 0?u:n[s-(t[0]-1)]).close;c.roc=p!==0?(h-p)/p*100:0,o+=c.roc,s>=t[0]-1+t[1]-1&&(c.maRoc=o/t[1],o-=(l=i[s-(t[1]-1)].roc)!==null&&l!==void 0?l:0)}i.push(c),r[a.timestamp]=c}),r}},Wi,{name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(n,e){var t=e.calcParams,i=0,r=0;return n.reduce(function(o,a,s){var u={},l=a.close;return i+=l,s>=t[0]-1&&(r=s>t[0]-1?(l*t[1]+r*(t[0]-t[1]+1))/(t[0]+1):i/t[0],u.sma=r),o[a.timestamp]=u,o},{})}},Vi,zi,{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=0,c=[],h={};return n.forEach(function(p,d){var g,v={},f=p.close;if(i+=f,d>=t[0]-1&&(r=d>t[0]-1?(2*f+(t[0]-1)*r)/(t[0]+1):i/t[0],s+=r,d>=2*t[0]-2&&(o=d>2*t[0]-2?(2*r+(t[0]-1)*o)/(t[0]+1):s/t[0],u+=o,d>=3*t[0]-3))){var x=0,m=0;d>3*t[0]-3?m=((x=(2*o+(t[0]-1)*a)/(t[0]+1))-a)/a*100:x=u/t[0],a=x,v.trix=m,l+=m,d>=3*t[0]+t[1]-4&&(v.maTrix=l/t[1],l-=(g=c[d-(t[1]-1)].trix)!==null&&g!==void 0?g:0)}c.push(v),h[p.timestamp]=v}),h}},Ni,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=[],u={};return n.forEach(function(l,c){var h,p,d,g,v,f={},x=l.close,m=((h=n[c-1])!==null&&h!==void 0?h:l).close,y=(p=l.volume)!==null&&p!==void 0?p:0;if(x>m?i+=y:x<m?r+=y:o+=y,c>=t[0]-1){var b=o/2;f.vr=r+b===0?0:(i+b)/(r+b)*100,a+=f.vr,c>=t[0]+t[1]-2&&(f.maVr=a/t[1],a-=(d=s[c-(t[1]-1)].vr)!==null&&d!==void 0?d:0);var w=n[c-(t[0]-1)],C=(g=n[c-t[0]])!==null&&g!==void 0?g:w,_=w.close,S=(v=w.volume)!==null&&v!==void 0?v:0;_>C.close?i-=S:_<C.close?r-=S:o-=S}s.push(f),u[l.timestamp]=f}),u}},Yi];function Ve(n){var e;return(e=oe[n])!==null&&e!==void 0?e:null}function Ct(n,e){var t,i=(t=e?.ignoreEvent)!==null&&t!==void 0&&t;return Gt(i)?!i:!i.includes(n)}Hi.forEach(function(n){oe[n.name]=Oe.extend(n)});var Ht="overlay_figure_",ze=function(){function n(e){this.groupId="",this.totalStep=1,this.currentStep=1,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode="normal",this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseMove=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(e)}return n.prototype.override=function(e){var t,i;this._prevOverlay=zt(this);var r=e.id,o=e.name;e.currentStep;var a=e.points,s=e.styles;if(K(this,$t(e,["id","name","currentStep","points","styles"])),G(this.name)||(this.name=o??""),!G(this.id)&&G(r)&&(this.id=r),E(s)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),K(this.styles,s)),Tt(a)&&a.length>0){var u=0;if(this.points=ee([],Nt(a),!1),a.length>=this.totalStep-1?(this.currentStep=-1,u=this.totalStep-1):(this.currentStep=a.length+1,u=a.length),ht(this.performEventMoveForDrawing))for(var l=0;l<u;l++)this.performEventMoveForDrawing({currentStep:l+2,mode:this.mode,points:this.points,performPointIndex:l,performPoint:this.points[l]});this.currentStep===-1&&((i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},n.prototype.getPrevZLevel=function(){return this._prevZLevel},n.prototype.setPrevZLevel=function(e){this._prevZLevel=e},n.prototype.shouldUpdate=function(){var e=this._prevOverlay.zLevel!==this.zLevel;return{sort:e,draw:e||JSON.stringify(this._prevOverlay.points)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles}},n.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},n.prototype.forceComplete=function(){this.currentStep=-1},n.prototype.isDrawing=function(){return this.currentStep!==-1},n.prototype.isStart=function(){return this.currentStep===1},n.prototype.eventMoveForDrawing=function(e){var t,i=this.currentStep-1,r={};W(e.timestamp)&&(r.timestamp=e.timestamp),W(e.dataIndex)&&(r.dataIndex=e.dataIndex),W(e.value)&&(r.value=e.value),this.points[i]=r,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:i,performPoint:r})},n.prototype.eventPressedPointMove=function(e,t){var i;this.points[t].timestamp=e.timestamp,W(e.value)&&(this.points[t].value=e.value),(i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},n.prototype.startPressedMove=function(e){this._prevPressedPoint=D({},e),this._prevPressedPoints=zt(this.points)},n.prototype.eventPressedOtherMove=function(e,t){if(this._prevPressedPoint!==null){var i=null;W(e.dataIndex)&&W(this._prevPressedPoint.dataIndex)&&(i=e.dataIndex-this._prevPressedPoint.dataIndex);var r=null;W(e.value)&&W(this._prevPressedPoint.value)&&(r=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var a;W(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var s=D({},o);return W(i)&&W(o.dataIndex)&&(s.dataIndex=o.dataIndex+i,s.timestamp=(a=t.dataIndexToTimestamp(s.dataIndex))!==null&&a!==void 0?a:void 0),W(r)&&W(o.value)&&(s.value=o.value+r),s})}},n.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return Y(i,t),i}(n)},n}(),Xi={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e,t,i,r=n.chart,o=n.coordinates,a=n.bounding,s=n.overlay,u=n.yAxis,l=s.points;if(o.length>0){var c=0;(e=u?.isInCandle())===null||e===void 0||e?c=(i=(t=r.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:dt:r.getIndicators({paneId:s.paneId}).forEach(function(f){c=Math.max(c,f.precision)});var h=[],p=[],d=a.width;if(o.length>1&&W(l[0].value)&&W(l[1].value)){var g=o[0].y-o[1].y,v=l[0].value-l[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(f){var x,m=o[1].y+g*f,y=r.getDecimalFold().format(r.getThousandsSeparator().format((((x=l[1].value)!==null&&x!==void 0?x:0)+v*f).toFixed(c)));h.push({coordinates:[{x:0,y:m},{x:d,y:m}]}),p.push({x:0,y:m,text:"".concat(y," (").concat((100*f).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:h},{type:"text",isCheckEvent:!1,attrs:p}]}return[]}},Gi={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding,i={x:0,y:e[0].y};return E(e[1])&&e[0].x<e[1].x&&(i.x=t.width),[{type:"line",attrs:{coordinates:[e[0],i]}}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].value=i.value)}},ye=function(){function n(){this._children=[],this._callbacks=new Map}return n.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},n.prototype.onEvent=function(e,t){var i=this._callbacks.get(e);return!(!E(i)||!this.checkEventOn(t))&&i(t)},n.prototype.dispatchEventToChildren=function(e,t){var i=this._children.length-1;if(i>-1){for(var r=i;r>-1;r--)if(this._children[r].dispatchEvent(e,t))return!0}return!1},n.prototype.dispatchEvent=function(e,t){return!!this.dispatchEventToChildren(e,t)||this.onEvent(e,t)},n.prototype.addChild=function(e){return this._children.push(e),this},n.prototype.clear=function(){this._children=[]},n}(),Ne=function(n){function e(t){var i=n.call(this)||this;return i.attrs=t.attrs,i.styles=t.styles,i}return Y(e,n),e.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},e.prototype.setAttrs=function(t){return this.attrs=t,this},e.prototype.setStyles=function(t){return this.styles=t,this},e.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},e.extend=function(t){var i=function(r){function o(){return r!==null&&r.apply(this,arguments)||this}return Y(o,r),o.prototype.checkEventOnImp=function(a,s,u){return t.checkEventOn(a,s,u)},o.prototype.drawImp=function(a,s,u){t.draw(a,s,u)},o}(e);return i},e}(ye);function Ye(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=mt(r),a=o.next();!a.done;a=o.next()){var s=a.value.coordinates;if(s.length>1)for(var u=1;u<s.length;u++){var l=s[u-1],c=s[u];if(l.x===c.x){if(Math.abs(l.y-n.y)+Math.abs(c.y-n.y)-Math.abs(l.y-c.y)<4&&Math.abs(n.x-l.x)<2)return!0}else{var h=ae(l,c),p=_e(h,n),d=Math.abs(p-n.y);if(Math.abs(l.x-n.x)+Math.abs(c.x-n.x)-Math.abs(l.x-c.x)<4&&d*d/(h[0]*h[0]+1)<4)return!0}}}}catch(g){t={error:g}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function _e(n,e){return n!==null?e.x*n[0]+n[1]:e.y}function Ut(n,e,t){return _e(ae(n,e),t)}function ae(n,e){var t=n.x-e.x;if(t!==0){var i=(n.y-e.y)/t;return[i,n.y-i*n.x]}return null}function He(n,e,t){var i=e.length,r=W(t)?t>0&&t<1?t:0:t?.5:0;if(r>0&&i>2){for(var o=e[0].x,a=e[0].y,s=1;s<i-1;s++){var u=e[s-1],l=e[s],c=e[s+1],h=l.x-u.x,p=l.y-u.y,d=c.x-l.x,g=c.y-l.y,v=c.x-u.x,f=c.y-u.y,x=Math.sqrt(h*h+p*p),m=Math.sqrt(d*d+g*g),y=m/(m+x),b=l.x+v*r*y,w=l.y+f*r*y;b=Math.min(b,Math.max(c.x,l.x)),w=Math.min(w,Math.max(c.y,l.y)),b=Math.max(b,Math.min(c.x,l.x)),w=Math.max(w,Math.min(c.y,l.y)),v=b-l.x,f=w-l.y;var C=l.x-v*x/m,_=l.y-f*x/m;C=Math.min(C,Math.max(u.x,l.x)),_=Math.min(_,Math.max(u.y,l.y)),C=Math.max(C,Math.min(u.x,l.x)),_=Math.max(_,Math.min(u.y,l.y)),v=l.x-C,f=l.y-_,b=l.x+v*m/x,w=l.y+f*m/x,n.bezierCurveTo(o,a,C,_,l.x,l.y),o=b,a=w}var S=e[i-1];n.bezierCurveTo(o,a,S.x,S.y,S.x,S.y)}else for(s=1;s<i;s++)n.lineTo(e[s].x,e[s].y)}var Ui={name:"line",checkEventOn:Ye,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"solid":s,l=o.smooth,c=l!==void 0&&l,h=o.size,p=h===void 0?1:h,d=o.color,g=d===void 0?"currentColor":d,v=o.dashedValue,f=v===void 0?[2,2]:v;i.lineWidth=p,i.strokeStyle=g,u==="dashed"?i.setLineDash(f):i.setLineDash([]);var x=p%2==1?.5:0;a.forEach(function(m){var y=m.coordinates;y.length>1&&(y.length!==2||y[0].x!==y[1].x&&y[0].y!==y[1].y?(i.save(),p%2==1&&i.translate(.5,.5),i.beginPath(),i.moveTo(y[0].x,y[0].y),He(i,y,c),i.stroke(),i.closePath(),i.restore()):(i.beginPath(),y[0].x===y[1].x?(i.moveTo(y[0].x+x,y[0].y),i.lineTo(y[1].x+x,y[1].y)):(i.moveTo(y[0].x,y[0].y+x),i.lineTo(y[1].x,y[1].y+x)),i.stroke(),i.closePath()))})})(n,e,t)}};function Xe(n,e,t){var i=t??0,r=[];if(n.length>1)if(n[0].x===n[1].x){var o=e.height;if(r.push({coordinates:[{x:n[0].x,y:0},{x:n[0].x,y:o}]}),n.length>2){r.push({coordinates:[{x:n[2].x,y:0},{x:n[2].x,y:o}]});for(var a=n[0].x-n[2].x,s=0;s<i;s++){var u=a*(s+1);r.push({coordinates:[{x:n[0].x+u,y:0},{x:n[0].x+u,y:o}]})}}}else{var l=e.width,c=ae(n[0],n[1]),h=c[0],p=c[1];if(r.push({coordinates:[{x:0,y:0*h+p},{x:l,y:l*h+p}]}),n.length>2){var d=n[2].y-h*n[2].x;for(r.push({coordinates:[{x:0,y:0*h+d},{x:l,y:l*h+d}]}),a=p-d,s=0;s<i;s++){var g=p+a*(s+1);r.push({coordinates:[{x:0,y:0*h+g},{x:l,y:l*h+g}]})}}}return r}function Zi(n,e){if(n.length>1){var t={x:0,y:0};return t=n[0].x===n[1].x&&n[0].y!==n[1].y?n[0].y<n[1].y?{x:n[0].x,y:e.height}:{x:n[0].x,y:0}:n[0].x>n[1].x?{x:0,y:Ut(n[0],n[1],{x:0,y:n[0].y})}:{x:e.width,y:Ut(n[0],n[1],{x:e.width,y:n[0].y})},{coordinates:[n[0],t]}}return[]}var qi={name:"simpleAnnotation",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(n){var e,t=n.overlay,i=n.coordinates,r="";E(t.extendData)&&(r=ht(t.extendData)?t.extendData(t):(e=t.extendData)!==null&&e!==void 0?e:"");var o=i[0].x,a=i[0].y-6,s=a-50,u=s-5;return[{type:"line",attrs:{coordinates:[{x:o,y:a},{x:o,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:s},{x:o-4,y:u},{x:o+4,y:u}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:u,text:r,align:"center",baseline:"bottom"},ignoreEvent:!0}]}},ji={name:"simpleTag",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(n){var e=n.bounding,t=n.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(n){var e,t,i,r,o=n.chart,a=n.overlay,s=n.coordinates,u=n.bounding,l=n.yAxis,c="left",h=0;(e=l?.isFromZero())!==null&&e!==void 0&&e?(c="left",h=0):(c="right",h=u.width);var p="";return E(a.extendData)&&(p=ht(a.extendData)?a.extendData(a):(t=a.extendData)!==null&&t!==void 0?t:""),!E(p)&&W(a.points[0].value)&&(p=lt(a.points[0].value,(r=(i=o.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:dt)),{type:"text",attrs:{x:h,y:s[0].y,text:p,align:c,baseline:"middle"}}}},Zt={};function Qi(n){var e;return(e=Zt[n])!==null&&e!==void 0?e:null}[Xi,Gi,{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=[];return e.length===2&&t.push({coordinates:e}),[{type:"line",attrs:t}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].value=i.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:t.width,y:e[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:Xe(n.coordinates,n.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:Xe(n.coordinates,n.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e,t,i,r=n.chart,o=n.coordinates,a=n.bounding,s=n.overlay,u=n.yAxis,l=0;(e=u?.isInCandle())===null||e===void 0||e?l=(i=(t=r.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:dt:r.getIndicators({paneId:s.paneId}).forEach(function(p){l=Math.max(l,p.precision)});var c=s.points[0].value,h=c===void 0?0:c;return[{type:"line",attrs:{coordinates:[o[0],{x:a.width,y:o[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:o[0].x,y:o[0].y,text:r.getDecimalFold().format(r.getThousandsSeparator().format(h.toFixed(l))),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:Zi(n.coordinates,n.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return e.length===2?e[0].x===e[1].x?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Ut(e[0],e[1],{x:0,y:e[0].y})},{x:t.width,y:Ut(e[0],e[1],{x:t.width,y:e[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;if(e.length===2){var i={x:e[0].x,y:0};return e[0].y<e[1].y&&(i.y=t.height),[{type:"line",attrs:{coordinates:[e[0],i]}}]}return[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]}},qi,ji].forEach(function(n){Zt[n.name]=ze.extend(n)});var Ge={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},title:{color:"#76808F"},legend:{color:"#76808F"}}},indicator:{tooltip:{title:{color:"#76808F"},legend:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},title:{color:"#929AA5"},legend:{color:"#929AA5"}}},indicator:{tooltip:{title:{color:"#929AA5"},legend:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function Ji(n){var e;return(e=Ge[n])!==null&&e!==void 0?e:null}var ut="candle_pane",Ue="indicator_pane_",it="x_axis_pane",$i=1,Ki=50,tr=function(){function n(e,t){var i,r,o,a,s,u=this;this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]}},candle:(s={show:!0,color:V.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},{type:"candle_solid",bar:{compareRule:"current_open",upColor:V.GREEN,downColor:V.RED,noChangeColor:V.GREY,upBorderColor:V.GREEN,downBorderColor:V.RED,noChangeBorderColor:V.GREY,upWickColor:V.GREEN,downWickColor:V.RED,noChangeWickColor:V.GREY},area:{lineSize:2,lineColor:V.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Lt(V.BLUE,.01)},{offset:1,color:Lt(V.BLUE,.2)}],point:{show:!0,color:V.BLUE,radius:4,rippleColor:Lt(V.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:D({},s),low:D({},s),last:{show:!0,compareRule:"current_open",upColor:V.GREEN,downColor:V.RED,noChangeColor:V.GREY,line:{show:!0,style:"dashed",dashedValue:[4,4],size:1},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:"solid",borderSize:0,borderDashedValue:[2,2],color:V.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2},extendTexts:[]}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",rect:{position:"fixed",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},title:{show:!0,size:14,family:"Helvetica Neue",weight:"normal",color:V.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,template:"{ticker} \xB7 {period}"},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:V.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a",template:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]},features:[]}}),indicator:(o=Lt(V.GREEN,.7),a=Lt(V.RED,.7),{ohlc:{compareRule:"current_open",upColor:o,downColor:a,noChangeColor:V.GREY},bars:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:V.GREY}],lines:["#FF9600","#935EBD",V.BLUE,"#E11D74","#01C5C4"].map(function(f){return{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:f}}),circles:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:V.GREY}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:V.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",title:{show:!0,showName:!0,showParams:!0,size:12,family:"Helvetica Neue",weight:"normal",color:V.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:V.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a"},features:[]}}),xAxis:Le(),yAxis:Le(),separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Lt(V.BLUE,.08)},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:V.GREY},text:{show:!0,style:"fill",color:V.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:V.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:V.GREY},features:[]},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:V.GREY},text:{show:!0,style:"fill",color:V.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:V.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:V.GREY}}},overlay:(i=Lt(V.BLUE,.35),r=Lt(V.BLUE,.25),{point:{color:V.BLUE,borderColor:i,borderSize:1,radius:5,activeColor:V.BLUE,activeBorderColor:i,activeBorderSize:3,activeRadius:5},line:{style:"solid",smooth:!1,color:V.BLUE,size:1,dashedValue:[2,2]},rect:{style:"fill",color:r,borderColor:V.BLUE,borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{style:"fill",color:V.BLUE,borderColor:V.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{style:"fill",color:r,borderColor:V.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{style:"solid",color:V.BLUE,size:1,dashedValue:[2,2]},text:{style:"fill",color:V.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:V.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:V.BLUE}})},this._formatter={formatDate:function(f){return Te(f.dateTimeFormat,f.timestamp,f.template)},formatBigNumber:Pe,formatExtendText:function(f){return""}},this._innerFormatter={formatDate:function(f,x,m){return u._formatter.formatDate({dateTimeFormat:u._dateTimeFormat,timestamp:f,template:x,type:m})},formatBigNumber:function(f){return u._formatter.formatBigNumber(f)},formatExtendText:function(f){return u._formatter.formatExtendText(f)}},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(f){return Me(f,u._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(f){return Ie(f,u._decimalFold.threshold)}},this._symbol=null,this._period=null,this._dataList=[],this._dataLoader=null,this._loading=!1,this._dataLoadMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=10,this._offsetRightDistance=80,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole="bar_count",this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._actions=new Map,this._indicators=new Map,this._taskScheduler=new Mi,this._overlays=new Map,this._progressOverlayInfo=null,this._lastPriceMarkExtendTextUpdateTimers=[],this._pressedOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._chart=e,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var l=t??{},c=l.styles,h=l.locale,p=l.timezone,d=l.formatter,g=l.thousandsSeparator,v=l.decimalFold;E(c)&&this.setStyles(c),G(h)&&this.setLocale(h),this.setTimezone(p??""),E(d)&&this.setFormatter(d),E(g)&&this.setThousandsSeparator(g),E(v)&&this.setDecimalFold(v)}return n.prototype.setStyles=function(e){var t,i,r,o,a,s,u=this,l=null;if(l=G(e)?Ji(e):e,K(this._styles,l),Tt((r=(i=(t=l?.candle)===null||t===void 0?void 0:t.tooltip)===null||i===void 0?void 0:i.legend)===null||r===void 0?void 0:r.template)&&(this._styles.candle.tooltip.legend.template=l.candle.tooltip.legend.template),E((s=(a=(o=l?.candle)===null||o===void 0?void 0:o.priceMark)===null||a===void 0?void 0:a.last)===null||s===void 0?void 0:s.extendTexts)){this._clearLastPriceMarkExtendTextUpdateTimer();var c=[];this._styles.candle.priceMark.last.extendTexts.forEach(function(h){var p=h.updateInterval;if(h.show&&p>0&&!c.includes(p)){c.push(p);var d=setInterval(function(){u._chart.updatePane(0,ut)},p);u._lastPriceMarkExtendTextUpdateTimers.push(d)}})}},n.prototype.getStyles=function(){return this._styles},n.prototype.setFormatter=function(e){K(this._formatter,e)},n.prototype.getFormatter=function(){return this._formatter},n.prototype.getInnerFormatter=function(){return this._innerFormatter},n.prototype.setLocale=function(e){this._locale=e},n.prototype.getLocale=function(){return this._locale},n.prototype.setTimezone=function(e){if(!E(this._dateTimeFormat)||this.getTimezone()!==e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};e.length>0&&(t.timeZone=e);var i=null;try{i=new Intl.DateTimeFormat("en",t)}catch{}i!==null&&(this._dateTimeFormat=i)}},n.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},n.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},n.prototype.setThousandsSeparator=function(e){K(this._thousandsSeparator,e)},n.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},n.prototype.setDecimalFold=function(e){K(this._decimalFold,e)},n.prototype.getDecimalFold=function(){return this._decimalFold},n.prototype.setSymbol=function(e){var t=this;this.resetData(function(){t._symbol=D(D({pricePrecision:dt,volumePrecision:fe},t._symbol),e),t._synchronizeIndicatorSeriesPrecision()})},n.prototype.getSymbol=function(){return this._symbol},n.prototype.setPeriod=function(e){var t=this;this.resetData(function(){t._period=e})},n.prototype.getPeriod=function(){return this._period},n.prototype.getDataList=function(){return this._dataList},n.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},n.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},n.prototype._addData=function(e,t,i){var r,o,a=this,s=!1,u=!1,l=0;if(Tt(e)){var c={backward:!1,forward:!1};switch(Gt(i)?(c.backward=i,c.forward=i):(c.backward=(r=i?.backward)!==null&&r!==void 0&&r,c.forward=(o=i?.forward)!==null&&o!==void 0&&o),l=e.length,t){case"init":this._clearData(),this._dataList=e,this._dataLoadMore.backward=c.backward,this._dataLoadMore.forward=c.forward,this.setOffsetRightDistance(this._offsetRightDistance),u=!0;break;case"backward":this._dataList=this._dataList.concat(e),this._dataLoadMore.backward=c.backward,this._lastBarRightSideDiffBarCount-=l,u=l>0;break;case"forward":this._dataList=e.concat(this._dataList),this._dataLoadMore.forward=c.forward,u=l>0}s=!0}else{var h=this._dataList.length,p=e.timestamp,d=nt(this._dataList[h-1],"timestamp",0);if(p>d){this._dataList.push(e);var g=this.getLastBarRightSideDiffBarCount();g<0&&this.setLastBarRightSideDiffBarCount(--g),l=1,s=!0,u=!0}else p===d&&(this._dataList[h-1]=e,s=!0,u=!0)}s&&u&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this.getIndicatorsByFilter({}).forEach(function(v){a._addIndicatorCalcTask(v,t)}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"}))},n.prototype.setDataLoader=function(e){var t=this;this.resetData(function(){t._dataLoader=e})},n.prototype._calcOptimalBarSpace=function(){var e=1-.2*Math.atan(Math.max(4,this._barSpace)-4)/(.5*Math.PI),t=Math.min(Math.floor(this._barSpace*e),Math.floor(this._barSpace));t%2==0&&t+2>=this._barSpace&&--t,this._gapBarSpace=Math.max(1,t)},n.prototype._adjustVisibleRange=function(){var e,t,i=this._dataList.length,r=this._totalBarSpace/this._barSpace,o=0,a=0;this._scrollLimitRole==="distance"?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,a=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,a=this._minVisibleBarCount.right),o=Math.max(0,o),a=Math.max(0,a);var s=r-Math.min(o,i);this._lastBarRightSideDiffBarCount>s&&(this._lastBarRightSideDiffBarCount=s);var u=-i+Math.min(a,i);this._lastBarRightSideDiffBarCount<u&&(this._lastBarRightSideDiffBarCount=u);var l=Math.round(this._lastBarRightSideDiffBarCount+i+.5),c=l;l>i&&(l=i);var h=Math.round(l-r)-1;h<0&&(h=0);var p=this._lastBarRightSideDiffBarCount>0?Math.round(i+this._lastBarRightSideDiffBarCount-r)-1:h;this._visibleRange={from:h,to:l,realFrom:p,realTo:c},this.executeAction("onVisibleRangeChange",this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var d=p;d<c;d++){var g=this._dataList[d],v=this.dataIndexToCoordinate(d);this._visibleRangeDataList.push({dataIndex:d,x:v,data:{prev:(e=this._dataList[d-1])!==null&&e!==void 0?e:g,current:g,next:(t=this._dataList[d+1])!==null&&t!==void 0?t:g}}),E(g)&&(this._visibleRangeHighLowPrice[0].price<g.high&&(this._visibleRangeHighLowPrice[0].price=g.high,this._visibleRangeHighLowPrice[0].x=v),this._visibleRangeHighLowPrice[1].price>g.low&&(this._visibleRangeHighLowPrice[1].price=g.low,this._visibleRangeHighLowPrice[1].x=v))}h===0?this._dataLoadMore.forward&&this._processDataLoad("forward"):l===i&&this._dataLoadMore.backward&&this._processDataLoad("backward")},n.prototype._processDataLoad=function(e){var t,i,r,o,a=this;if(!this._loading&&E(this._dataLoader)&&E(this._symbol)&&E(this._period)){this._loading=!0;var s={type:e,symbol:this._symbol,period:this._period,timestamp:null,callback:function(u,l){var c,h;a._loading=!1,a._addData(u,e,l),e==="init"&&((h=(c=a._dataLoader)===null||c===void 0?void 0:c.subscribeBar)===null||h===void 0||h.call(c,{symbol:a._symbol,period:a._period,callback:function(p){a._addData(p,"update")}}))}};switch(e){case"backward":s.timestamp=(i=(t=this._dataList[this._dataList.length-1])===null||t===void 0?void 0:t.timestamp)!==null&&i!==void 0?i:null;break;case"forward":s.timestamp=(o=(r=this._dataList[0])===null||r===void 0?void 0:r.timestamp)!==null&&o!==void 0?o:null}this._dataLoader.getBars(s)}},n.prototype._processDataUnsubscribe=function(){var e,t;E(this._dataLoader)&&E(this._symbol)&&E(this._period)&&((t=(e=this._dataLoader).unsubscribeBar)===null||t===void 0||t.call(e,{symbol:this._symbol,period:this._period}))},n.prototype.resetData=function(e){this._processDataUnsubscribe(),e?.(),this._loading=!1,this._processDataLoad("init")},n.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},n.prototype.setBarSpace=function(e,t){e<$i||e>Ki||this._barSpace===e||(this._barSpace=e,this._calcOptimalBarSpace(),t?.(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))},n.prototype.setTotalBarSpace=function(e){this._totalBarSpace!==e&&(this._totalBarSpace=e,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},n.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=this._scrollLimitRole==="distance"?Math.min(this._maxOffsetDistance.right,e):e,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,t!=null&&t&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0})),this},n.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},n.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},n.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},n.prototype.setLastBarRightSideDiffBarCount=function(e){this._lastBarRightSideDiffBarCount=e},n.prototype.setMaxOffsetLeftDistance=function(e){this._scrollLimitRole="distance",this._maxOffsetDistance.left=e},n.prototype.setMaxOffsetRightDistance=function(e){this._scrollLimitRole="distance",this._maxOffsetDistance.right=e},n.prototype.setLeftMinVisibleBarCount=function(e){this._scrollLimitRole="bar_count",this._minVisibleBarCount.left=e},n.prototype.setRightMinVisibleBarCount=function(e){this._scrollLimitRole="bar_count",this._minVisibleBarCount.right=e},n.prototype.getVisibleRange=function(){return this._visibleRange},n.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},n.prototype.scroll=function(e){if(this._scrollEnabled){var t=e/this._barSpace,i=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0});var r=Math.round(i-this._lastBarRightSideDiffBarCount*this._barSpace);r!==0&&this.executeAction("onScroll",{distance:r})}},n.prototype.getDataByDataIndex=function(e){var t;return(t=this._dataList[e])!==null&&t!==void 0?t:null},n.prototype.coordinateToFloatIndex=function(e){var t=this._dataList.length,i=(this._totalBarSpace-e)/this._barSpace,r=t+this._lastBarRightSideDiffBarCount-i;return Math.round(1e6*r)/1e6},n.prototype.dataIndexToTimestamp=function(e){var t=this._dataList.length;if(t===0)return null;var i=this.getDataByDataIndex(e);if(E(i))return i.timestamp;if(E(this._period)){var r=t-1,o=null,a=0;if(e>r?(o=this._dataList[r].timestamp,a=e-r):e<0&&(o=this._dataList[0].timestamp,a=e),W(o)){var s=this._period,u=s.type,l=s.span;switch(u){case"second":return o+1e3*l*a;case"minute":return o+60*l*1e3*a;case"hour":return o+60*l*60*1e3*a;case"day":return o+24*l*60*60*1e3*a;case"week":return o+7*l*24*60*60*1e3*a;case"month":var c=(p=new Date(o)).getDate();p.setDate(1),p.setMonth(p.getMonth()+l*a);var h=new Date(p.getFullYear(),p.getMonth()+1,0).getDate();return p.setDate(Math.min(c,h)),p.getTime();case"year":var p;return(p=new Date(o)).setFullYear(p.getFullYear()+l*a),p.getTime()}}}return null},n.prototype.timestampToDataIndex=function(e){var t=this._dataList.length;if(t===0)return 0;if(E(this._period)){var i=null,r=0,o=t-1,a=this._dataList[o].timestamp;e>a&&(i=a,r=o);var s=this._dataList[0].timestamp;if(e<s&&(i=s,r=0),W(i)){var u=this._period,l=u.type,c=u.span;switch(l){case"second":return r+Math.floor((e-i)/(1e3*c));case"minute":return r+Math.floor((e-i)/(60*c*1e3));case"hour":return r+Math.floor((e-i)/(60*c*60*1e3));case"day":return r+Math.floor((e-i)/(24*c*60*60*1e3));case"week":return r+Math.floor((e-i)/(7*c*24*60*60*1e3));case"month":var h=new Date(i),p=new Date(e),d=h.getFullYear(),g=p.getFullYear(),v=h.getMonth(),f=p.getMonth();return r+Math.floor((12*(g-d)+(f-v))/c);case"year":return d=new Date(i).getFullYear(),g=new Date(e).getFullYear(),r+Math.floor((g-d)/c)}}}return ve(this._dataList,"timestamp",e)},n.prototype.dataIndexToCoordinate=function(e){var t=this._dataList.length+this._lastBarRightSideDiffBarCount-e;return Math.floor(this._totalBarSpace-(t-.5)*this._barSpace+.5)},n.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},n.prototype.zoom=function(e,t){var i,r=this;if(this._zoomEnabled){var o=t??null;W(o?.x)||(o={x:(i=this._crosshair.x)!==null&&i!==void 0?i:this._totalBarSpace/2});var a=o.x,s=this.coordinateToFloatIndex(a),u=this._barSpace,l=this._barSpace+e*(this._barSpace/10);this.setBarSpace(l,function(){r._lastBarRightSideDiffBarCount+=s-r.coordinateToFloatIndex(a)});var c=this._barSpace/u;c!==1&&this.executeAction("onZoom",{scale:c})}},n.prototype.setZoomEnabled=function(e){this._zoomEnabled=e},n.prototype.isZoomEnabled=function(){return this._zoomEnabled},n.prototype.setScrollEnabled=function(e){this._scrollEnabled=e},n.prototype.isScrollEnabled=function(){return this._scrollEnabled},n.prototype.setCrosshair=function(e,t){var i,r=t??{},o=r.notInvalidate,a=r.notExecuteAction,s=r.forceInvalidate,u=e??{},l=0,c=0;c=W(u.x)?(l=this.coordinateToDataIndex(u.x))<0?0:l>this._dataList.length-1?this._dataList.length-1:l:l=this._dataList.length-1;var h=this._dataList[c],p=this.dataIndexToCoordinate(l),d=this._crosshair.x,g=this._crosshair.y,v=this._crosshair.paneId;this._crosshair=D(D({},u),{realX:p,kLineData:h,realDataIndex:l,dataIndex:c,timestamp:(i=this.dataIndexToTimestamp(l))!==null&&i!==void 0?i:void 0}),(d!==u.x||g!==u.y||v!==u.paneId||s!=null&&s)&&(E(h)&&(a==null||!a)&&this.hasAction("onCrosshairChange")&&G(this._crosshair.paneId)&&this.executeAction("onCrosshairChange",e),o!=null&&o||this._chart.updatePane(1))},n.prototype.getCrosshair=function(){return this._crosshair},n.prototype.executeAction=function(e,t){var i;(i=this._actions.get(e))===null||i===void 0||i.execute(t)},n.prototype.subscribeAction=function(e,t){var i;this._actions.has(e)||this._actions.set(e,new Ii),(i=this._actions.get(e))===null||i===void 0||i.subscribe(t)},n.prototype.unsubscribeAction=function(e,t){var i=this._actions.get(e);E(i)&&(i.unsubscribe(t),i.isEmpty()&&this._actions.delete(e))},n.prototype.hasAction=function(e){var t=this._actions.get(e);return E(t)&&!t.isEmpty()},n.prototype._sortIndicators=function(e){var t;G(e)?(t=this._indicators.get(e))===null||t===void 0||t.sort(function(i,r){return i.zLevel-r.zLevel}):this._indicators.forEach(function(i){i.sort(function(r,o){return r.zLevel-o.zLevel})})},n.prototype._addIndicatorCalcTask=function(e,t){var i,r=this;(i=e.onDataStateChange)===null||i===void 0||i.call(e,{state:"loading",type:t,indicator:e}),this._taskScheduler.add({id:Re(e.id),handler:function(){return Kt(r,void 0,void 0,function(){return te(this,function(o){switch(o.label){case 0:return[4,e.calcImp(this._dataList).then(function(a){return a})];case 1:return[2,o.sent()]}})})}}).then(function(o){var a;o&&(r._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"}),(a=e.onDataStateChange)===null||a===void 0||a.call(e,{state:"ready",type:t,indicator:e}))}).catch(function(o){var a;o!=="canceled"&&((a=e.onDataStateChange)===null||a===void 0||a.call(e,{state:"error",type:t,indicator:e}))})},n.prototype.addIndicator=function(e,t,i){var r=e.name;if(this.getIndicatorsByFilter(e).length>0)return!1;var o=this.getIndicatorsByPaneId(t),a=new(Ve(r));return this._synchronizeIndicatorSeriesPrecision(a),a.paneId=t,a.override(e),i||(this.removeIndicator({paneId:t}),o=[]),o.push(a),this._indicators.set(t,o),this._sortIndicators(t),this._addIndicatorCalcTask(a,"init"),!0},n.prototype.getIndicatorsByPaneId=function(e){var t;return(t=this._indicators.get(e))!==null&&t!==void 0?t:[]},n.prototype.getIndicatorsByFilter=function(e){var t=e.paneId,i=e.name,r=e.id,o=function(s){return E(r)?s.id===r:!E(i)||s.name===i},a=[];return E(t)?a=a.concat(this.getIndicatorsByPaneId(t).filter(o)):this._indicators.forEach(function(s){a=a.concat(s.filter(o))}),a},n.prototype.removeIndicator=function(e){var t=this,i=!1;return this.getIndicatorsByFilter(e).forEach(function(r){var o=t.getIndicatorsByPaneId(r.paneId),a=o.findIndex(function(s){return s.id===r.id});a>-1&&(t._taskScheduler.remove(Re(r.id)),o.splice(a,1),i=!0),o.length===0&&t._indicators.delete(r.paneId)}),i},n.prototype.hasIndicators=function(e){return this._indicators.has(e)},n.prototype._synchronizeIndicatorSeriesPrecision=function(e){if(E(this._symbol)){var t=this._symbol,i=t.pricePrecision,r=i===void 0?dt:i,o=t.volumePrecision,a=o===void 0?fe:o,s=function(u){switch(u.series){case"price":u.setSeriesPrecision(r);break;case"volume":u.setSeriesPrecision(a)}};E(e)?s(e):this._indicators.forEach(function(u){u.forEach(function(l){s(l)})})}},n.prototype.overrideIndicator=function(e){var t=this,i=!1,r=!1;return this.getIndicatorsByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdateImp(),s=a.calc,u=a.draw;a.sort&&(r=!0),s?t._addIndicatorCalcTask(o,"update"):u&&(i=!0)}),r&&this._sortIndicators(),!!i&&(this._chart.layout({update:!0}),!0)},n.prototype.getOverlaysByFilter=function(e){var t,i=e.id,r=e.groupId,o=e.paneId,a=e.name,s=function(c){return E(i)?c.id===i:E(r)?c.groupId===r&&(!E(a)||c.name===a):!E(a)||c.name===a},u=[];E(o)?u=u.concat(this.getOverlaysByPaneId(o).filter(s)):this._overlays.forEach(function(c){u=u.concat(c.filter(s))});var l=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return E(l)&&s(l)&&u.push(l),u},n.prototype.getOverlaysByPaneId=function(e){var t;if(!G(e)){var i=[];return this._overlays.forEach(function(r){i=i.concat(r)}),i}return(t=this._overlays.get(e))!==null&&t!==void 0?t:[]},n.prototype._sortOverlays=function(e){var t;G(e)?(t=this._overlays.get(e))===null||t===void 0||t.sort(function(i,r){return i.zLevel-r.zLevel}):this._overlays.forEach(function(i){i.sort(function(r,o){return r.zLevel-o.zLevel})})},n.prototype.addOverlays=function(e,t){var i=this,r=[],o=e.map(function(a,s){var u,l,c,h,p,d,g,v;if(E(a.id)){var f=null;try{for(var x=mt(i._overlays),m=x.next();!m.done;m=x.next())if(E(w=m.value[1].find(function(S){return S.id===a.id}))){f=w;break}}catch(S){u={error:S}}finally{try{m&&!m.done&&(l=x.return)&&l.call(x)}finally{if(u)throw u.error}}if(E(f))return a.id}var y=Qi(a.name);if(E(y)){var b=(c=a.id)!==null&&c!==void 0?c:ne("overlay_"),w=new y,C=(h=a.paneId)!==null&&h!==void 0?h:ut;a.id=b,(p=a.groupId)!==null&&p!==void 0||(a.groupId=b);var _=i.getOverlaysByPaneId(C).length;return(d=a.zLevel)!==null&&d!==void 0||(a.zLevel=_),w.override(a),r.includes(C)||r.push(C),w.isDrawing()?i._progressOverlayInfo={paneId:C,overlay:w,appointPaneFlag:t[s]}:(i._overlays.has(C)||i._overlays.set(C,[]),(g=i._overlays.get(C))===null||g===void 0||g.push(w)),w.isStart()&&((v=w.onDrawStart)===null||v===void 0||v.call(w,{overlay:w,chart:i._chart})),b}return null});return r.length>0&&(this._sortOverlays(),r.forEach(function(a){i._chart.updatePane(1,a)}),this._chart.updatePane(1,it)),o},n.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},n.prototype.progressOverlayComplete=function(){var e;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,i=t.overlay,r=t.paneId;i.isDrawing()||(this._overlays.has(r)||this._overlays.set(r,[]),(e=this._overlays.get(r))===null||e===void 0||e.push(i),this._sortOverlays(r),this._progressOverlayInfo=null)}},n.prototype.updateProgressOverlayInfo=function(e,t){this._progressOverlayInfo!==null&&(Gt(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=e,this._progressOverlayInfo.overlay.override({paneId:e}))},n.prototype.overrideOverlay=function(e){var t=this,i=!1,r=[];return this.getOverlaysByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdate(),s=a.sort,u=a.draw;s&&(i=!0),(s||u)&&(r.includes(o.paneId)||r.push(o.paneId))}),i&&this._sortOverlays(),r.length>0&&(r.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,it),!0)},n.prototype.removeOverlay=function(e){var t=this,i=[];return this.getOverlaysByFilter(e).forEach(function(r){var o,a=r.paneId,s=t.getOverlaysByPaneId(r.paneId);if((o=r.onRemoved)===null||o===void 0||o.call(r,{overlay:r,chart:t._chart}),i.includes(a)||i.push(a),r.isDrawing())t._progressOverlayInfo=null;else{var u=s.findIndex(function(l){return l.id===r.id});u>-1&&s.splice(u,1)}s.length===0&&t._overlays.delete(a)}),i.length>0&&(i.forEach(function(r){t._chart.updatePane(1,r)}),this._chart.updatePane(1,it),!0)},n.prototype.setPressedOverlayInfo=function(e){this._pressedOverlayInfo=e},n.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},n.prototype.setHoverOverlayInfo=function(e,t,i){var r=this._hoverOverlayInfo,o=r.overlay,a=r.figureType,s=r.figureIndex,u=r.figure,l=e.overlay;if((o?.id!==l?.id||a!==e.figureType||s!==e.figureIndex)&&(this._hoverOverlayInfo=e,o?.id!==l?.id)){var c=!1,h=!1;o!==null&&(o.override({zLevel:o.getPrevZLevel()}),h=!0,i(o,u)&&(c=!0)),l!==null&&(l.setPrevZLevel(l.zLevel),l.override({zLevel:Number.MAX_SAFE_INTEGER}),h=!0,t(l,e.figure)&&(c=!0)),h&&this._sortOverlays(),c||this._chart.updatePane(1)}},n.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},n.prototype.setClickOverlayInfo=function(e,t,i){var r=this._clickOverlayInfo,o=r.paneId,a=r.overlay,s=r.figureType,u=r.figure,l=r.figureIndex,c=e.overlay;a?.id===c?.id&&s===e.figureType&&l===e.figureIndex||(this._clickOverlayInfo=e,a?.id!==c?.id&&(E(a)&&i(a,u),E(c)&&t(c,e.figure),this._chart.updatePane(1,e.paneId),o!==e.paneId&&this._chart.updatePane(1,o),this._chart.updatePane(1,it)))},n.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},n.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},n.prototype.isOverlayDrawing=function(){var e,t;return(t=(e=this._progressOverlayInfo)===null||e===void 0?void 0:e.overlay.isDrawing())!==null&&t!==void 0&&t},n.prototype._clearLastPriceMarkExtendTextUpdateTimer=function(){this._lastPriceMarkExtendTextUpdateTimers.forEach(function(e){clearInterval(e)}),this._lastPriceMarkExtendTextUpdateTimers=[]},n.prototype._clearData=function(){this._dataLoadMore.backward=!1,this._dataLoadMore.forward=!1,this._loading=!1,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._crosshair={}},n.prototype.getChart=function(){return this._chart},n.prototype.destroy=function(){this._clearData(),this._clearLastPriceMarkExtendTextUpdateTimer(),this._taskScheduler.clear(),this._overlays.clear(),this._indicators.clear(),this._actions.clear()},n}(),pt="main",At="xAxis",Pt="yAxis",qt="separator",Ze=function(){function n(e,t){var i=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=-1,this._mediaQueryListener=function(){var r=Rt(i._element);i._nextPixelWidth=Math.round(i._element.clientWidth*r),i._nextPixelHeight=Math.round(i._element.clientHeight*r),i._resetPixelRatio()},this._listener=t,this._element=Dt("canvas",e),this._ctx=this._element.getContext("2d"),function(){return Kt(this,void 0,void 0,function(){return te(this,function(r){switch(r.label){case 0:return[4,new Promise(function(o){var a=new ResizeObserver(function(s){o(s.every(function(u){return"devicePixelContentBoxSize"in u})),a.disconnect()});a.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,r.sent()]}})})}().then(function(r){i._supportedDevicePixelContentBox=r,r?(i._resizeObserver=new ResizeObserver(function(o){var a=o.find(function(u){return u.target===i._element}),s=a?.devicePixelContentBoxSize[0];E(s)&&(i._nextPixelWidth=s.inlineSize,i._nextPixelHeight=s.blockSize,i._pixelWidth===i._nextPixelWidth&&i._pixelHeight===i._nextPixelHeight||i._resetPixelRatio())}),i._resizeObserver.observe(i._element,{box:"device-pixel-content-box"})):(i._mediaQueryList=window.matchMedia("(resolution: ".concat(Rt(i._element),"dppx)")),i._mediaQueryList.addListener(i._mediaQueryListener))}).catch(function(r){return!1})}return n.prototype._resetPixelRatio=function(){var e=this;this._executeListener(function(){var t=e._element.clientWidth,i=e._element.clientHeight;e._width=t,e._height=i,e._pixelWidth=e._nextPixelWidth,e._pixelHeight=e._nextPixelHeight,e._element.width=e._nextPixelWidth,e._element.height=e._nextPixelHeight;var r=e._nextPixelWidth/t,o=e._nextPixelHeight/i;e._ctx.scale(r,o)})},n.prototype._executeListener=function(e){var t=this;this._requestAnimationId===-1&&(this._requestAnimationId=re(function(){t._ctx.clearRect(0,0,t._width,t._height),e?.(),t._listener(),t._requestAnimationId=-1}))},n.prototype.update=function(e,t){if(this._width!==e||this._height!==t){if(this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var i=Rt(this._element);this._nextPixelWidth=Math.round(e*i),this._nextPixelHeight=Math.round(t*i),this._resetPixelRatio()}}else this._executeListener()},n.prototype.getElement=function(){return this._element},n.prototype.getContext=function(){return this._ctx},n.prototype.destroy=function(){E(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),E(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},n}(),qe=function(n){function e(t,i){var r=n.call(this)||this;return r._bounding=ie(),r._cursor="crosshair",r._forceCursor=null,r._pane=i,r._rootContainer=t,r._container=r.createContainer(),t.appendChild(r._container),r}return Y(e,n),e.prototype.setBounding=function(t){return K(this._bounding,t),this},e.prototype.getContainer=function(){return this._container},e.prototype.getBounding=function(){return this._bounding},e.prototype.getPane=function(){return this._pane},e.prototype.checkEventOn=function(t){return!0},e.prototype.setCursor=function(t){G(this._forceCursor)||t!==this._cursor&&(this._cursor=t,this._container.style.cursor=this._cursor)},e.prototype.setForceCursor=function(t){var i;t!==this._forceCursor&&(this._forceCursor=t,this._container.style.cursor=(i=this._forceCursor)!==null&&i!==void 0?i:this._cursor)},e.prototype.getForceCursor=function(){return this._forceCursor},e.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(ye),xe=function(n){function e(t,i){var r=n.call(this,t,i)||this;r._mainCanvas=new Ze({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){r.updateMain(r._mainCanvas.getContext())}),r._overlayCanvas=new Ze({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){r.updateOverlay(r._overlayCanvas.getContext())});var o=r.getContainer();return o.appendChild(r._mainCanvas.getElement()),o.appendChild(r._overlayCanvas.getElement()),r}return Y(e,n),e.prototype.createContainer=function(){return Dt("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},e.prototype.updateImp=function(t,i,r){var o=i.width,a=i.height,s=i.left;t.style.left="".concat(s,"px");var u=r,l=t.clientWidth,c=t.clientHeight;switch(o===l&&a===c||(t.style.width="".concat(o,"px"),t.style.height="".concat(a,"px"),u=3),u){case 0:this._mainCanvas.update(o,a);break;case 1:this._overlayCanvas.update(o,a);break;case 3:case 4:this._mainCanvas.update(o,a),this._overlayCanvas.update(o,a)}},e.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=Dt("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),u=Rt(a);return a.width=r*u,a.height=o*u,s.scale(u,u),s.drawImage(this._mainCanvas.getElement(),0,0,r,o),t&&s.drawImage(this._overlayCanvas.getElement(),0,0,r,o),a},e}(qe);function je(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=mt(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.x,l=s.y,c=s.r,h=n.x-u,p=n.y-l;if(!(h*h+p*p>c*c))return!0}}catch(d){t={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var er={name:"circle",checkEventOn:je,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"fill":s,l=o.color,c=l===void 0?"currentColor":l,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,g=d===void 0?"currentColor":d,v=o.borderStyle,f=v===void 0?"solid":v,x=o.borderDashedValue,m=x===void 0?[2,2]:x,y=!(u!=="fill"&&o.style!=="stroke_fill"||G(c)&&Yt(c));y&&(i.fillStyle=c,a.forEach(function(b){var w=b.x,C=b.y,_=b.r;i.beginPath(),i.arc(w,C,_,0,2*Math.PI),i.closePath(),i.fill()})),(u==="stroke"||o.style==="stroke_fill")&&p>0&&!Yt(g)&&(i.strokeStyle=g,i.lineWidth=p,f==="dashed"?i.setLineDash(m):i.setLineDash([]),a.forEach(function(b){var w=b.x,C=b.y,_=b.r;(!y||_>p)&&(i.beginPath(),i.arc(w,C,_,0,2*Math.PI),i.closePath(),i.stroke())}))})(n,e,t)}};function Qe(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=mt(r),a=o.next();!a.done;a=o.next()){for(var s=a.value,u=!1,l=s.coordinates,c=0,h=l.length-1;c<l.length;h=c++)l[c].y>n.y!=l[h].y>n.y&&n.x<(l[h].x-l[c].x)*(n.y-l[c].y)/(l[h].y-l[c].y)+l[c].x&&(u=!u);if(u)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var ir={name:"polygon",checkEventOn:Qe,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"fill":s,l=o.color,c=l===void 0?"currentColor":l,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,g=d===void 0?"currentColor":d,v=o.borderStyle,f=v===void 0?"solid":v,x=o.borderDashedValue,m=x===void 0?[2,2]:x;u!=="fill"&&o.style!=="stroke_fill"||G(c)&&Yt(c)||(i.fillStyle=c,a.forEach(function(y){var b=y.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var w=1;w<b.length;w++)i.lineTo(b[w].x,b[w].y);i.closePath(),i.fill()})),(u==="stroke"||o.style==="stroke_fill")&&p>0&&!Yt(g)&&(i.strokeStyle=g,i.lineWidth=p,f==="dashed"?i.setLineDash(m):i.setLineDash([]),a.forEach(function(y){var b=y.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var w=1;w<b.length;w++)i.lineTo(b[w].x,b[w].y);i.closePath(),i.stroke()}))})(n,e,t)}};function be(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=mt(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.x,l=s.width;l<4&&(u-=2,l=4);var c=s.y,h=s.height;if(h<4&&(c-=2,h=4),n.x>=u&&n.x<=u+l&&n.y>=c&&n.y<=c+h)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function Je(n,e,t){var i,r=[];r=r.concat(e);var o=t.style,a=o===void 0?"fill":o,s=t.color,u=s===void 0?"transparent":s,l=t.borderSize,c=l===void 0?1:l,h=t.borderColor,p=h===void 0?"transparent":h,d=t.borderStyle,g=d===void 0?"solid":d,v=t.borderRadius,f=v===void 0?0:v,x=t.borderDashedValue,m=x===void 0?[2,2]:x,y=(i=n.roundRect)!==null&&i!==void 0?i:n.rect,b=!(a!=="fill"&&t.style!=="stroke_fill"||G(u)&&Yt(u));if(b&&(n.fillStyle=u,r.forEach(function(_){var S=_.x,P=_.y,T=_.width,k=_.height;n.beginPath(),y.call(n,S,P,T,k,f),n.closePath(),n.fill()})),(a==="stroke"||t.style==="stroke_fill")&&c>0&&!Yt(p)){n.strokeStyle=p,n.fillStyle=p,n.lineWidth=c,g==="dashed"?n.setLineDash(m):n.setLineDash([]);var w=c%2==1?.5:0,C=Math.round(2*w);r.forEach(function(_){var S=_.x,P=_.y,T=_.width,k=_.height;T>2*c&&k>2*c?(n.beginPath(),y.call(n,S+w,P+w,T-C,k-C,f),n.closePath(),n.stroke()):b||n.fillRect(S,P,T,k)})}}var rr={name:"rect",checkEventOn:be,draw:function(n,e,t){Je(n,e,t)}};function $e(n,e){var t=e.size,i=t===void 0?12:t,r=e.paddingLeft,o=r===void 0?0:r,a=e.paddingTop,s=a===void 0?0:a,u=e.paddingRight,l=u===void 0?0:u,c=e.paddingBottom,h=c===void 0?0:c,p=e.weight,d=p===void 0?"normal":p,g=e.family,v=n.x,f=n.y,x=n.text,m=n.align,y=m===void 0?"left":m,b=n.baseline,w=b===void 0?"top":b,C=n.width,_=n.height,S=C??o+wt(x,i,d,g)+l,P=_??s+i+h,T=0;switch(y){case"left":case"start":T=v;break;case"right":case"end":T=v-S;break;default:T=v-S/2}var k=0;switch(w){case"top":case"hanging":k=f;break;case"bottom":case"ideographic":case"alphabetic":k=f-P;break;default:k=f-P/2}return{x:T,y:k,width:S,height:P}}function Ke(n,e,t){var i,r,o=[];o=o.concat(e);try{for(var a=mt(o),s=a.next();!s.done;s=a.next()){var u=$e(s.value,t),l=u.x,c=u.y,h=u.width,p=u.height;if(n.x>=l&&n.x<=l+h&&n.y>=c&&n.y<=c+p)return!0}}catch(d){i={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return!1}var nr={name:"text",checkEventOn:Ke,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.color,u=s===void 0?"currentColor":s,l=o.size,c=l===void 0?12:l,h=o.family,p=o.weight,d=o.paddingLeft,g=d===void 0?0:d,v=o.paddingTop,f=v===void 0?0:v,x=o.paddingRight,m=x===void 0?0:x,y=a.map(function(b){return $e(b,o)});Je(i,y,D(D({},o),{color:o.backgroundColor})),i.textAlign="left",i.textBaseline="top",i.font=Wt(c,p,h),i.fillStyle=u,a.forEach(function(b,w){var C=y[w];i.fillText(b.text,C.x+g,C.y+f,C.width-g-m)})})(n,e,t)}};function ti(n,e){var t,i,r,o,a,s,u=[];u=u.concat(e);try{for(var l=mt(u),c=l.next();!c.done;c=l.next()){var h=c.value;if(Math.abs((o=h,a=void 0,s=void 0,a=(r=n).x-o.x,s=r.y-o.y,Math.sqrt(a*a+s*s)-h.r))<2){var p=h.r,d=h.startAngle,g=h.endAngle,v=p*Math.cos(d)+h.x,f=p*Math.sin(d)+h.y,x=p*Math.cos(g)+h.x,m=p*Math.sin(g)+h.y;if(n.x<=Math.max(v,x)+2&&n.x>=Math.min(v,x)-2&&n.y<=Math.max(f,m)+2&&n.y>=Math.min(f,m)-2)return!0}}}catch(y){t={error:y}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return!1}var or={name:"arc",checkEventOn:ti,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"solid":s,l=o.size,c=l===void 0?1:l,h=o.color,p=h===void 0?"currentColor":h,d=o.dashedValue,g=d===void 0?[2,2]:d;i.lineWidth=c,i.strokeStyle=p,u==="dashed"?i.setLineDash(g):i.setLineDash([]),a.forEach(function(v){var f=v.x,x=v.y,m=v.r,y=v.startAngle,b=v.endAngle;i.beginPath(),i.arc(f,x,m,y,b),i.stroke(),i.closePath()})})(n,e,t)}};function ei(n,e,t,i,r,o,a){var s=Nt(i,7),u=s[0],l=s[1],c=s[2],h=s[3],p=s[4],d=s[5],g=s[6],v=function(f,x,m,y,b,w,C,_,S){for(var P=function(B,R,N,z,j,ot,Z,H,tt){var $=j*Math.PI/180,q=(B-H)/2,Q=(R-tt)/2,X=Math.cos($)*q+Math.sin($)*Q,U=-Math.sin($)*q+Math.cos($)*Q,J=Math.pow(X,2)/Math.pow(N,2)+Math.pow(U,2)/Math.pow(z,2);J>1&&(N*=Math.sqrt(J),z*=Math.sqrt(J));var et=ot===Z?-1:1,ct=Math.pow(N,2)*Math.pow(z,2)-Math.pow(N,2)*Math.pow(U,2)-Math.pow(z,2)*Math.pow(X,2),vt=Math.pow(N,2)*Math.pow(U,2)+Math.pow(z,2)*Math.pow(X,2),at=et*Math.sqrt(Math.abs(ct/vt))*(N*U/z),st=et*Math.sqrt(Math.abs(ct/vt))*(-z*X/N),Et=Math.cos($)*at-Math.sin($)*st+(B+H)/2,ft=Math.sin($)*at+Math.cos($)*st+(R+tt)/2,_t=Math.atan2((U-st)/z,(X-at)/N),gt=Math.atan2((-U-st)/z,(-X-at)/N)-_t;return gt<0&&Z===1?gt+=2*Math.PI:gt>0&&Z===0&&(gt-=2*Math.PI),{cx:Et,cy:ft,startAngle:_t,deltaAngle:gt}}(f,x,m,y,b,w,C,_,S),T=P.cx,k=P.cy,O=P.startAngle,A=P.deltaAngle,F=[],L=Math.ceil(Math.abs(A)/(Math.PI/2)),I=0;I<L;I++){var M=ar(T,k,m,y,b,O+I*A/L,O+(I+1)*A/L);F.push(M)}return F}(e,t,u,l,c,h,p,a?e+d:d+r,a?t+g:g+o);v.forEach(function(f){n.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5])})}function ar(n,e,t,i,r,o,a){var s=Math.sin(a-o)*(Math.sqrt(4+3*Math.pow(Math.tan((a-o)/2),2))-1)/3,u=Math.cos(r),l=Math.sin(r),c=n+t*Math.cos(o)*u-i*Math.sin(o)*l,h=e+t*Math.cos(o)*l+i*Math.sin(o)*u,p=n+t*Math.cos(a)*u-i*Math.sin(a)*l,d=e+t*Math.cos(a)*l+i*Math.sin(a)*u;return[c+s*(-t*Math.sin(o)*u-i*Math.cos(o)*l),h+s*(-t*Math.sin(o)*l+i*Math.cos(o)*u),p-s*(-t*Math.sin(a)*u-i*Math.cos(a)*l),d-s*(-t*Math.sin(a)*l+i*Math.cos(a)*u),p,d]}var sr={name:"path",checkEventOn:be,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.lineWidth,u=s===void 0?1:s,l=o.color,c=l===void 0?"currentColor":l;i.lineWidth=u,i.strokeStyle=c,i.setLineDash([]),a.forEach(function(h){var p=h.x,d=h.y,g=h.path.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(E(g)){var v=p,f=d;i.beginPath(),g.forEach(function(x){var m=0,y=0,b=0,w=0,C=x[0],_=x.slice(1).trim().split(/[\s,]+/).map(Number);switch(C){case"M":m=_[0]+v,y=_[1]+f,i.moveTo(m,y),b=m,w=y;break;case"m":m+=_[0],y+=_[1],i.moveTo(m,y),b=m,w=y;break;case"L":m=_[0]+v,y=_[1]+f,i.lineTo(m,y);break;case"l":m+=_[0],y+=_[1],i.lineTo(m,y);break;case"H":m=_[0]+v,i.lineTo(m,y);break;case"h":m+=_[0],i.lineTo(m,y);break;case"V":y=_[0]+f,i.lineTo(m,y);break;case"v":y+=_[0],i.lineTo(m,y);break;case"C":i.bezierCurveTo(_[0]+v,_[1]+f,_[2]+v,_[3]+f,_[4]+v,_[5]+f),m=_[4]+v,y=_[5]+f;break;case"c":i.bezierCurveTo(m+_[0],y+_[1],m+_[2],y+_[3],m+_[4],y+_[5]),m+=_[4],y+=_[5];break;case"S":i.bezierCurveTo(m,y,_[0]+v,_[1]+f,_[2]+v,_[3]+f),m=_[2]+v,y=_[3]+f;break;case"s":i.bezierCurveTo(m,y,m+_[0],y+_[1],m+_[2],y+_[3]),m+=_[2],y+=_[3];break;case"Q":i.quadraticCurveTo(_[0]+v,_[1]+f,_[2]+v,_[3]+f),m=_[2]+v,y=_[3]+f;break;case"q":i.quadraticCurveTo(m+_[0],y+_[1],m+_[2],y+_[3]),m+=_[2],y+=_[3];break;case"T":i.quadraticCurveTo(m,y,_[0]+v,_[1]+f),m=_[0]+v,y=_[1]+f;break;case"t":i.quadraticCurveTo(m,y,m+_[0],y+_[1]),m+=_[0],y+=_[1];break;case"A":ei(i,m,y,_,v,f,!1),m=_[5]+v,y=_[6]+f;break;case"a":ei(i,m,y,_,v,f,!0),m+=_[5],y+=_[6];break;case"Z":case"z":i.closePath(),m=b,y=w}}),o.style==="fill"?i.fill():i.stroke()}})})(n,e,t)}},jt={};[er,Ui,ir,rr,nr,or,sr].forEach(function(n){jt[n.name]=Ne.extend(n)});var yt=function(n){function e(t){var i=n.call(this)||this;return i._widget=t,i}return Y(e,n),e.prototype.getWidget=function(){return this._widget},e.prototype.createFigure=function(t,i){var r,o,a=(r=t.name,(o=jt[r])!==null&&o!==void 0?o:null);if(a!==null){var s=new a(t);if(E(i)){for(var u in i)i.hasOwnProperty(u)&&s.registerEvent(u,i[u]);this.addChild(s)}return s}return null},e.prototype.draw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];this.clear(),this.drawImp(t,i)},e.prototype.checkEventOn=function(t){return!0},e}(ye),lr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this.getWidget(),a=this.getWidget().getPane(),s=a.getChart(),u=o.getBounding(),l=s.getStyles().grid;if(l.show){t.save(),t.globalCompositeOperation="destination-over";var c=l.horizontal;if(c.show){var h=a.getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:0,y:d.coord},{x:u.width,y:d.coord}]}});(i=this.createFigure({name:"line",attrs:h,styles:c}))===null||i===void 0||i.draw(t)}var p=l.vertical;p.show&&(h=s.getXAxisPane().getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:d.coord,y:0},{x:d.coord,y:u.height}]}}),(r=this.createFigure({name:"line",attrs:h,styles:p}))===null||r===void 0||r.draw(t)),t.restore()}},e}(yt),ii=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.eachChildren=function(t){for(var i=this.getWidget().getPane().getChart().getChartStore(),r=i.getVisibleRangeDataList(),o=i.getBarSpace(),a=r.length,s=0;s<a;)t(r[s],o,s),++s},e}(yt),ri=function(n){function e(){var t=n.apply(this,ee([],Nt(arguments),!1))||this;return t._boundCandleBarClickEvent=function(i){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction("onCandleBarClick",i),!1}},t}return Y(e,n),e.prototype.drawImp=function(t){var i=this,r=this.getWidget().getPane(),o=r.getId()===ut,a=r.getChart().getChartStore(),s=this.getCandleBarOptions();if(s!==null){var u=s.type,l=s.styles,c=0,h=0;if(s.type==="ohlc"){var p=a.getBarSpace().gapBar;(c=Math.min(Math.max(Math.round(.2*p),1),8))>2&&c%2==1&&c--,h=Math.floor(c/2)}var d=r.getAxisComponent();this.eachChildren(function(g,v){var f,x=g.x,m=g.data,y=m.current,b=m.prev;if(E(y)){var w=y.open,C=y.high,_=y.low,S=y.close,P=l.compareRule==="current_open"?w:(f=b?.close)!==null&&f!==void 0?f:S,T=[];S>P?(T[0]=l.upColor,T[1]=l.upBorderColor,T[2]=l.upWickColor):S<P?(T[0]=l.downColor,T[1]=l.downBorderColor,T[2]=l.downWickColor):(T[0]=l.noChangeColor,T[1]=l.noChangeBorderColor,T[2]=l.noChangeWickColor);var k=d.convertToPixel(w),O=d.convertToPixel(S),A=[k,O,d.convertToPixel(C),d.convertToPixel(_)];A.sort(function(I,M){return I-M});var F=v.gapBar%2==0?1:0,L=[];switch(u){case"candle_solid":L=i._createSolidBar(x,A,v,T,F);break;case"candle_stroke":L=i._createStrokeBar(x,A,v,T,F);break;case"candle_up_stroke":L=S>w?i._createStrokeBar(x,A,v,T,F):i._createSolidBar(x,A,v,T,F);break;case"candle_down_stroke":L=w>S?i._createStrokeBar(x,A,v,T,F):i._createSolidBar(x,A,v,T,F);break;case"ohlc":L=[{name:"rect",attrs:[{x:x-h,y:A[0],width:c,height:A[3]-A[0]},{x:x-v.halfGapBar,y:k+c>A[3]?A[3]-c:k,width:v.halfGapBar-h,height:c},{x:x+h,y:O+c>A[3]?A[3]-c:O,width:v.halfGapBar-h,height:c}],styles:{color:T[0]}}]}L.forEach(function(I){var M,B=null;o&&(B={mouseClickEvent:i._boundCandleBarClickEvent(g)}),(M=i.createFigure(I,B??void 0))===null||M===void 0||M.draw(t)})}})}},e.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},e.prototype._createSolidBar=function(t,i,r,o,a){return[{name:"rect",attrs:{x:t,y:i[0],width:1,height:i[3]-i[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-r.halfGapBar,y:i[1],width:r.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:"stroke_fill",color:o[0],borderColor:o[1]}}]},e.prototype._createStrokeBar=function(t,i,r,o,a){return[{name:"rect",attrs:[{x:t,y:i[0],width:1,height:i[1]-i[0]},{x:t,y:i[2],width:1,height:i[3]-i[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-r.halfGapBar,y:i[1],width:r.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:"stroke",borderColor:o[1]}}]},e}(ii),ur=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getCandleBarOptions=function(){var t,i,r=this.getWidget().getPane();if(!r.getAxisComponent().isInCandle()){var o=r.getChart().getChartStore(),a=o.getIndicatorsByPaneId(r.getId());try{for(var s=mt(a),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.shouldOhlc&&l.visible){var c=l.styles,h=o.getStyles().indicator,p=nt(c,"ohlc.compareRule",h.ohlc.compareRule),d=nt(c,"ohlc.upColor",h.ohlc.upColor),g=nt(c,"ohlc.downColor",h.ohlc.downColor),v=nt(c,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:"ohlc",styles:{compareRule:p,upColor:d,downColor:g,noChangeColor:v,upBorderColor:d,downBorderColor:g,noChangeBorderColor:v,upWickColor:d,downWickColor:g,noChangeWickColor:v}}}}}catch(f){t={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}return null},e.prototype.drawImp=function(t){var i=this;n.prototype.drawImp.call(this,t);var r=this.getWidget(),o=r.getPane(),a=o.getChart(),s=r.getBounding(),u=a.getXAxisPane().getAxisComponent(),l=o.getAxisComponent(),c=a.getChartStore(),h=c.getIndicatorsByPaneId(o.getId()),p=c.getStyles().indicator;t.save(),h.forEach(function(d){if(d.visible){d.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var g=!1;if(d.draw!==null&&(t.save(),g=d.draw({ctx:t,chart:a,indicator:d,bounding:s,xAxis:u,yAxis:l}),t.restore()),!g){var v=d.result,f=[];i.eachChildren(function(x,m){var y,b,w,C,_,S,P,T,k,O,A,F,L,I,M,B=m.halfGapBar,R=x.dataIndex,N=x.x,z=x.data,j=u.convertToPixel(R-1),ot=u.convertToPixel(R+1),Z=(w=v[(b=(y=z.prev)===null||y===void 0?void 0:y.timestamp)!==null&&b!==void 0?b:""])!==null&&w!==void 0?w:{},H=(S=v[(_=(C=z.current)===null||C===void 0?void 0:C.timestamp)!==null&&_!==void 0?_:""])!==null&&S!==void 0?S:{},tt=(k=v[(T=(P=z.next)===null||P===void 0?void 0:P.timestamp)!==null&&T!==void 0?T:""])!==null&&k!==void 0?k:{},$={x:j},q={x:N},Q={x:ot};d.figures.forEach(function(X){var U=X.key,J=Z[U];W(J)&&($[U]=l.convertToPixel(J));var et=H[U];W(et)&&(q[U]=l.convertToPixel(et));var ct=tt[U];W(ct)&&(Q[U]=l.convertToPixel(ct))}),me(d,{prev:(A=(O=z.prev)===null||O===void 0?void 0:O.timestamp)!==null&&A!==void 0?A:null,current:(L=(F=z.current)===null||F===void 0?void 0:F.timestamp)!==null&&L!==void 0?L:null,next:(M=(I=z.next)===null||I===void 0?void 0:I.timestamp)!==null&&M!==void 0?M:null},p,function(X,U,J){var et,ct,vt;if(E(H[X.key])){var at=q[X.key],st=(et=X.attrs)===null||et===void 0?void 0:et.call(X,{data:{prev:Z,current:H,next:tt},coordinate:{prev:$,current:q,next:Q},bounding:s,barSpace:m,xAxis:u,yAxis:l});if(!E(st))switch(X.type){case"circle":st={x:N,y:at,r:Math.max(1,B)};break;case"rect":case"bar":var Et=(ct=X.baseValue)!==null&&ct!==void 0?ct:l.getRange().from,ft=l.convertToPixel(Et),_t=Math.abs(ft-at);Et!==H[X.key]&&(_t=Math.max(1,_t)),st={x:N-B,y:at>ft?ft:at,width:Math.max(1,2*B),height:_t};break;case"line":E(f[J])||(f[J]=[]),W(q[X.key])&&W(Q[X.key])&&f[J].push({coordinates:[{x:q.x,y:q[X.key]},{x:Q.x,y:Q[X.key]}],styles:U})}var gt=X.type;E(st)&&gt!=="line"&&((vt=i.createFigure({name:gt==="bar"?"rect":gt,attrs:st,styles:U}))===null||vt===void 0||vt.draw(t))}})}),f.forEach(function(x){var m,y,b,w;if(x.length>1){for(var C=[{coordinates:[x[0].coordinates[0],x[0].coordinates[1]],styles:x[0].styles}],_=1;_<x.length;_++){var S=C[C.length-1],P=x[_],T=S.coordinates[S.coordinates.length-1];T.x===P.coordinates[0].x&&T.y===P.coordinates[0].y&&S.styles.style===P.styles.style&&S.styles.color===P.styles.color&&S.styles.size===P.styles.size&&S.styles.smooth===P.styles.smooth&&((m=S.styles.dashedValue)===null||m===void 0?void 0:m[0])===((y=P.styles.dashedValue)===null||y===void 0?void 0:y[0])&&((b=S.styles.dashedValue)===null||b===void 0?void 0:b[1])===((w=P.styles.dashedValue)===null||w===void 0?void 0:w[1])?S.coordinates.push(P.coordinates[1]):C.push({coordinates:[P.coordinates[0],P.coordinates[1]],styles:P.styles})}C.forEach(function(k){var O,A=k.coordinates,F=k.styles;(O=i.createFigure({name:"line",attrs:{coordinates:A},styles:F}))===null||O===void 0||O.draw(t)})}})}}}),t.restore()},e}(ri),cr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane(),o=i.getBounding(),a=i.getPane().getChart().getChartStore(),s=a.getCrosshair(),u=a.getStyles().crosshair;if(G(s.paneId)&&u.show){if(s.paneId===r.getId()){var l=s.y;this._drawLine(t,[{x:0,y:l},{x:o.width,y:l}],u.horizontal)}var c=s.realX;this._drawLine(t,[{x:c,y:0},{x:c,y:o.height}],u.vertical)}},e.prototype._drawLine=function(t,i,r){var o;if(r.show){var a=r.line;a.show&&((o=this.createFigure({name:"line",attrs:{coordinates:i},styles:a}))===null||o===void 0||o.draw(t))}},e}(yt),ni=function(n){function e(t){var i=n.call(this,t)||this;return i._activeFeatureInfo=null,i._featureClickEvent=function(r,o){return function(){return i.getWidget().getPane().getChart().getChartStore().executeAction(r,o),!0}},i._featureMouseMoveEvent=function(r){return function(){return i._activeFeatureInfo=r,!0}},i.registerEvent("mouseMoveEvent",function(r){return i._activeFeatureInfo=null,!1}),i}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane().getChart().getChartStore();if(E(r.getCrosshair().kLineData)){var o=i.getBounding(),a=r.getStyles().indicator.tooltip,s=a.offsetLeft,u=a.offsetTop,l=a.offsetRight;this.drawIndicatorTooltip(t,s,u,o.width-l)}},e.prototype.drawIndicatorTooltip=function(t,i,r,o){var a=this,s=this.getWidget().getPane(),u=s.getChart().getChartStore(),l=u.getStyles().indicator.tooltip;if(this.isDrawTooltip(u.getCrosshair(),l)){var c=u.getIndicatorsByPaneId(s.getId()),h=l.title,p=l.legend;c.forEach(function(d){var g=0,v={x:i,y:r},f=a.getIndicatorTooltipData(d),x=f.name,m=f.calcParamsText,y=f.legends,b=f.features,w=x.length>0,C=y.length>0;if(w||C){var _=a.classifyTooltipFeatures(b);if(g=a.drawStandardTooltipFeatures(t,_[0],v,d,i,g,o),w){var S=x;m.length>0&&(S="".concat(S).concat(m));var P=h.color;g=a.drawStandardTooltipLegends(t,[{title:{text:"",color:P},value:{text:S,color:P}}],v,i,g,o,h)}g=a.drawStandardTooltipFeatures(t,_[1],v,d,i,g,o),C&&(g=a.drawStandardTooltipLegends(t,y,v,i,g,o,p)),g=a.drawStandardTooltipFeatures(t,_[2],v,d,i,g,o),r=v.y+g}})}return r},e.prototype.drawStandardTooltipFeatures=function(t,i,r,o,a,s,u){var l=this;if(i.length>0){var c=0,h=0;i.forEach(function(d){var g=d.marginLeft,v=g===void 0?0:g,f=d.marginTop,x=f===void 0?0:f,m=d.marginRight,y=m===void 0?0:m,b=d.marginBottom,w=b===void 0?0:b,C=d.paddingLeft,_=C===void 0?0:C,S=d.paddingTop,P=S===void 0?0:S,T=d.paddingRight,k=T===void 0?0:T,O=d.paddingBottom,A=O===void 0?0:O,F=d.size,L=F===void 0?0:F,I=d.type,M=d.content,B=0;if(I==="icon_font"){var R=M;t.font=Wt(L,"normal",R.family),B=t.measureText(R.code).width}else B=L;c+=v+_+B+k+y,h=Math.max(h,x+P+L+A+w)}),r.x+c>u?(r.x=a,r.y+=s,s=h):s=Math.max(s,h);var p=this.getWidget().getPane().getId();i.forEach(function(d){var g,v,f,x,m,y=d.marginLeft,b=y===void 0?0:y,w=d.marginTop,C=w===void 0?0:w,_=d.marginRight,S=_===void 0?0:_,P=d.paddingLeft,T=P===void 0?0:P,k=d.paddingTop,O=k===void 0?0:k,A=d.paddingRight,F=A===void 0?0:A,L=d.paddingBottom,I=L===void 0?0:L,M=d.backgroundColor,B=d.activeBackgroundColor,R=d.borderRadius,N=d.size,z=N===void 0?0:N,j=d.color,ot=d.activeColor,Z=d.type,H=d.content,tt=j,$=M;((g=l._activeFeatureInfo)===null||g===void 0?void 0:g.paneId)===p&&((v=l._activeFeatureInfo.indicator)===null||v===void 0?void 0:v.id)===o?.id&&l._activeFeatureInfo.feature.id===d.id&&(tt=ot??j,$=B??M);var q="onCandleTooltipFeatureClick",Q={paneId:p,feature:d};E(o)&&(q="onIndicatorTooltipFeatureClick",Q.indicator=o);var X={mouseClickEvent:l._featureClickEvent(q,Q),mouseMoveEvent:l._featureMouseMoveEvent(Q)},U=0;if(Z==="icon_font"){var J=H;(f=l.createFigure({name:"text",attrs:{text:J.code,x:r.x+b,y:r.y+C},styles:{paddingLeft:T,paddingTop:O,paddingRight:F,paddingBottom:I,borderRadius:R,size:z,family:J.family,color:tt,backgroundColor:$}},X))===null||f===void 0||f.draw(t),U=t.measureText(J.code).width}else{(x=l.createFigure({name:"rect",attrs:{x:r.x+b,y:r.y+C,width:z,height:z},styles:{paddingLeft:T,paddingTop:O,paddingRight:F,paddingBottom:I,color:$}},X))===null||x===void 0||x.draw(t);var et=H;(m=l.createFigure({name:"path",attrs:{path:et.path,x:r.x+b+T,y:r.y+C+O,width:z,height:z},styles:{style:et.style,lineWidth:et.lineWidth,color:tt}}))===null||m===void 0||m.draw(t),U=z}r.x+=b+T+U+F+S})}return s},e.prototype.drawStandardTooltipLegends=function(t,i,r,o,a,s,u){var l=this;if(i.length>0){var c=u.marginLeft,h=u.marginTop,p=u.marginRight,d=u.marginBottom,g=u.size,v=u.family,f=u.weight;t.font=Wt(g,f,v),i.forEach(function(x){var m,y,b=x.title,w=x.value,C=t.measureText(b.text).width,_=C+t.measureText(w.text).width,S=h+g+d;r.x+c+_+p>s?(r.x=o,r.y+=a,a=S):a=Math.max(a,S),b.text.length>0&&((m=l.createFigure({name:"text",attrs:{x:r.x+c,y:r.y+h,text:b.text},styles:{color:b.color,size:g,family:v,weight:f}}))===null||m===void 0||m.draw(t)),(y=l.createFigure({name:"text",attrs:{x:r.x+c+C,y:r.y+h,text:w.text},styles:{color:w.color,size:g,family:v,weight:f}}))===null||y===void 0||y.draw(t),r.x+=c+_+p})}return a},e.prototype.isDrawTooltip=function(t,i){var r=i.showRule;return r==="always"||r==="follow_cross"&&G(t.paneId)},e.prototype.getIndicatorTooltipData=function(t){var i,r,o,a=this.getWidget().getPane().getChart().getChartStore(),s=a.getStyles().indicator,u=s.tooltip,l=u.title,c="",h="";if(l.show&&(l.showName&&(c=t.shortName),l.showParams)){var p=t.calcParams;p.length>0&&(h="(".concat(p.join(","),")"))}var d={name:c,calcParamsText:h,legends:[],features:u.features},g=a.getCrosshair().dataIndex,v=t.result,f=a.getInnerFormatter(),x=a.getDecimalFold(),m=a.getThousandsSeparator(),y=[];if(t.visible){var b=a.getDataList(),w=(i=b[g])!==null&&i!==void 0?i:{},C=(r=b[g-1])!==null&&r!==void 0?r:{},_=v[w.timestamp];E(_)||g!==b.length-1||(_=v[C.timestamp]);var S=u.legend.defaultValue;me(t,{prev:C.timestamp,current:w.timestamp,next:(o=b[g])===null||o===void 0?void 0:o.timestamp},s,function(R,N){if(G(R.title)){var z=N.color,j=_?.[R.key];W(j)&&(j=lt(j,t.precision),t.shouldFormatBigNumber&&(j=f.formatBigNumber(j)),j=x.format(m.format(j))),y.push({title:{text:R.title,color:z},value:{text:j??S,color:z}})}}),d.legends=y}if(ht(t.createTooltipDataSource)){var P=this.getWidget(),T=P.getPane(),k=T.getChart(),O=t.createTooltipDataSource({chart:k,indicator:t,crosshair:a.getCrosshair(),bounding:P.getBounding(),xAxis:T.getChart().getXAxisPane().getAxisComponent(),yAxis:T.getAxisComponent()}),A=O.name,F=O.calcParamsText,L=O.legends,I=O.features;if(l.show&&(G(A)&&l.showName&&(d.name=A),G(F)&&l.showParams&&(d.calcParamsText=F)),E(I)&&(d.features=I),E(L)&&t.visible){var M=[],B=s.tooltip.legend.color;L.forEach(function(R){var N={text:"",color:B};bt(R.title)?N=R.title:N.text=R.title;var z={text:"",color:B};bt(R.value)?z=R.value:z.text=R.value,W(Number(z.text))&&(z.text=x.format(m.format(z.text))),M.push({title:N,value:z})}),d.legends=M}}return d},e.prototype.classifyTooltipFeatures=function(t){var i=[],r=[],o=[];return t.forEach(function(a){switch(a.position){case"left":i.push(a);break;case"middle":r.push(a);break;case"right":o.push(a)}}),[i,r,o]},e}(yt),oi=function(n){function e(t){var i=n.call(this,t)||this;return i._initEvent(),i}return Y(e,n),e.prototype._initEvent=function(){var t=this,i=this.getWidget(),r=i.getPane(),o=r.getId(),a=r.getChart(),s=a.getChartStore();this.registerEvent("mouseMoveEvent",function(u){var l,c=s.getProgressOverlayInfo();if(c!==null){var h=c.overlay,p=c.paneId;h.isStart()&&(s.updateProgressOverlayInfo(o),p=o);var d=h.points.length-1;return h.isDrawing()&&p===o&&(h.eventMoveForDrawing(t._coordinateToPoint(h,u)),(l=h.onDrawing)===null||l===void 0||l.call(h,D({chart:a,overlay:h},u))),t._figureMouseMoveEvent(h,"point",d,{key:"".concat(Ht,"point_").concat(d),type:"circle",attrs:{}})(u)}return s.setHoverOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(g,v){return t._processOverlayMouseEnterEvent(g,v,u)},function(g,v){return t._processOverlayMouseLeaveEvent(g,v,u)}),i.setForceCursor(null),!1}).registerEvent("mouseClickEvent",function(u){var l,c,h=s.getProgressOverlayInfo();if(h!==null){var p=h.overlay,d=h.paneId;p.isStart()&&(s.updateProgressOverlayInfo(o,!0),d=o);var g=p.points.length-1;return p.isDrawing()&&d===o&&(p.eventMoveForDrawing(t._coordinateToPoint(p,u)),(l=p.onDrawing)===null||l===void 0||l.call(p,D({chart:a,overlay:p},u)),p.nextStep(),p.isDrawing()||(s.progressOverlayComplete(),(c=p.onDrawEnd)===null||c===void 0||c.call(p,D({chart:a,overlay:p},u)))),t._figureMouseClickEvent(p,"point",g,{key:"".concat(Ht,"point_").concat(g),type:"circle",attrs:{}})(u)}return s.setClickOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(v,f){return t._processOverlaySelectedEvent(v,f,u)},function(v,f){return t._processOverlayDeselectedEvent(v,f,u)}),!1}).registerEvent("mouseDoubleClickEvent",function(u){var l,c=s.getProgressOverlayInfo();if(c!==null){var h=c.overlay,p=c.paneId;h.isDrawing()&&p===o&&(h.forceComplete(),h.isDrawing()||(s.progressOverlayComplete(),(l=h.onDrawEnd)===null||l===void 0||l.call(h,D({chart:a,overlay:h},u))));var d=h.points.length-1;return t._figureMouseClickEvent(h,"point",d,{key:"".concat(Ht,"point_").concat(d),type:"circle",attrs:{}})(u)}return!1}).registerEvent("mouseRightClickEvent",function(u){var l=s.getProgressOverlayInfo();if(l!==null){var c=l.overlay;if(c.isDrawing()){var h=c.points.length-1;return t._figureMouseRightClickEvent(c,"point",h,{key:"".concat(Ht,"point_").concat(h),type:"circle",attrs:{}})(u)}}return!1}).registerEvent("mouseUpEvent",function(u){var l,c=s.getPressedOverlayInfo(),h=c.overlay,p=c.figure;return h!==null&&Ct("onPressedMoveEnd",p)&&((l=h.onPressedMoveEnd)===null||l===void 0||l.call(h,D({chart:a,overlay:h,figure:p??void 0},u))),s.setPressedOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(u){var l,c=s.getPressedOverlayInfo(),h=c.overlay,p=c.figureType,d=c.figureIndex,g=c.figure;if(h!==null&&Ct("onPressedMoving",g)){if(!h.lock){var v=t._coordinateToPoint(h,u);p==="point"?h.eventPressedPointMove(v,d):h.eventPressedOtherMove(v,t.getWidget().getPane().getChart().getChartStore());var f=!1;(l=h.onPressedMoving)===null||l===void 0||l.call(h,D(D({chart:a,overlay:h,figure:g??void 0},u),{preventDefault:function(){f=!0}})),f?t.getWidget().setForceCursor(null):t.getWidget().setForceCursor("pointer")}return!0}return t.getWidget().setForceCursor(null),!1})},e.prototype._createFigureEvents=function(t,i,r,o){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,i,r,o),mouseDownEvent:this._figureMouseDownEvent(t,i,r,o),mouseClickEvent:this._figureMouseClickEvent(t,i,r,o),mouseRightClickEvent:this._figureMouseRightClickEvent(t,i,r,o),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,i,r,o)}},e.prototype._processOverlayMouseEnterEvent=function(t,i,r){return!(!ht(t.onMouseEnter)||!Ct("onMouseEnter",i))&&(t.onMouseEnter(D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlayMouseLeaveEvent=function(t,i,r){return!(!ht(t.onMouseLeave)||!Ct("onMouseLeave",i))&&(t.onMouseLeave(D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlaySelectedEvent=function(t,i,r){var o;return!!Ct("onSelected",i)&&((o=t.onSelected)===null||o===void 0||o.call(t,D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlayDeselectedEvent=function(t,i,r){var o;return!!Ct("onDeselected",i)&&((o=t.onDeselected)===null||o===void 0||o.call(t,D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._figureMouseMoveEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=!t.isDrawing()&&Ct("onMouseMove",o);if(c){var h=!1;(u=t.onMouseMove)===null||u===void 0||u.call(t,D(D({chart:l.getChart(),overlay:t,figure:o},s),{preventDefault:function(){h=!0}})),h?a.getWidget().setForceCursor(null):a.getWidget().setForceCursor("pointer")}return l.getChart().getChartStore().setHoverOverlayInfo({paneId:l.getId(),overlay:t,figureType:i,figure:o,figureIndex:r},function(p,d){return a._processOverlayMouseEnterEvent(p,d,s)},function(p,d){return a._processOverlayMouseLeaveEvent(p,d,s)}),c}},e.prototype._figureMouseDownEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=l.getId();return t.startPressedMove(a._coordinateToPoint(t,s)),!!Ct("onPressedMoveStart",o)&&((u=t.onPressedMoveStart)===null||u===void 0||u.call(t,D({chart:l.getChart(),overlay:t,figure:o},s)),l.getChart().getChartStore().setPressedOverlayInfo({paneId:c,overlay:t,figureType:i,figureIndex:r,figure:o}),!t.isDrawing())}},e.prototype._figureMouseClickEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=l.getId(),h=!t.isDrawing()&&Ct("onClick",o);return h&&((u=t.onClick)===null||u===void 0||u.call(t,D({chart:a.getWidget().getPane().getChart(),overlay:t,figure:o},s))),l.getChart().getChartStore().setClickOverlayInfo({paneId:c,overlay:t,figureType:i,figureIndex:r,figure:o},function(p,d){return a._processOverlaySelectedEvent(p,d,s)},function(p,d){return a._processOverlayDeselectedEvent(p,d,s)}),h}},e.prototype._figureMouseDoubleClickEvent=function(t,i,r,o){var a=this;return function(s){var u;return!!Ct("onDoubleClick",o)&&((u=t.onDoubleClick)===null||u===void 0||u.call(t,D(D({},s),{chart:a.getWidget().getPane().getChart(),figure:o,overlay:t})),!t.isDrawing())}},e.prototype._figureMouseRightClickEvent=function(t,i,r,o){var a=this;return function(s){var u;if(Ct("onRightClick",o)){var l=!1;return(u=t.onRightClick)===null||u===void 0||u.call(t,D(D({chart:a.getWidget().getPane().getChart(),overlay:t,figure:o},s),{preventDefault:function(){l=!0}})),l||a.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()}return!1}},e.prototype._coordinateToPoint=function(t,i){var r,o={},a=this.getWidget().getPane(),s=a.getChart(),u=a.getId(),l=s.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var c=s.getXAxisPane().getAxisComponent().convertFromPixel(i.x),h=(r=l.dataIndexToTimestamp(c))!==null&&r!==void 0?r:void 0;o.timestamp=h,o.dataIndex=c}if(this.coordinateToPointValueFlag()){var p=a.getAxisComponent(),d=p.convertFromPixel(i.y);if(t.mode!=="normal"&&u===ut&&W(o.dataIndex)){var g=l.getDataByDataIndex(o.dataIndex);if(g!==null){var v=t.modeSensitivity;if(d>g.high)if(t.mode==="weak_magnet"){var f=p.convertToPixel(g.high);d<p.convertFromPixel(f-v)&&(d=g.high)}else d=g.high;else if(d<g.low)if(t.mode==="weak_magnet"){var x=p.convertToPixel(g.low);d>p.convertFromPixel(x-v)&&(d=g.low)}else d=g.low;else{var m=Math.max(g.open,g.close),y=Math.min(g.open,g.close);d=d>m?d-m<g.high-d?m:g.high:d<y?d-g.low<y-d?g.low:y:m-d<d-y?m:y}}}o.value=d}return o},e.prototype.coordinateToPointValueFlag=function(){return!0},e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.dispatchEvent=function(t,i){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,i):n.prototype.dispatchEvent.call(this,t,i)},e.prototype.drawImp=function(t){var i=this;this.getCompleteOverlays().forEach(function(o){o.visible&&i._drawOverlay(t,o)});var r=this.getProgressOverlay();E(r)&&r.visible&&this._drawOverlay(t,r)},e.prototype._drawOverlay=function(t,i){var r=i.points,o=this.getWidget().getPane(),a=o.getChart(),s=a.getChartStore(),u=o.getAxisComponent(),l=a.getXAxisPane().getAxisComponent(),c=r.map(function(p){var d,g=null;W(p.timestamp)&&(g=s.timestampToDataIndex(p.timestamp));var v={x:0,y:0};return W(g)&&(v.x=l.convertToPixel(g)),W(p.value)&&(v.y=(d=u?.convertToPixel(p.value))!==null&&d!==void 0?d:0),v});if(c.length>0){var h=[].concat(this.getFigures(i,c));this.drawFigures(t,i,h)}this.drawDefaultFigures(t,i,c)},e.prototype.drawFigures=function(t,i,r){var o=this,a=this.getWidget().getPane().getChart().getStyles().overlay;r.forEach(function(s,u){var l=s.type,c=s.styles,h=s.attrs;[].concat(h).forEach(function(p){var d,g,v=o._createFigureEvents(i,"other",u,s),f=D(D(D({},a[l]),(d=i.styles)===null||d===void 0?void 0:d[l]),c);(g=o.createFigure({name:l,attrs:p,styles:f},v??void 0))===null||g===void 0||g.draw(t)})})},e.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},e.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),i=t.getChart().getChartStore().getProgressOverlayInfo();return E(i)&&i.paneId===t.getId()?i.overlay:null},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createPointFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e.prototype.drawDefaultFigures=function(t,i,r){var o,a,s=this;if(i.needDefaultPointFigure){var u=this.getWidget().getPane().getChart().getChartStore(),l=u.getHoverOverlayInfo(),c=u.getClickOverlayInfo();if(((o=l.overlay)===null||o===void 0?void 0:o.id)===i.id&&l.figureType!=="none"||((a=c.overlay)===null||a===void 0?void 0:a.id)===i.id&&c.figureType!=="none"){var h=u.getStyles().overlay,p=i.styles,d=D(D({},h.point),p?.point);r.forEach(function(g,v){var f,x,m,y,b,w=g.x,C=g.y,_=d.radius,S=d.color,P=d.borderColor,T=d.borderSize;((f=l.overlay)===null||f===void 0?void 0:f.id)===i.id&&l.figureType==="point"&&((x=l.figure)===null||x===void 0?void 0:x.key)==="".concat(Ht,"point_").concat(v)&&(_=d.activeRadius,S=d.activeColor,P=d.activeBorderColor,T=d.activeBorderSize),(y=s.createFigure({name:"circle",attrs:{x:w,y:C,r:_+T},styles:{color:P}},(m=s._createFigureEvents(i,"point",v,{key:"".concat(Ht,"point_").concat(v),type:"circle",attrs:{x:w,y:C,r:_+T},styles:{color:P}}))!==null&&m!==void 0?m:void 0))===null||y===void 0||y.draw(t),(b=s.createFigure({name:"circle",attrs:{x:w,y:C,r:_},styles:{color:S}}))===null||b===void 0||b.draw(t)})}}},e}(yt),ai=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._gridView=new lr(r),r._indicatorView=new ur(r),r._crosshairLineView=new cr(r),r._tooltipView=r.createTooltipView(),r._overlayView=new oi(r),r.addChild(r._tooltipView),r.addChild(r._overlayView),r}return Y(e,n),e.prototype.getName=function(){return pt},e.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},e.prototype.createTooltipView=function(){return new ni(this)},e.prototype.updateMainContent=function(t){},e.prototype.updateOverlayContent=function(t){},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)},e}(xe),hr=function(n){function e(){var t=n.apply(this,ee([],Nt(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new pe({iterationCount:1/0}).doFrame(function(i){t._animationFrameTime=i;var r=t.getWidget().getPane();r.getChart().updatePane(0,r.getId())}),t}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=u.getDataList().length-1,c=a.getBounding(),h=s.getAxisComponent(),p=u.getStyles().candle.area,d=[],g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,f=null;if(this.eachChildren(function(C){var _=C.x,S=C.data.current,P=S?.[p.value];if(W(P)){var T=h.convertToPixel(P);v===Number.MIN_SAFE_INTEGER&&(v=_),d.push({x:_,y:T}),g=Math.min(g,T),C.dataIndex===l&&(f={x:_,y:T})}}),d.length>0){(i=this.createFigure({name:"line",attrs:{coordinates:d},styles:{color:p.lineColor,size:p.lineSize,smooth:p.smooth}}))===null||i===void 0||i.draw(t);var x=p.backgroundColor,m="";if(Tt(x)){var y=t.createLinearGradient(0,c.height,0,g);try{x.forEach(function(C){var _=C.offset,S=C.color;y.addColorStop(_,S)})}catch{}m=y}else m=x;t.fillStyle=m,t.beginPath(),t.moveTo(v,c.height),t.lineTo(d[0].x,d[0].y),He(t,d,p.smooth),t.lineTo(d[d.length-1].x,c.height),t.closePath(),t.fill()}var b=p.point;if(b.show&&E(f)){(r=this.createFigure({name:"circle",attrs:{x:f.x,y:f.y,r:b.radius},styles:{style:"fill",color:b.color}}))===null||r===void 0||r.draw(t);var w=b.rippleRadius;b.animation&&(w=b.radius+this._animationFrameTime/b.animationDuration*(b.rippleRadius-b.radius),this._animation.setDuration(b.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:f.x,y:f.y,r:w}).setStyles({style:"fill",color:b.rippleColor}).draw(t)}else this.stopAnimation()},e.prototype.stopAnimation=function(){this._animation.stop()},e}(ii),dr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this.getWidget().getPane(),a=o.getChart().getChartStore(),s=a.getStyles().candle.priceMark,u=s.high,l=s.low;if(s.show&&(u.show||l.show)){var c=a.getVisibleRangeHighLowPrice(),h=(r=(i=a.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:dt,p=o.getAxisComponent(),d=c[0],g=d.price,v=d.x,f=c[1],x=f.price,m=f.x,y=p.convertToPixel(g),b=p.convertToPixel(x),w=a.getDecimalFold(),C=a.getThousandsSeparator();u.show&&g!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,w.format(C.format(lt(g,h))),{x:v,y},y<b?[-2,-5]:[2,5],u),l.show&&x!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,w.format(C.format(lt(x,h))),{x:m,y:b},y<b?[2,5]:[-2,-5],l)}},e.prototype._drawMark=function(t,i,r,o,a){var s,u,l,c=r.x,h=r.y+o[0];(s=this.createFigure({name:"line",attrs:{coordinates:[{x:c-2,y:h+o[0]},{x:c,y:h},{x:c+2,y:h+o[0]}]},styles:{color:a.color}}))===null||s===void 0||s.draw(t);var p=0,d=0,g="left";c>this.getWidget().getBounding().width/2?(d=(p=c-5)-a.textOffset,g="right"):(g="left",d=(p=c+5)+a.textOffset);var v=h+o[1];(u=this.createFigure({name:"line",attrs:{coordinates:[{x:c,y:h},{x:c,y:v},{x:p,y:v}]},styles:{color:a.color}}))===null||u===void 0||u.draw(t),(l=this.createFigure({name:"text",attrs:{x:d,y:v,text:i,align:g,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}}))===null||l===void 0||l.draw(t)},e}(yt),pr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a=this.getWidget(),s=a.getPane(),u=a.getBounding(),l=s.getChart().getChartStore(),c=l.getStyles().candle.priceMark,h=c.last,p=h.line;if(c.show&&h.show&&p.show){var d=s.getAxisComponent(),g=l.getDataList(),v=g[g.length-1];if(E(v)){var f=v.close,x=v.open,m=h.compareRule==="current_open"?x:(r=(i=g[g.length-2])===null||i===void 0?void 0:i.close)!==null&&r!==void 0?r:f,y=d.convertToNicePixel(f),b="";b=f>m?h.upColor:f<m?h.downColor:h.noChangeColor,(o=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y},{x:u.width,y}]},styles:{style:p.style,color:b,size:p.size,dashedValue:p.dashedValue}}))===null||o===void 0||o.draw(t)}}},e}(yt),gr={second:"HH:mm:ss",minute:"HH:mm",hour:"MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},si={second:"HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},se={"zh-CN":{time:"\u65F6\u95F4\uFF1A",open:"\u5F00\uFF1A",high:"\u9AD8\uFF1A",low:"\u4F4E\uFF1A",close:"\u6536\uFF1A",volume:"\u6210\u4EA4\u91CF\uFF1A",turnover:"\u6210\u4EA4\u989D\uFF1A",change:"\u6DA8\u5E45\uFF1A",second:"\u79D2",minute:"",hour:"\u5C0F\u65F6",day:"\u5929",week:"\u5468",month:"\u6708",year:"\u5E74"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: ",second:"S",minute:"",hour:"H",day:"D",week:"W",month:"M",year:"Y"}};function li(n,e){var t;return(t=se[e][n])!==null&&t!==void 0?t:n}var vr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane().getChart().getChartStore(),o=r.getCrosshair();if(E(o.kLineData)){var a=i.getBounding(),s=r.getStyles(),u=s.candle,l=s.indicator;if(u.tooltip.showType==="rect"&&l.tooltip.showType==="rect"){var c=this.isDrawTooltip(o,u.tooltip),h=this.isDrawTooltip(o,l.tooltip);this._drawRectTooltip(t,c,h,u.tooltip.offsetTop)}else if(u.tooltip.showType==="standard"&&l.tooltip.showType==="standard"){var p=u.tooltip,d=p.offsetLeft,g=p.offsetTop,v=p.offsetRight,f=a.width-v,x=this._drawCandleStandardTooltip(t,d,g,f);this.drawIndicatorTooltip(t,d,x,f)}else if(u.tooltip.showType==="rect"&&l.tooltip.showType==="standard"){var m=u.tooltip,y=(d=m.offsetLeft,g=m.offsetTop,v=m.offsetRight,f=a.width-v,this.drawIndicatorTooltip(t,d,g,f));c=this.isDrawTooltip(o,u.tooltip),this._drawRectTooltip(t,c,!1,y)}else{var b=u.tooltip,w=(d=b.offsetLeft,g=b.offsetTop,v=b.offsetRight,f=a.width-v,this._drawCandleStandardTooltip(t,d,g,f));h=this.isDrawTooltip(o,l.tooltip),this._drawRectTooltip(t,!1,h,w)}}},e.prototype._drawCandleStandardTooltip=function(t,i,r,o){var a,s=this.getWidget().getPane().getChart().getChartStore(),u=s.getStyles().candle.tooltip,l=u.legend,c=0,h={x:i,y:r},p=s.getCrosshair();if(this.isDrawTooltip(p,u)){var d=u.title;if(d.show){var g=(a=s.getPeriod())!==null&&a!==void 0?a:{},v=g.type,f=v===void 0?"":v,x=g.span,m=x===void 0?"":x,y=De(d.template,D(D({},s.getSymbol()),{period:"".concat(m).concat(li(f,s.getLocale()))})),b=d.color,w=this.drawStandardTooltipLegends(t,[{title:{text:"",color:b},value:{text:y,color:b}}],{x:i,y:r},i,0,o,d);h.y=h.y+w}var C=this._getCandleTooltipLegends(),_=this.classifyTooltipFeatures(u.features);c=this.drawStandardTooltipFeatures(t,_[0],h,null,i,c,o),c=this.drawStandardTooltipFeatures(t,_[1],h,null,i,c,o),C.length>0&&(c=this.drawStandardTooltipLegends(t,C,h,i,c,o,l)),c=this.drawStandardTooltipFeatures(t,_[2],h,null,i,c,o)}return h.y+c},e.prototype._drawRectTooltip=function(t,i,r,o){var a,s,u=this,l=this.getWidget(),c=l.getPane(),h=c.getChart().getChartStore(),p=h.getStyles(),d=p.candle,g=p.indicator,v=d.tooltip,f=g.tooltip;if(i||r){var x=this._getCandleTooltipLegends(),m=v.offsetLeft,y=v.offsetTop,b=v.offsetRight,w=v.offsetBottom,C=v.legend,_=C.marginLeft,S=C.marginRight,P=C.marginTop,T=C.marginBottom,k=C.size,O=C.weight,A=C.family,F=v.rect,L=F.position,I=F.paddingLeft,M=F.paddingRight,B=F.paddingTop,R=F.paddingBottom,N=F.offsetLeft,z=F.offsetRight,j=F.offsetTop,ot=F.offsetBottom,Z=F.borderSize,H=F.borderRadius,tt=F.borderColor,$=F.color,q=0,Q=0,X=0;i&&(t.font=Wt(k,O,A),x.forEach(function(Ft){var St=Ft.title,xt=Ft.value,It="".concat(St.text).concat(xt.text),Bt=t.measureText(It).width+_+S;q=Math.max(q,Bt)}),X+=(T+P+k)*x.length);var U=f.legend,J=U.marginLeft,et=U.marginRight,ct=U.marginTop,vt=U.marginBottom,at=U.size,st=U.weight,Et=U.family,ft=[];if(r){var _t=h.getIndicatorsByPaneId(c.getId());t.font=Wt(at,st,Et),_t.forEach(function(Ft){var St=u.getIndicatorTooltipData(Ft).legends;ft.push(St),St.forEach(function(xt){var It=xt.title,Bt=xt.value,he="".concat(It.text).concat(Bt.text),Gr=t.measureText(he).width+J+et;q=Math.max(q,Gr),X+=ct+vt+at})})}if((Q+=q)!==0&&X!==0){var gt=h.getCrosshair(),ue=l.getBounding(),wi=c.getYAxisWidget().getBounding();Q+=2*Z+I+M,X+=2*Z+B+R;var Yr=ue.width/2,Ci=L==="pointer"&&gt.paneId===ut,Ei=((a=gt.realX)!==null&&a!==void 0?a:0)>Yr,Mt=0;if(Ci){var Si=gt.realX;Mt=Ei?Si-z-Q:Si+N}else{var ce=this.getWidget().getPane().getAxisComponent();Ei?(Mt=N+m,ce.inside&&ce.position==="left"&&(Mt+=wi.width)):(Mt=ue.width-z-Q-b,ce.inside&&ce.position==="right"&&(Mt-=wi.width))}var Xt=o+j;Ci&&((Xt=gt.y-X/2)+X>ue.height-ot-w&&(Xt=ue.height-ot-X-w),Xt<o+j&&(Xt=o+j+y)),(s=this.createFigure({name:"rect",attrs:{x:Mt,y:Xt,width:Q,height:X},styles:{style:"stroke_fill",color:$,borderColor:tt,borderSize:Z,borderRadius:H}}))===null||s===void 0||s.draw(t);var Hr=Mt+Z+I+_,Ot=Xt+Z+B;if(i&&x.forEach(function(Ft){var St,xt;Ot+=P;var It=Ft.title;(St=u.createFigure({name:"text",attrs:{x:Hr,y:Ot,text:It.text},styles:{color:It.color,size:k,family:A,weight:O}}))===null||St===void 0||St.draw(t);var Bt=Ft.value;(xt=u.createFigure({name:"text",attrs:{x:Mt+Q-Z-S-M,y:Ot,text:Bt.text,align:"right"},styles:{color:Bt.color,size:k,family:A,weight:O}}))===null||xt===void 0||xt.draw(t),Ot+=k+T}),r){var Xr=Mt+Z+I+J;ft.forEach(function(Ft){Ft.forEach(function(St){var xt,It;Ot+=ct;var Bt=St.title,he=St.value;(xt=u.createFigure({name:"text",attrs:{x:Xr,y:Ot,text:Bt.text},styles:{color:Bt.color,size:at,family:Et,weight:st}}))===null||xt===void 0||xt.draw(t),(It=u.createFigure({name:"text",attrs:{x:Mt+Q-Z-et-M,y:Ot,text:he.text,align:"right"},styles:{color:he.color,size:at,family:Et,weight:st}}))===null||It===void 0||It.draw(t),Ot+=at+vt})})}}}},e.prototype._getCandleTooltipLegends=function(){var t,i,r,o,a,s,u,l,c=this.getWidget().getPane().getChart().getChartStore(),h=c.getStyles().candle,p=c.getDataList(),d=c.getInnerFormatter(),g=c.getDecimalFold(),v=c.getThousandsSeparator(),f=c.getLocale(),x=(t=c.getSymbol())!==null&&t!==void 0?t:{},m=x.pricePrecision,y=m===void 0?dt:m,b=x.volumePrecision,w=b===void 0?fe:b,C=c.getPeriod(),_=(i=c.getCrosshair().dataIndex)!==null&&i!==void 0?i:0,S=h.tooltip.legend,P=S.color,T=S.defaultValue,k=S.template,O=(r=p[_-1])!==null&&r!==void 0?r:null,A=p[_],F=(o=O?.close)!==null&&o!==void 0?o:A.close,L=A.close-F,I=D(D({},A),{time:d.formatDate(A.timestamp,si[(a=C?.type)!==null&&a!==void 0?a:"day"],"tooltip"),open:g.format(v.format(lt(A.open,y))),high:g.format(v.format(lt(A.high,y))),low:g.format(v.format(lt(A.low,y))),close:g.format(v.format(lt(A.close,y))),volume:g.format(v.format(d.formatBigNumber(lt((s=A.volume)!==null&&s!==void 0?s:T,w)))),turnover:g.format(v.format(lt((u=A.turnover)!==null&&u!==void 0?u:T,y))),change:F===0?T:"".concat(v.format(lt(L/F*100)),"%")});return(ht(k)?k({prev:O,current:A,next:(l=p[_+1])!==null&&l!==void 0?l:null},h):k).map(function(M){var B=M.title,R=M.value,N={text:"",color:P};bt(B)?N=D({},B):N.text=B,N.text=li(N.text,f);var z={text:T,color:P};return bt(R)?z=D({},R):z.text=R,E(/{change}/.exec(z.text))&&(z.color=L===0?h.priceMark.last.noChangeColor:L>0?h.priceMark.last.upColor:h.priceMark.last.downColor),z.text=De(z.text,I),{title:N,value:z}})},e}(ni),fr=function(n){function e(t){var i=n.call(this,t)||this;return i._activeFeatureInfo=null,i._featureClickEvent=function(r){return function(){return i.getWidget().getPane().getChart().getChartStore().executeAction("onCrosshairFeatureClick",r),!0}},i._featureMouseMoveEvent=function(r){return function(){return i._activeFeatureInfo=r,i.getWidget().setForceCursor("pointer"),!0}},i.registerEvent("mouseMoveEvent",function(r){return i._activeFeatureInfo=null,i.getWidget().setForceCursor(null),!1}),i}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this,a=this.getWidget(),s=a.getPane(),u=a.getPane().getChart().getChartStore(),l=u.getCrosshair(),c=this.getWidget(),h=c.getPane().getAxisComponent();if(G(l.paneId)&&l.paneId===s.getId()&&h.isInCandle()){var p=u.getStyles().crosshair,d=p.horizontal.features;if(p.show&&p.horizontal.show&&d.length>0){var g=h.position==="right",v=c.getBounding(),f=0,x=p.horizontal.text;if(h.inside&&x.show){var m=h.convertFromPixel(l.y),y=h.getRange(),b=h.displayValueToText(h.realValueToDisplayValue(h.valueToRealValue(m,{range:y}),{range:y}),(r=(i=u.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:dt);b=u.getDecimalFold().format(u.getThousandsSeparator().format(b)),f=x.paddingLeft+wt(b,x.size,x.weight,x.family)+x.paddingRight}var w=f;g&&(w=v.width-f);var C=l.y;d.forEach(function(_){var S,P,T,k,O=_.marginLeft,A=O===void 0?0:O,F=_.marginTop,L=F===void 0?0:F,I=_.marginRight,M=I===void 0?0:I,B=_.paddingLeft,R=B===void 0?0:B,N=_.paddingTop,z=N===void 0?0:N,j=_.paddingRight,ot=j===void 0?0:j,Z=_.paddingBottom,H=Z===void 0?0:Z,tt=_.color,$=_.activeColor,q=_.backgroundColor,Q=_.activeBackgroundColor,X=_.borderRadius,U=_.size,J=U===void 0?0:U,et=_.type,ct=_.content,vt=J;et==="icon_font"&&(vt=R+wt((ft=ct).code,J,"normal",ft.family)+ot),g?w-=vt+M:w+=A;var at=tt,st=q;((S=o._activeFeatureInfo)===null||S===void 0?void 0:S.feature.id)===_.id&&(at=$??tt,st=Q??q);var Et={mouseClickEvent:o._featureClickEvent({crosshair:l,feature:_}),mouseMoveEvent:o._featureMouseMoveEvent({crosshair:l,feature:_})};if(et==="icon_font"){var ft=ct;(P=o.createFigure({name:"text",attrs:{text:ft.code,x:w,y:C+L,baseline:"middle"},styles:{paddingLeft:R,paddingTop:z,paddingRight:ot,paddingBottom:H,borderRadius:X,size:J,family:ft.family,color:at,backgroundColor:st}},Et))===null||P===void 0||P.draw(t)}else{(T=o.createFigure({name:"rect",attrs:{x:w,y:C+L-J/2,width:J,height:J},styles:{paddingLeft:R,paddingTop:z,paddingRight:ot,paddingBottom:H,color:st}},Et))===null||T===void 0||T.draw(t);var _t=ct;(k=o.createFigure({name:"path",attrs:{path:_t.path,x:w,y:C+L+z-J/2,width:J,height:J},styles:{style:_t.style,lineWidth:_t.lineWidth,color:at}}))===null||k===void 0||k.draw(t)}g?w-=A:w+=vt+M})}}},e}(yt),mr=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._candleBarView=new ri(r),r._candleAreaView=new hr(r),r._candleHighLowPriceView=new dr(r),r._candleLastPriceLineView=new pr(r),r._crosshairFeatureView=new fr(r),r.addChild(r._candleBarView),r.addChild(r._crosshairFeatureView),r}return Y(e,n),e.prototype.updateMainContent=function(t){this.getPane().getChart().getStyles().candle.type!=="area"?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},e.prototype.updateOverlayContent=function(t){this._crosshairFeatureView.draw(t)},e.prototype.createTooltipView=function(){return new vr(this)},e}(ai),ui=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t,i){var r,o,a=this,s=this.getWidget(),u=s.getPane(),l=s.getBounding(),c=u.getAxisComponent(),h=this.getAxisStyles(u.getChart().getStyles());if(h.show&&(h.axisLine.show&&((r=this.createFigure({name:"line",attrs:this.createAxisLine(l,h),styles:h.axisLine}))===null||r===void 0||r.draw(t)),!i[0])){var p=c.getTicks();if(h.tickLine.show&&this.createTickLines(p,l,h).forEach(function(g){var v;(v=a.createFigure({name:"line",attrs:g,styles:h.tickLine}))===null||v===void 0||v.draw(t)}),h.tickText.show){var d=this.createTickTexts(p,l,h);(o=this.createFigure({name:"text",attrs:d,styles:h.tickText}))===null||o===void 0||o.draw(t)}}},e}(yt),yr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getAxisStyles=function(t){return t.yAxis},e.prototype.createAxisLine=function(t,i){var r=this.getWidget().getPane().getAxisComponent(),o=i.axisLine.size,a=0;return{coordinates:[{x:a=r.isFromZero()?0:t.width-o,y:0},{x:a,y:t.height}]}},e.prototype.createTickLines=function(t,i,r){var o=this.getWidget().getPane().getAxisComponent(),a=r.axisLine,s=r.tickLine,u=0,l=0;return o.isFromZero()?(u=0,a.show&&(u+=a.size),l=u+s.length):(u=i.width,a.show&&(u-=a.size),l=u-s.length),t.map(function(c){return{coordinates:[{x:u,y:c.coord},{x:l,y:c.coord}]}})},e.prototype.createTickTexts=function(t,i,r){var o=this.getWidget().getPane().getAxisComponent(),a=r.axisLine,s=r.tickLine,u=r.tickText,l=0;o.isFromZero()?(l=u.marginStart,a.show&&(l+=a.size),s.show&&(l+=s.length)):(l=i.width-u.marginEnd,a.show&&(l-=a.size),s.show&&(l-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(h){return{x:l,y:h.coord,text:h.text,align:c,baseline:"middle"}})},e}(ui),_r=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a,s=this,u=this.getWidget(),l=u.getPane(),c=u.getBounding(),h=l.getChart().getChartStore(),p=h.getStyles().candle.priceMark,d=p.last,g=d.text;if(p.show&&d.show&&g.show){var v=(r=(i=h.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:dt,f=l.getAxisComponent(),x=h.getDataList(),m=x[x.length-1];if(E(m)){var y=m.close,b=m.open,w=d.compareRule==="current_open"?b:(a=(o=x[x.length-2])===null||o===void 0?void 0:o.close)!==null&&a!==void 0?a:y,C=f.convertToNicePixel(y),_="";_=y>w?d.upColor:y<w?d.downColor:d.noChangeColor;var S=0,P="left";f.isFromZero()?(S=0,P="left"):(S=c.width,P="right");var T=[],k=f.getRange(),O=f.displayValueToText(f.realValueToDisplayValue(f.valueToRealValue(y,{range:k}),{range:k}),v);O=h.getDecimalFold().format(h.getThousandsSeparator().format(O));var A=g.paddingLeft,F=g.paddingRight,L=g.paddingTop,I=g.paddingBottom,M=g.size,B=g.family,R=A+wt(O,M,g.weight,B)+F,N=L+M+I;T.push({name:"text",attrs:{x:S,y:C,width:R,height:N,text:O,align:P,baseline:"middle"},styles:D(D({},g),{backgroundColor:_})});var z=h.getInnerFormatter().formatExtendText,j=M/2,ot=C-j-L,Z=C+j+I;d.extendTexts.forEach(function(H,tt){var $=z({type:"last_price",data:m,index:tt});if($.length>0&&H.show){var q=H.size/2,Q=0;H.position==="above_price"?(Q=ot-=H.paddingBottom+q,ot-=q+H.paddingTop):(Q=Z+=H.paddingTop+q,Z+=q+H.paddingBottom),R=Math.max(R,H.paddingLeft+wt($,H.size,H.weight,H.family)+H.paddingRight),T.push({name:"text",attrs:{x:S,y:Q,width:R,height:H.paddingTop+H.size+H.paddingBottom,text:$,align:P,baseline:"middle"},styles:D(D({},H),{backgroundColor:_})})}}),T.forEach(function(H){var tt;H.attrs.width=R,(tt=s.createFigure(H))===null||tt===void 0||tt.draw(t)})}}},e}(yt),xr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this,a=this.getWidget(),s=a.getPane(),u=a.getBounding(),l=s.getChart().getChartStore(),c=l.getStyles().indicator,h=c.lastValueMark,p=h.text;if(h.show){var d=s.getAxisComponent(),g=d.getRange(),v=l.getDataList(),f=(i=v[v.length-1])!==null&&i!==void 0?i:{},x=(r=v[v.length-2])!==null&&r!==void 0?r:{},m=l.getIndicatorsByPaneId(s.getId()),y=l.getInnerFormatter(),b=l.getDecimalFold(),w=l.getThousandsSeparator();m.forEach(function(C){var _,S,P=C.result,T=(S=(_=P[f.timestamp])!==null&&_!==void 0?_:P[x.timestamp])!==null&&S!==void 0?S:{};if(E(T)&&C.visible){var k=C.precision;me(C,{prev:x.timestamp,current:f.timestamp,next:null},c,function(O,A){var F,L=T[O.key];if(W(L)){var I=d.convertToNicePixel(L),M=d.displayValueToText(d.realValueToDisplayValue(d.valueToRealValue(L,{range:g}),{range:g}),k);C.shouldFormatBigNumber&&(M=y.formatBigNumber(M)),M=b.format(w.format(M));var B=0,R="left";d.isFromZero()?(B=0,R="left"):(B=u.width,R="right"),(F=o.createFigure({name:"text",attrs:{x:B,y:I,text:M,align:R,baseline:"middle"},styles:D(D({},p),{backgroundColor:A.color})}))===null||F===void 0||F.draw(t)}})}})}},e}(yt),ci=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},e.prototype.drawDefaultFigures=function(t,i,r){this.drawFigures(t,i,this.getDefaultFigures(i,r))},e.prototype.getDefaultFigures=function(t,i){var r,o=this.getWidget(),a=o.getPane(),s=a.getChart().getChartStore(),u=s.getClickOverlayInfo(),l=[];if(t.needDefaultYAxisFigure&&t.id===((r=u.overlay)===null||r===void 0?void 0:r.id)&&u.paneId===a.getId()){var c=a.getAxisComponent(),h=o.getBounding(),p=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,g=c.isFromZero(),v="left",f=0;g?(v="left",f=0):(v="right",f=h.width);var x=s.getDecimalFold(),m=s.getThousandsSeparator();i.forEach(function(y,b){var w,C,_=t.points[b];if(W(_.value)){p=Math.min(p,y.y),d=Math.max(d,y.y);var S=x.format(m.format(lt(_.value,(C=(w=s.getSymbol())===null||w===void 0?void 0:w.pricePrecision)!==null&&C!==void 0?C:dt)));l.push({type:"text",attrs:{x:f,y:y.y,text:S,align:v,baseline:"middle"},ignoreEvent:!0})}}),i.length>1&&l.unshift({type:"rect",attrs:{x:0,y:p,width:h.width,height:d-p},ignoreEvent:!0})}return l},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createYAxisFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e}(oi),hi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r=this.getWidget(),o=r.getPane(),a=r.getPane().getChart().getChartStore(),s=a.getCrosshair();if(G(s.paneId)&&this.compare(s,o.getId())){var u=a.getStyles().crosshair;if(u.show){var l=this.getDirectionStyles(u),c=l.text;if(l.show&&c.show){var h=r.getBounding(),p=o.getAxisComponent(),d=this.getText(s,a,p);t.font=Wt(c.size,c.weight,c.family),(i=this.createFigure({name:"text",attrs:this.getTextAttrs(d,t.measureText(d).width,s,h,p,c),styles:c}))===null||i===void 0||i.draw(t)}}}},e.prototype.compare=function(t,i){return t.paneId===i},e.prototype.getDirectionStyles=function(t){return t.horizontal},e.prototype.getText=function(t,i,r){var o,a,s=r,u=r.convertFromPixel(t.y),l=0,c=!1;s.isInCandle()?l=(a=(o=i.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&a!==void 0?a:dt:i.getIndicatorsByPaneId(t.paneId).forEach(function(d){l=Math.max(d.precision,l),c||(c=d.shouldFormatBigNumber)});var h=s.getRange(),p=s.displayValueToText(s.realValueToDisplayValue(s.valueToRealValue(u,{range:h}),{range:h}),l);return c&&(p=i.getInnerFormatter().formatBigNumber(p)),i.getDecimalFold().format(i.getThousandsSeparator().format(p))},e.prototype.getTextAttrs=function(t,i,r,o,a,s){var u=0,l="left";return a.isFromZero()?(u=0,l="left"):(u=o.width,l="right"),{x:u,y:r.y,text:t,align:l,baseline:"middle"}},e}(yt),br=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._yAxisView=new yr(r),r._candleLastPriceLabelView=new _r(r),r._indicatorLastValueView=new xr(r),r._overlayYAxisView=new ci(r),r._crosshairHorizontalLabelView=new hi(r),r.setCursor("ns-resize"),r.addChild(r._overlayYAxisView),r}return Y(e,n),e.prototype.getName=function(){return Pt},e.prototype.updateMain=function(t){var i=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,i),i||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},e}(xe),di=function(){function n(e){this.scrollZoomEnabled=!0,this._range={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._prevRange={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return n.prototype.getParent=function(){return this._parent},n.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),!(this._prevRange.from===this._range.from&&this._prevRange.to===this._range.to&&!e)&&(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0)},n.prototype.getTicks=function(){return this._ticks},n.prototype.setRange=function(e){this._autoCalcTickFlag=!1,this._range=e},n.prototype.getRange=function(){return this._range},n.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},n.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},n}(),Qt=function(n){function e(t,i){var r=n.call(this,t)||this;return r.reverse=!1,r.inside=!1,r.position="right",r.gap={top:.2,bottom:.1},r.createRange=function(o){return o.defaultRange},r.minSpan=function(o){return Vt(-o)},r.valueToRealValue=function(o){return o},r.realValueToDisplayValue=function(o){return o},r.displayValueToRealValue=function(o){return o},r.realValueToValue=function(o){return o},r.displayValueToText=function(o,a){return lt(o,a)},r.override(i),r}return Y(e,n),e.prototype.override=function(t){var i=t.name,r=t.gap,o=$t(t,["name","gap"]);G(this.name)||(this.name=i),K(this.gap,r),K(this,o)},e.prototype.createRangeImp=function(){var t,i,r=this.getParent(),o=r.getChart(),a=o.getChartStore(),s=r.getId(),u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,c=!1,h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,g=a.getIndicatorsByPaneId(s);g.forEach(function(Z){c||(c=Z.shouldOhlc),d=Math.min(d,Z.precision),W(Z.minValue)&&(h=Math.min(h,Z.minValue)),W(Z.maxValue)&&(p=Math.max(p,Z.maxValue))});var v=4,f=this.isInCandle();if(f){var x=(i=(t=a.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:dt;v=d!==Number.MAX_SAFE_INTEGER?Math.min(d,x):x}else d!==Number.MAX_SAFE_INTEGER&&(v=d);var m=a.getVisibleRangeDataList(),y=o.getStyles().candle,b=y.type==="area",w=y.area.value,C=f&&!b||!f&&c;m.forEach(function(Z){var H=Z.data.current;if(E(H)){if(C&&(u=Math.min(u,H.low),l=Math.max(l,H.high)),f&&b){var tt=H[w];W(tt)&&(u=Math.min(u,tt),l=Math.max(l,tt))}g.forEach(function($){var q,Q=$.result,X=$.figures,U=(q=Q[H.timestamp])!==null&&q!==void 0?q:{};X.forEach(function(J){var et=U[J.key];W(et)&&(u=Math.min(u,et),l=Math.max(l,et))})})}}),u!==Number.MAX_SAFE_INTEGER&&l!==Number.MIN_SAFE_INTEGER?(u=Math.min(h,u),l=Math.max(p,l)):(u=0,l=10);var _=l-u,S={from:u,to:l,range:_,realFrom:u,realTo:l,realRange:_,displayFrom:u,displayTo:l,displayRange:_},P=this.createRange({chart:o,paneId:s,defaultRange:S}),T=P.realFrom,k=P.realTo,O=P.realRange,A=this.minSpan(v);if(T===k||O<A){var F=h===T,L=p===k;T=F?T:L?T-8*A:T-4*A,k=L?k:F?k+8*A:k+4*A}var I=this.getBounding().height,M=this.gap,B=M.top;B>=1&&(B/=I);var R=M.bottom;R>=1&&(R/=I),T-=(O=k-T)*R,k+=O*B;var N=this.realValueToValue(T,{range:P}),z=this.realValueToValue(k,{range:P}),j=this.realValueToDisplayValue(T,{range:P}),ot=this.realValueToDisplayValue(k,{range:P});return{from:N,to:z,range:z-N,realFrom:T,realTo:k,realRange:k-T,displayFrom:j,displayTo:ot,displayRange:ot-j}},e.prototype.isInCandle=function(){return this.getParent().getId()===ut},e.prototype.isFromZero=function(){return this.position==="left"&&this.inside||this.position==="right"&&!this.inside},e.prototype.createTicksImp=function(){var t,i,r,o,a=this,s=this.getRange(),u=s.displayFrom,l=s.displayTo,c=s.displayRange,h=[];if(c>=0){var p=function(I){var M=Math.floor(kt(I)),B=Vt(M),R=I/B;return+(I=(R<1.5?1:R<2.5?2:R<3.5?3:R<4.5?4:R<5.5?5:R<6.5?6:8)*B).toFixed(Math.abs(M))}(c/8),d=function(I){var M=I.toString(),B=M.indexOf("e");if(B>0){var R=+M.slice(B+1);return R<0?-R:0}var N=M.indexOf(".");return N<0?0:M.length-1-N}(p),g=Fe(Math.ceil(u/p)*p,d),v=Fe(Math.floor(l/p)*p,d),f=0,x=g;if(p!==0)for(;x<=v;){var m=x.toFixed(d);h[f]={text:m,coord:0,value:m},++f,x+=p}}var y=this.getParent(),b=(i=(t=y.getYAxisWidget())===null||t===void 0?void 0:t.getBounding().height)!==null&&i!==void 0?i:0,w=y.getChart().getChartStore(),C=[],_=w.getIndicatorsByPaneId(y.getId()),S=w.getStyles(),P=0,T=!1;this.isInCandle()?P=(o=(r=w.getSymbol())===null||r===void 0?void 0:r.pricePrecision)!==null&&o!==void 0?o:dt:_.forEach(function(I){P=Math.max(P,I.precision),T||(T=I.shouldFormatBigNumber)});var k=w.getInnerFormatter(),O=w.getThousandsSeparator(),A=w.getDecimalFold(),F=S.xAxis.tickText.size,L=NaN;return h.forEach(function(I){var M=I.value,B=a.displayValueToText(+M,P),R=a.convertToPixel(a.realValueToValue(a.displayValueToRealValue(+M,{range:s}),{range:s}));T&&(B=k.formatBigNumber(M)),B=A.format(O.format(B));var N=W(L);R>F&&R<b-F&&(N&&Math.abs(L-R)>2*F||!N)&&(C.push({text:B,coord:R,value:M}),L=R)}),ht(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:C}):C},e.prototype.getAutoSize=function(){var t,i,r=this.getParent(),o=r.getChart().getChartStore(),a=o.getStyles(),s=a.yAxis,u=s.size;if(u!=="auto")return u;var l=0;if(s.show&&(s.axisLine.show&&(l+=s.axisLine.size),s.tickLine.show&&(l+=s.tickLine.length),s.tickText.show)){var c=0;this.getTicks().forEach(function(B){c=Math.max(c,wt(B.text,s.tickText.size,s.tickText.weight,s.tickText.family))}),l+=s.tickText.marginStart+s.tickText.marginEnd+c}var h=a.candle.priceMark,p=h.show&&h.last.show&&h.last.text.show,d=0,g=a.crosshair,v=g.show&&g.horizontal.show&&g.horizontal.text.show,f=0;if(p||v){var x=(i=(t=o.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:dt,m=this.getRange().displayTo;if(p){var y=o.getDataList(),b=y[y.length-1];if(E(b)){var w=h.last.text,C=w.paddingLeft,_=w.paddingRight,S=w.size,P=w.family,T=w.weight;d=C+wt(lt(b.close,x),S,T,P)+_;var k=o.getInnerFormatter().formatExtendText;h.last.extendTexts.forEach(function(B,R){var N=k({type:"last_price",data:b,index:R});N.length>0&&B.show&&(d=Math.max(d,B.paddingLeft+wt(N,B.size,B.weight,B.family)+B.paddingRight))})}}if(v){var O=o.getIndicatorsByPaneId(r.getId()),A=0,F=!1;O.forEach(function(B){A=Math.max(B.precision,A),F||(F=B.shouldFormatBigNumber)});var L=2;if(this.isInCandle()){var I=a.indicator.lastValueMark;L=I.show&&I.text.show?Math.max(A,x):x}else L=A;var M=lt(m,L);F&&(M=o.getInnerFormatter().formatBigNumber(M)),M=o.getDecimalFold().format(M),f+=g.horizontal.text.paddingLeft+g.horizontal.text.paddingRight+2*g.horizontal.text.borderSize+wt(M,g.horizontal.text.size,g.horizontal.text.weight,g.horizontal.text.family)}}return Math.max(l,d,f)},e.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},e.prototype.convertFromPixel=function(t){var i=this.getBounding().height,r=this.getRange(),o=r.realFrom,a=r.realRange,s=(this.reverse?t/i:1-t/i)*a+o;return this.realValueToValue(s,{range:r})},e.prototype.convertToPixel=function(t){var i,r,o=this.getRange(),a=this.valueToRealValue(t,{range:o}),s=(r=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&r!==void 0?r:0,u=(a-o.realFrom)/o.realRange;return this.reverse?Math.round(u*s):Math.round((1-u)*s)},e.prototype.convertToNicePixel=function(t){var i,r,o=(r=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&r!==void 0?r:0,a=this.convertToPixel(t);return Math.round(Math.max(.05*o,Math.min(a,.98*o)))},e.extend=function(t){var i=function(r){function o(a){return r.call(this,a,t)||this}return Y(o,r),o}(e);return i},e}(di),wr={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(n){return"".concat(lt(n,2),"%")},valueToRealValue:function(n,e){var t=e.range;return(n-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(n,e){var t=e.range;return(n-t.realFrom)/t.realRange*t.range+t.from},createRange:function(n){var e=n.chart,t=n.defaultRange,i=e.getDataList()[e.getVisibleRange().from];if(E(i)){var r=t.from,o=t.to,a=t.range,s=(t.from-i.close)/i.close*100,u=(t.to-i.close)/i.close*100,l=u-s;return{from:r,to:o,range:a,realFrom:s,realTo:u,realRange:l,displayFrom:s,displayTo:u,displayRange:l}}return t}},Cr={name:"logarithm",minSpan:function(n){return .05*Vt(-n)},valueToRealValue:function(n){return n<0?-kt(Math.abs(n)):kt(n)},realValueToDisplayValue:function(n){return n<0?-Vt(Math.abs(n)):Vt(n)},displayValueToRealValue:function(n){return n<0?-kt(Math.abs(n)):kt(n)},realValueToValue:function(n){return n<0?-Vt(Math.abs(n)):Vt(n)},createRange:function(n){var e=n.defaultRange,t=e.from,i=e.to,r=e.range,o=t<0?-kt(Math.abs(t)):kt(t),a=i<0?-kt(Math.abs(i)):kt(i);return{from:t,to:i,range:r,realFrom:o,realTo:a,realRange:a-o,displayFrom:t,displayTo:i,displayRange:r}}},we={normal:Qt.extend({name:"normal"}),percentage:Qt.extend(wr),logarithm:Qt.extend(Cr)},pi=function(){function n(e,t){this._bounding=ie(),this._originalBounding=ie(),this._visible=!0,this._chart=e,this._id=t,this._container=Dt("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return n.prototype.getContainer=function(){return this._container},n.prototype.setVisible=function(e){this._visible!==e&&(this._container.style.display=e?"block":"none",this._visible=e)},n.prototype.getVisible=function(){return this._visible},n.prototype.getId=function(){return this._id},n.prototype.getChart=function(){return this._chart},n.prototype.getBounding=function(){return this._bounding},n.prototype.setOriginalBounding=function(e){K(this._originalBounding,e)},n.prototype.getOriginalBounding=function(){return this._originalBounding},n.prototype.update=function(e){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(e??3,this._container,this._bounding)},n}(),gi=function(n){function e(t,i,r){var o=n.call(this,t,i)||this;o._yAxisWidget=null,o._options={id:"",minHeight:30,dragEnabled:!0,order:0,height:100,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var a=o.getContainer();return o._mainWidget=o.createMainWidget(a),o._yAxisWidget=o.createYAxisWidget(a),o.setOptions(r),o}return Y(e,n),e.prototype.setOptions=function(t){var i,r,o,a,s,u=this.getId();if(u===ut||u===it){var l=(i=t.axis)===null||i===void 0?void 0:i.name;(!E(this._axis)||E(l)&&this._options.axis.name!==l)&&(this._axis=this.createAxisComponent(l??"normal"))}else E(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof Qt&&this._axis.setAutoCalcTickFlag(!0),K(this._options,t),this._axis.override(D(D({},this._options.axis),{name:(o=(r=t.axis)===null||r===void 0?void 0:r.name)!==null&&o!==void 0?o:"normal"}));var c=null,h="default";return this.getId()===it?(c=this.getMainWidget().getContainer(),h="ew-resize"):(c=this.getYAxisWidget().getContainer(),h="ns-resize"),(s=(a=t.axis)===null||a===void 0?void 0:a.scrollZoomEnabled)===null||s===void 0||s?c.style.cursor=h:c.style.cursor="default",this},e.prototype.getOptions=function(){return this._options},e.prototype.getAxisComponent=function(){return this._axis},e.prototype.setBounding=function(t,i,r,o){var a,s,u,l;K(this.getBounding(),t);var c={};E(t.height)&&(c.height=t.height),E(t.top)&&(c.top=t.top),this._mainWidget.setBounding(c);var h=E(i);return h&&this._mainWidget.setBounding(i),E(this._yAxisWidget)&&(this._yAxisWidget.setBounding(c),this._axis.position==="left"?E(r)&&this._yAxisWidget.setBounding(D(D({},r),{left:0})):E(o)&&(this._yAxisWidget.setBounding(o),h&&this._yAxisWidget.setBounding({left:((a=i.left)!==null&&a!==void 0?a:0)+((s=i.width)!==null&&s!==void 0?s:0)+((u=i.right)!==null&&u!==void 0?u:0)-((l=o.width)!==null&&l!==void 0?l:0)}))),this},e.prototype.getMainWidget=function(){return this._mainWidget},e.prototype.getYAxisWidget=function(){return this._yAxisWidget},e.prototype.updateImp=function(t){var i;this._mainWidget.update(t),(i=this._yAxisWidget)===null||i===void 0||i.update(t)},e.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=Dt("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),u=Rt(a);a.width=r*u,a.height=o*u,s.scale(u,u);var l=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(t),l.left,0,l.width,l.height),this._yAxisWidget!==null){var c=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(t),c.left,0,c.width,c.height)}return a},e.prototype.createYAxisWidget=function(t){return null},e}(pi),vi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createAxisComponent=function(t){var i=function(r){var o;return(o=we[r])!==null&&o!==void 0?o:we.normal}(t??"default");return new i(this)},e.prototype.createMainWidget=function(t){return new ai(t,this)},e.prototype.createYAxisWidget=function(t){return new br(t,this)},e}(gi),Er=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createMainWidget=function(t){return new mr(t,this)},e}(vi),Sr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getAxisStyles=function(t){return t.xAxis},e.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},e.prototype.createTickLines=function(t,i,r){var o=r.tickLine,a=r.axisLine.size;return t.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+o.length}]}})},e.prototype.createTickTexts=function(t,i,r){var o=r.tickText,a=r.axisLine.size,s=r.tickLine.length;return t.map(function(u){return{x:u.coord,y:a+s+o.marginStart,text:u.text,align:"center",baseline:"top"}})},e}(ui),Tr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.coordinateToPointValueFlag=function(){return!1},e.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},e.prototype.getProgressOverlay=function(){var t,i;return(i=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&i!==void 0?i:null},e.prototype.getDefaultFigures=function(t,i){var r,o=[],a=this.getWidget(),s=a.getPane().getChart().getChartStore(),u=s.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((r=u.overlay)===null||r===void 0?void 0:r.id)){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;i.forEach(function(h,p){l=Math.min(l,h.x),c=Math.max(c,h.x);var d=t.points[p];if(W(d.timestamp)){var g=s.getInnerFormatter().formatDate(d.timestamp,"YYYY-MM-DD HH:mm","crosshair");o.push({type:"text",attrs:{x:h.x,y:0,text:g,align:"center"},ignoreEvent:!0})}}),i.length>1&&o.unshift({type:"rect",attrs:{x:l,y:0,width:c-l,height:a.getBounding().height},ignoreEvent:!0})}return o},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createXAxisFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e}(ci),Pr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.compare=function(t){return E(t.timestamp)},e.prototype.getDirectionStyles=function(t){return t.vertical},e.prototype.getText=function(t,i){var r,o,a=t.timestamp;return i.getInnerFormatter().formatDate(a,si[(o=(r=i.getPeriod())===null||r===void 0?void 0:r.type)!==null&&o!==void 0?o:"day"],"crosshair")},e.prototype.getTextAttrs=function(t,i,r,o,a,s){var u=r.realX,l=0,c="center";return u-i/2-s.paddingLeft<0?(l=0,c="left"):u+i/2+s.paddingRight>o.width?(l=o.width,c="right"):l=u,{x:l,y:0,text:t,align:c,baseline:"top"}},e}(hi),Mr=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._xAxisView=new Sr(r),r._overlayXAxisView=new Tr(r),r._crosshairVerticalLabelView=new Pr(r),r.setCursor("ew-resize"),r.addChild(r._overlayXAxisView),r}return Y(e,n),e.prototype.getName=function(){return At},e.prototype.updateMain=function(t){this._xAxisView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},e}(xe),fi=function(n){function e(t,i){var r=n.call(this,t)||this;return r.override(i),r}return Y(e,n),e.prototype.override=function(t){var i=t.name,r=t.scrollZoomEnabled,o=t.createTicks;G(this.name)||(this.name=i),this.scrollZoomEnabled=r??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},e.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore().getVisibleRange(),i=t.realFrom,r=t.realTo,o=r-i+1;return{from:i,to:r,range:o,realFrom:i,realTo:r,realRange:o,displayFrom:i,displayTo:r,displayRange:o}},e.prototype.createTicksImp=function(){var t,i=this.getRange(),r=i.realFrom,o=i.realTo,a=i.from,s=this.getParent().getChart().getChartStore(),u=s.getInnerFormatter().formatDate,l=s.getPeriod(),c=[],h=s.getBarSpace().bar,p=s.getStyles().xAxis.tickText,d=Math.max(wt("YYYY-MM-DD HH:mm:ss",p.size,p.weight,p.family),this.getBounding().width/8),g=Math.ceil(d/h);g%2!=0&&(g+=1);for(var v=Math.max(0,Math.floor(r/g)*g);v<o;v+=g)if(v>=a){var f=s.dataIndexToTimestamp(v);W(f)&&c.push({coord:this.convertToPixel(v),value:f,text:u(f,gr[(t=l?.type)!==null&&t!==void 0?t:"day"],"xAxis")})}return ht(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:c}):c},e.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),i=t.xAxis,r=i.size;if(r!=="auto")return r;var o=t.crosshair,a=0;i.show&&(i.axisLine.show&&(a+=i.axisLine.size),i.tickLine.show&&(a+=i.tickLine.length),i.tickText.show&&(a+=i.tickText.marginStart+i.tickText.marginEnd+i.tickText.size));var s=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(s+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+2*o.vertical.text.borderSize+o.vertical.text.size),Math.max(a,s)},e.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},e.prototype.convertTimestampFromPixel=function(t){var i=this.getParent().getChart().getChartStore(),r=i.coordinateToDataIndex(t);return i.dataIndexToTimestamp(r)},e.prototype.convertTimestampToPixel=function(t){var i=this.getParent().getChart().getChartStore(),r=i.timestampToDataIndex(t);return i.dataIndexToCoordinate(r)},e.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},e.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},e.extend=function(t){var i=function(r){function o(a){return r.call(this,a,t)||this}return Y(o,r),o}(e);return i},e}(di),Ce={normal:fi.extend({name:"normal"})},Ir=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createAxisComponent=function(t){var i=function(r){var o;return(o=Ce[r])!==null&&o!==void 0?o:Ce.normal}(t);return new i(this)},e.prototype.createMainWidget=function(t){return new Mr(t,this)},e}(gi),Dr=function(n){function e(t,i){var r,o,a,s=n.call(this,t,i)||this;return s._dragFlag=!1,s._dragStartY=0,s._topPaneHeight=0,s._bottomPaneHeight=0,s._topPane=null,s._bottomPane=null,s._pressedMouseMoveEvent=(r=s._pressedTouchMouseMoveEvent,o=20,a=0,function(){var u=Date.now();u-a>o&&(r.apply(this,arguments),a=u)}),s.registerEvent("touchStartEvent",s._mouseDownEvent.bind(s)).registerEvent("touchMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("touchEndEvent",s._mouseUpEvent.bind(s)).registerEvent("mouseDownEvent",s._mouseDownEvent.bind(s)).registerEvent("mouseUpEvent",s._mouseUpEvent.bind(s)).registerEvent("pressedMouseMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("mouseEnterEvent",s._mouseEnterEvent.bind(s)).registerEvent("mouseLeaveEvent",s._mouseLeaveEvent.bind(s)),s}return Y(e,n),e.prototype.getName=function(){return qt},e.prototype._mouseDownEvent=function(t){var i=this;this._dragFlag=!0,this._dragStartY=t.pageY;var r=this.getPane(),o=r.getChart();this._topPane=r.getTopPane(),this._bottomPane=r.getBottomPane();var a=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var s=a.findIndex(function(h){var p;return h.getId()===((p=i._topPane)===null||p===void 0?void 0:p.getId())}),u=s-1;u>-1;u--){var l=a[u];if(l.getOptions().state!=="minimize"){this._topPane=l;break}}if(this._bottomPane.getOptions().state==="minimize")for(s=a.findIndex(function(h){var p;return h.getId()===((p=i._bottomPane)===null||p===void 0?void 0:p.getId())}),u=s+1;u<a.length;u++){var c=a[u];if(c.getOptions().state!=="minimize"){this._bottomPane=c;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},e.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},e.prototype._pressedTouchMouseMoveEvent=function(t){var i=t.pageY-this._dragStartY,r=i<0;if(E(this._topPane)&&E(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var a=null,s=null,u=0,l=0;r?(a=this._topPane,s=this._bottomPane,u=this._topPaneHeight,l=this._bottomPaneHeight):(a=this._bottomPane,s=this._topPane,u=this._bottomPaneHeight,l=this._topPaneHeight);var c=a.getOptions().minHeight;if(u>c){var h=Math.max(u-Math.abs(i),c),p=u-h;a.setBounding({height:h}),s.setBounding({height:l+p});var d=this.getPane(),g=d.getChart();g.getChartStore().executeAction("onPaneDrag",{paneId:d.getId()}),g.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},e.prototype._mouseEnterEvent=function(){var t=this.getPane();if(t.getBottomPane().getOptions().dragEnabled){var i=t.getChart().getStyles().separator;return this.getContainer().style.background=i.activeBackgroundColor,!0}return!1},e.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this.getContainer().style.background="transparent",!0)},e.prototype.createContainer=function(){return Dt("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},e.prototype.updateImp=function(t,i,r){if(r===4||r===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((7-o.size)/2),"px"),t.style.height="".concat(7,"px")}},e}(qe),kr=function(n){function e(t,i,r,o){var a=n.call(this,t,i)||this;return a.getContainer().style.overflow="",a._topPane=r,a._bottomPane=o,a._separatorWidget=new Dr(a.getContainer(),a),a}return Y(e,n),e.prototype.setBounding=function(t){return K(this.getBounding(),t),this},e.prototype.getTopPane=function(){return this._topPane},e.prototype.setTopPane=function(t){return this._topPane=t,this},e.prototype.getBottomPane=function(){return this._bottomPane},e.prototype.setBottomPane=function(t){return this._bottomPane=t,this},e.prototype.getWidget=function(){return this._separatorWidget},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=this.getChart().getStyles().separator,s=Dt("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),l=Rt(s);return s.width=r*l,s.height=o*l,u.scale(l,l),u.fillStyle=a.color,u.fillRect(0,0,r,o),s},e.prototype.updateImp=function(t,i,r){if(t===4||t===2){var o=this.getChart().getStyles().separator;i.style.backgroundColor=o.color,i.style.height="".concat(r.height,"px"),i.style.marginLeft="".concat(r.left,"px"),i.style.width="".concat(r.width,"px"),this._separatorWidget.update(t)}},e}(pi);function mi(){return typeof window<"u"&&window.navigator.userAgent.toLowerCase().includes("firefox")}function Ee(){return typeof window<"u"&&/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var yi=500,Ar=500,Fr=500,Br=5,Rr=5,_i=5,xi=30,Se=0,Lr=1,Or=2,Wr=function(){function n(e,t,i){var r=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Ee(),this._onFirefoxOutsideMouseUp=function(o){r._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){r._firesTouchEvents(o)?(++r._tapCount,r._tapTimeoutId!==null&&r._tapCount>1&&(r._mouseTouchMoveWithDownInfo(r._getCoordinate(o),r._tapCoordinate).manhattanDistance<xi&&!r._cancelTap&&r._processEvent(r._makeCompatEvent(o),r._handler.doubleTapEvent),r._resetTapTimeout())):(++r._clickCount,r._clickTimeoutId!==null&&r._clickCount>1&&(r._mouseTouchMoveWithDownInfo(r._getCoordinate(o),r._clickCoordinate).manhattanDistance<_i&&!r._cancelClick&&r._processEvent(r._makeCompatEvent(o),r._handler.mouseDoubleClickEvent),r._resetClickTimeout()))},this._target=e,this._handler=t,this._options=i,this._init()}return n.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},n.prototype._mouseEnterHandler=function(e){var t,i,r,o=this;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(r=this._unsubscribeContextMenu)===null||r===void 0||r.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){o._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){o._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var u=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){o._target.removeEventListener("contextmenu",u)},this._target.addEventListener("contextmenu",u,{passive:!1}),this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},n.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},n.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},n.prototype._mouseMoveHandler=function(e){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},n.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(!E(this._handler.mouseWheelHortEvent)||(this._preventDefault(e),Math.abs(e.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(!E(this._handler.mouseWheelVertEvent))return;var t=-e.deltaY/100;if(t===0)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(t!==0){var i=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),i)}}},n.prototype._contextMenuHandler=function(e){this._preventDefault(e)},n.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),r=i.xOffset,o=i.yOffset,a=i.manhattanDistance;if(this._touchMoveExceededManhattanDistance||!(a<Rr)){if(!this._touchMoveExceededManhattanDistance){var s=.5*r,u=o>=s&&!this._options.treatVertDragAsPageScroll(),l=s>o&&!this._options.treatHorzDragAsPageScroll();u||l||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},n.prototype._mouseMoveWithDownHandler=function(e){e.button===Se&&(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate).manhattanDistance>=Br&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent))},n.prototype._mouseTouchMoveWithDownInfo=function(e,t){var i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return{xOffset:i,yOffset:r,manhattanDistance:i+r}},n.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._makeCompatEvent(e,t);this._processEvent(i,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance<xi&&!this._cancelTap&&this._processEvent(i,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(i,this._handler.tapEvent),E(this._handler.tapEvent)&&this._preventDefault(e)),this._tapCount===0&&this._preventDefault(e),e.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},n.prototype._mouseUpHandler=function(e){if(e.button===Se){var t=this._makeCompatEvent(e);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),mi()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(e)||(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance<_i&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent))}},n.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},n.prototype._touchStartHandler=function(e){if(this._activeTouchId===null){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var i=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var r=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),Ar),this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),yi),this._tapCoordinate=this._getCoordinate(t))}},n.prototype._mouseDownHandler=function(e){if(e.button===Or)return this._preventDefault(e),void this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);if(e.button===Se){var t=this._target.ownerDocument.documentElement;mi()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var i=this._mouseMoveWithDownHandler.bind(this),r=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",r)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",r),this._mousePressed=!0,this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),yi),this._clickCoordinate=this._getCoordinate(e)))}},n.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,i=function(r){e._handler.mouseDownOutsideEvent!=null&&(r.composed&&e._target.contains(r.composedPath()[0])||r.target!==null&&e._target.contains(r.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",i)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0}),Ee()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(r){if(r.button===Lr)return r.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},n.prototype._initPinch=function(){var e=this;(E(this._handler.pinchStartEvent)||E(this._handler.pinchEvent)||E(this._handler.pinchEndEvent))&&(this._target.addEventListener("touchstart",function(t){e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(t.touches.length===2&&e._startPinchMiddleCoordinate!==null&&E(e._handler.pinchEvent)){var i=e._getTouchDistance(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(D(D({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),e._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},n.prototype._checkPinchState=function(e){e.length===1&&(this._pinchPrevented=!1),e.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},n.prototype._startPinch=function(e){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),E(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},n.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,E(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},n.prototype._mouseLeaveHandler=function(e){var t,i,r;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(r=this._unsubscribeContextMenu)===null||r===void 0||r.call(this),this._firesTouchEvents(e)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Ee())},n.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},n.prototype._firesTouchEvents=function(e){var t;return E((t=e.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+Fr},n.prototype._processEvent=function(e,t){t?.call(this._handler,e)},n.prototype._makeCompatEvent=function(e,t){var i=this,r=t??e,o=this._target.getBoundingClientRect();return{x:r.clientX-o.left,y:r.clientY-o.top,pageX:r.pageX,pageY:r.pageY,isTouch:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click"&&e.type!=="wheel",preventDefault:function(){e.type!=="touchstart"&&i._preventDefault(e)}}},n.prototype._getTouchDistance=function(e,t){var i=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(i*i+r*r)},n.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},n.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},n.prototype._eventTimeStamp=function(e){var t;return(t=e.timeStamp)!==null&&t!==void 0?t:performance.now()},n.prototype._touchWithId=function(e,t){for(var i=0;i<e.length;++i)if(e[i].identifier===t)return e[i];return null},n}(),Vr=function(){function n(e,t){var i=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(r){if(r.shiftKey)switch(r.code){case"Equal":i._chart.getChartStore().zoom(.5);break;case"Minus":i._chart.getChartStore().zoom(-.5);break;case"ArrowLeft":(o=i._chart.getChartStore()).startScroll(),o.scroll(-3*o.getBarSpace().bar);break;case"ArrowRight":var o;(o=i._chart.getChartStore()).startScroll(),o.scroll(3*o.getBarSpace().bar)}},this._container=e,this._chart=t,this._event=new Wr(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return n.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},n.prototype.pinchEvent=function(e,t){var i=this._findWidgetByEvent(e),r=i.pane,o=i.widget;if(r?.getId()!==it&&o?.getName()===pt){var a=this._makeWidgetEvent(e,o),s=5*(t-this._pinchScale);return this._pinchScale=t,this._chart.getChartStore().zoom(s,{x:a.x,y:a.y}),!0}return!1},n.prototype.mouseWheelHortEvent=function(e,t){var i=this._chart.getChartStore();return i.startScroll(),i.scroll(t),!0},n.prototype.mouseWheelVertEvent=function(e,t){var i=this._findWidgetByEvent(e).widget,r=this._makeWidgetEvent(e,i);return i?.getName()===pt&&(this._chart.getChartStore().zoom(t,{x:r.x,y:r.y}),!0)},n.prototype.mouseDownEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(this._mouseDownWidget=r,r!==null){var o=this._makeWidgetEvent(e,r);switch(r.getName()){case qt:return r.dispatchEvent("mouseDownEvent",o);case pt:var a=i.getAxisComponent();if(!a.getAutoCalcTickFlag()){var s=a.getRange();this._prevYAxisRange=D({},s)}return this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),r.dispatchEvent("mouseDownEvent",o);case At:return this._processXAxisScrollStartEvent(r,o);case Pt:return this._processYAxisScaleStartEvent(r,o)}}return!1},n.prototype.mouseMoveEvent=function(e){var t,i,r,o=this._findWidgetByEvent(e),a=o.pane,s=o.widget,u=this._makeWidgetEvent(e,s);if(((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())===a?.getId()&&((i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0?void 0:i.getName())===s?.getName()||(s?.dispatchEvent("mouseEnterEvent",u),(r=this._mouseMoveTriggerWidgetInfo.widget)===null||r===void 0||r.dispatchEvent("mouseLeaveEvent",u),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null)switch(s.getName()){case pt:var l=s.dispatchEvent("mouseMoveEvent",u),c={x:u.x,y:u.y,paneId:a?.getId()};return l?(s.getForceCursor()!=="pointer"&&(c=void 0),s.setCursor("pointer")):s.setCursor("crosshair"),this._chart.getChartStore().setCrosshair(c),l;case qt:case At:case Pt:return l=s.dispatchEvent("mouseMoveEvent",u),this._chart.getChartStore().setCrosshair(),l}return!1},n.prototype.pressedMouseMoveEvent=function(e){var t,i;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===qt)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var r=this._findWidgetByEvent(e),o=r.pane,a=r.widget;if(a!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===o?.getId()&&((i=this._mouseDownWidget)===null||i===void 0?void 0:i.getName())===a.getName()){var s=this._makeWidgetEvent(e,a);switch(a.getName()){case pt:var u=void 0,l=a.dispatchEvent("pressedMouseMoveEvent",s);return l||this._processMainScrollingEvent(a,s),l&&a.getForceCursor()!=="pointer"||(u={x:s.x,y:s.y,paneId:o?.getId()}),this._chart.getChartStore().setCrosshair(u,{forceInvalidate:!0}),l;case At:return this._processXAxisScrollingEvent(a,s);case Pt:return this._processYAxisScalingEvent(a,s)}}return!1},n.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case pt:case qt:case At:case Pt:i=t.dispatchEvent("mouseUpEvent",r)}i&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,i},n.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(t!==null){var i=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",i)}return!1},n.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case pt:case At:case Pt:i=t.dispatchEvent("mouseRightClickEvent",r)}i&&this._chart.updatePane(1)}return!1},n.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(r!==null)switch(r.getName()){case pt:var o=this._makeWidgetEvent(e,r);return r.dispatchEvent("mouseDoubleClickEvent",o);case Pt:var a=i.getAxisComponent();if(!a.getAutoCalcTickFlag())return a.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0}return!1},n.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},n.prototype.touchStartEvent=function(e){var t,i=this._findWidgetByEvent(e),r=i.pane,o=i.widget;if(o!==null){var a=this._makeWidgetEvent(e,o);switch((t=a.preventDefault)===null||t===void 0||t.call(a),o.getName()){case pt:var s=this._chart.getChartStore();if(o.dispatchEvent("mouseDownEvent",a))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,s.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(ke(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var u=r.getAxisComponent();if(!u.getAutoCalcTickFlag()){var l=u.getRange();this._prevYAxisRange=D({},l)}if(this._startScrollCoordinate={x:a.x,y:a.y},s.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var c=a.x-this._touchCoordinate.x,h=a.y-this._touchCoordinate.y;Math.sqrt(c*c+h*h)<10?(this._touchCoordinate={x:a.x,y:a.y},s.setCrosshair({x:a.x,y:a.y,paneId:r?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,s.setCrosshair())}return!0;case At:return this._processXAxisScrollStartEvent(o,a);case Pt:return this._processYAxisScaleStartEvent(o,a)}}return!1},n.prototype.touchMoveEvent=function(e){var t,i=this._findWidgetByEvent(e),r=i.pane,o=i.widget;if(o!==null){var a=this._makeWidgetEvent(e,o);(t=a.preventDefault)===null||t===void 0||t.call(a);var s=o.getName(),u=this._chart.getChartStore();switch(s){case pt:return o.dispatchEvent("pressedMouseMoveEvent",a)?(u.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?u.setCrosshair({x:a.x,y:a.y,paneId:r?.getId()}):this._processMainScrollingEvent(o,a),!0);case At:return this._processXAxisScrollingEvent(o,a);case Pt:return this._processYAxisScalingEvent(o,a)}}return!1},n.prototype.touchEndEvent=function(e){var t=this,i=this._findWidgetByEvent(e).widget;if(i!==null){var r=this._makeWidgetEvent(e,i);switch(i.getName()){case pt:if(i.dispatchEvent("mouseUpEvent",r),this._startScrollCoordinate!==null){var o=new Date().getTime()-this._flingStartTime,a=(r.x-this._startScrollCoordinate.x)/(o>0?o:1)*20;if(o<200&&Math.abs(a)>0){var s=this._chart.getChartStore(),u=function(){t._flingScrollRequestId=re(function(){s.startScroll(),s.scroll(a),a*=.975,Math.abs(a)<1?t._flingScrollRequestId!==null&&(ke(t._flingScrollRequestId),t._flingScrollRequestId=null):u()})};u()}}return!0;case At:case Pt:i.dispatchEvent("mouseUpEvent",r)&&this._chart.updatePane(1)}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},n.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget,o=!1;if(r!==null){var a=this._makeWidgetEvent(e,r),s=r.dispatchEvent("mouseClickEvent",a);if(r.getName()===pt){var u=this._makeWidgetEvent(e,r),l=this._chart.getChartStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.setCrosshair(void 0,{notInvalidate:!0}),o=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:u.x,y:u.y},l.setCrosshair({x:u.x,y:u.y,paneId:i?.getId()},{notInvalidate:!0}),o=!0),this._touchCancelCrosshair=!1)}(o||s)&&this._chart.updatePane(1)}return o},n.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},n.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(r!==null&&r.getName()===pt){var o=this._makeWidgetEvent(e,r);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:i?.getId()}),!0}return!1},n.prototype._processMainScrollingEvent=function(e,t){if(this._startScrollCoordinate!==null){var i=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!i.getAutoCalcTickFlag()&&i.scrollZoomEnabled){var r=this._prevYAxisRange,o=r.from,a=r.to,s=r.range*((i.reverse?this._startScrollCoordinate.y-t.y:t.y-this._startScrollCoordinate.y)/e.getBounding().height),u=o+s,l=a+s,c=i.valueToRealValue(u,{range:this._prevYAxisRange}),h=i.valueToRealValue(l,{range:this._prevYAxisRange}),p=i.realValueToDisplayValue(c,{range:this._prevYAxisRange}),d=i.realValueToDisplayValue(h,{range:this._prevYAxisRange});i.setRange({from:u,to:l,range:l-u,realFrom:c,realTo:h,realRange:h-c,displayFrom:p,displayTo:d,displayRange:d-p})}var g=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(g)}},n.prototype._processXAxisScrollStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);return i&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,i},n.prototype._processXAxisScrollingEvent=function(e,t){var i,r=e.dispatchEvent("pressedMouseMoveEvent",t);if(r)this._chart.updatePane(1);else if(e.getPane().getAxisComponent().scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){var o=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(o)){var a=10*(o-this._xAxisScale);this._xAxisScale=o,this._chart.getChartStore().zoom(a,(i=this._xAxisStartScaleCoordinate)!==null&&i!==void 0?i:void 0)}}return r},n.prototype._processYAxisScaleStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);i&&this._chart.updatePane(1);var r=e.getPane().getAxisComponent().getRange();return this._prevYAxisRange=D({},r),this._yAxisStartScaleDistance=t.pageY,i},n.prototype._processYAxisScalingEvent=function(e,t){var i=e.dispatchEvent("pressedMouseMoveEvent",t);if(i)this._chart.updatePane(1);else{var r=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&r.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){var o=this._prevYAxisRange,a=o.from,s=o.to,u=o.range,l=u*(t.pageY/this._yAxisStartScaleDistance),c=(l-u)/2,h=a-c,p=s+c,d=r.valueToRealValue(h,{range:this._prevYAxisRange}),g=r.valueToRealValue(p,{range:this._prevYAxisRange}),v=r.realValueToDisplayValue(d,{range:this._prevYAxisRange}),f=r.realValueToDisplayValue(g,{range:this._prevYAxisRange});r.setRange({from:h,to:p,range:l,realFrom:d,realTo:g,realRange:g-d,displayFrom:v,displayTo:f,displayRange:f-v}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return i},n.prototype._findWidgetByEvent=function(e){var t,i,r,o,a=e.x,s=e.y,u=this._chart.getSeparatorPanes(),l=this._chart.getStyles().separator.size;try{for(var c=mt(u),h=c.next();!h.done;h=c.next()){var p=h.value[1],d=(m=p.getBounding()).top-Math.round((7-l)/2);if(a>=m.left&&a<=m.left+m.width&&s>=d&&s<=d+7)return{pane:p,widget:p.getWidget()}}}catch(P){t={error:P}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}var g=this._chart.getDrawPanes(),v=null;try{for(var f=mt(g),x=f.next();!x.done;x=f.next()){var m,y=x.value;if(a>=(m=y.getBounding()).left&&a<=m.left+m.width&&s>=m.top&&s<=m.top+m.height){v=y;break}}}catch(P){r={error:P}}finally{try{x&&!x.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var b=null;if(v!==null){if(!E(b)){var w=v.getMainWidget(),C=w.getBounding();a>=C.left&&a<=C.left+C.width&&s>=C.top&&s<=C.top+C.height&&(b=w)}if(!E(b)){var _=v.getYAxisWidget();if(_!==null){var S=_.getBounding();a>=S.left&&a<=S.left+S.width&&s>=S.top&&s<=S.top+S.height&&(b=_)}}}return{pane:v,widget:b}},n.prototype._makeWidgetEvent=function(e,t){var i,r,o,a=(i=t?.getBounding())!==null&&i!==void 0?i:null;return D(D({},e),{x:e.x-((r=a?.left)!==null&&r!==void 0?r:0),y:e.y-((o=a?.top)!==null&&o!==void 0?o:0)})},n.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},n}(),bi=function(){function n(e,t){this._chartBounding=ie(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._cacheYAxisWidth={left:0,right:0},this._initContainer(e),this._chartEvent=new Vr(this._chartContainer,this),this._chartStore=new tr(this,t),this._initPanes(t),this._layout()}return n.prototype._initContainer=function(e){this._container=e,this._chartContainer=Dt("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer),this._cacheChartBounding()},n.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},n.prototype._initPanes=function(e){var t,i=this,r=(t=e?.layout)!==null&&t!==void 0?t:[{type:"candle"}],o=function(s){var u,l;if(!E(i._candlePane)){var c=(u=s.options)!==null&&u!==void 0?u:{};K(c,{id:ut}),i._candlePane=i._createPane(Er,ut,c),((l=s.content)!==null&&l!==void 0?l:[]).forEach(function(h){i.createIndicator(h,!0,c)})}},a=function(s){if(!E(i._xAxisPane)){var u=i._createPane(Ir,it,s??{});i._xAxisPane=u}};r.forEach(function(s){var u,l,c;switch(s.type){case"candle":o(s);break;case"indicator":var h=(u=s.content)!==null&&u!==void 0?u:[];if(h.length>0){var p=(c=(l=s.options)===null||l===void 0?void 0:l.id)!==null&&c!==void 0?c:null;E(p)&&(p=ne(Ue));var d=D(D({},s.options),{id:p});h.forEach(function(g){i.createIndicator(g,!0,d)})}break;case"xAxis":a(s.options)}}),o({}),a({order:Number.MAX_SAFE_INTEGER})},n.prototype._createPane=function(e,t,i){var r=new e(this,t,i??{});return this._drawPanes.push(r),r},n.prototype._recalculatePaneHeight=function(e,t,i){if(i===0)return!1;var r=this._drawPanes.filter(function(h){var p=h.getId();return h.getOptions().state==="normal"&&p!==e.getId()&&p!==it}),o=r.length;if(o===0)return!1;if(e.getId()!==ut&&E(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var a=this._candlePane.getBounding().height;if(a>0){var s=this._candlePane.getOptions().minHeight,u=a+i;u<s&&(t-=a+i-(u=s)),this._candlePane.setBounding({height:u})}}else{var l=i,c=Math.floor(i/o);r.forEach(function(h,p){var d=h.getBounding().height,g=0;(g=p===o-1?d+l:d+c)<h.getOptions().minHeight&&(g=h.getOptions().minHeight),h.setBounding({height:g}),l-=g-d}),Math.abs(l)>0&&(t-=l)}return e.setBounding({height:t}),!0},n.prototype.getDrawPaneById=function(e){if(e===ut)return this._candlePane;if(e===it)return this._xAxisPane;var t=this._drawPanes.find(function(i){return i.getId()===e});return t??null},n.prototype.getContainer=function(){return this._container},n.prototype.getChartStore=function(){return this._chartStore},n.prototype.getXAxisPane=function(){return this._xAxisPane},n.prototype.getDrawPanes=function(){return this._drawPanes},n.prototype.getSeparatorPanes=function(){return this._separatorPanes},n.prototype.layout=function(e){var t,i,r,o,a,s,u,l=this;(t=e.sort)!==null&&t!==void 0&&t&&(this._layoutOptions.sort=e.sort),(i=e.measureHeight)!==null&&i!==void 0&&i&&(this._layoutOptions.measureHeight=e.measureHeight),(r=e.measureWidth)!==null&&r!==void 0&&r&&(this._layoutOptions.measureWidth=e.measureWidth),(o=e.update)!==null&&o!==void 0&&o&&(this._layoutOptions.update=e.update),(a=e.buildYAxisTick)!==null&&a!==void 0&&a&&(this._layoutOptions.buildYAxisTick=e.buildYAxisTick),(s=e.cacheYAxisWidth)!==null&&s!==void 0&&s&&(this._layoutOptions.cacheYAxisWidth=e.cacheYAxisWidth),(u=e.buildYAxisTick)!==null&&u!==void 0&&u&&(this._layoutOptions.forceBuildYAxisTick=e.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(c){l._layout(),l._layoutPending=!1}).catch(function(c){}))},n.prototype._layout=function(){var e=this,t=this._layoutOptions,i=t.sort,r=t.measureHeight,o=t.measureWidth,a=t.update,s=t.buildYAxisTick,u=t.cacheYAxisWidth,l=t.forceBuildYAxisTick;if(i){for(;E(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(I,M){return I.getOptions().order-M.getOptions().order});var c=null;this._drawPanes.forEach(function(I){if(I.getId()!==it){if(E(c)){var M=new kr(e,"",c,I);e._chartContainer.appendChild(M.getContainer()),e._separatorPanes.set(I,M)}c=I}e._chartContainer.appendChild(I.getContainer())})}if(r){var h=this._chartBounding.height,p=this.getStyles().separator.size,d=this._xAxisPane.getAxisComponent().getAutoSize(),g=h-d;g<0&&(g=0),this._drawPanes.forEach(function(I){var M=I.getId();if(E(e._separatorPanes.get(I))&&(g-=p),M!==it&&M!==ut&&I.getVisible()){var B=I.getBounding().height;B>g?(B=g,g=0):g-=B,I.setBounding({height:B})}}),this._candlePane.setBounding({height:Math.max(g,0)}),this._xAxisPane.setBounding({height:d});var v=0;this._drawPanes.forEach(function(I){var M=e._separatorPanes.get(I);E(M)&&(M.setBounding({height:p,top:v}),v+=p),I.setBounding({top:v}),v+=I.getBounding().height})}var f=o;if((s||l)&&this._drawPanes.forEach(function(I){var M=I.getAxisComponent().buildTicks(l);f||(f=M)}),f){var x=this._chartBounding.width,m=this.getStyles(),y=0,b=!0,w=0,C=!0;this._drawPanes.forEach(function(I){if(I.getId()!==it){var M=I.getAxisComponent(),B=M.inside,R=M.getAutoSize();M.position==="left"?(y=Math.max(y,R),B&&(b=!1)):(w=Math.max(w,R),B&&(C=!1))}}),u&&(y=Math.max(this._cacheYAxisWidth.left,y),w=Math.max(this._cacheYAxisWidth.right,w)),this._cacheYAxisWidth.left=y,this._cacheYAxisWidth.right=w;var _=x,S=0,P=0;b&&(_-=y,S=y),C&&(_-=w,P=w),this._chartStore.setTotalBarSpace(_);var T={width:x},k={width:_,left:S,right:P},O={width:y},A={width:w},F=m.separator.fill,L={};L=F?T:k,this._drawPanes.forEach(function(I){var M;(M=e._separatorPanes.get(I))===null||M===void 0||M.setBounding(L),I.setBounding(T,k,O,A)})}a&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1}},n.prototype.updatePane=function(e,t){var i=this;if(E(t)){var r=this.getDrawPaneById(t);r?.update(e)}else this._drawPanes.forEach(function(o){var a;o.update(e),(a=i._separatorPanes.get(o))===null||a===void 0||a.update(e)})},n.prototype.getDom=function(e,t){var i,r;if(!E(e))return this._chartContainer;var o=this.getDrawPaneById(e);if(E(o))switch(t??"root"){case"root":return o.getContainer();case"main":return o.getMainWidget().getContainer();case"yAxis":return(r=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getContainer())!==null&&r!==void 0?r:null}return null},n.prototype.getSize=function(e,t){var i,r;if(!E(e))return this._chartBounding;var o=this.getDrawPaneById(e);if(E(o))switch(t??"root"){case"root":return o.getBounding();case"main":return o.getMainWidget().getBounding();case"yAxis":return(r=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getBounding())!==null&&r!==void 0?r:null}return null},n.prototype._resetYAxisAutoCalcTickFlag=function(){this._drawPanes.forEach(function(e){e.getAxisComponent().setAutoCalcTickFlag(!0)})},n.prototype.setSymbol=function(e){e!==this.getSymbol()&&(this._resetYAxisAutoCalcTickFlag(),this._chartStore.setSymbol(e))},n.prototype.getSymbol=function(){return this._chartStore.getSymbol()},n.prototype.setPeriod=function(e){e!==this.getPeriod()&&(this._resetYAxisAutoCalcTickFlag(),this._chartStore.setPeriod(e))},n.prototype.getPeriod=function(){return this._chartStore.getPeriod()},n.prototype.setStyles=function(e){var t=this;this._setOptions(function(){t._chartStore.setStyles(e)})},n.prototype.getStyles=function(){return this._chartStore.getStyles()},n.prototype.setFormatter=function(e){var t=this;this._setOptions(function(){t._chartStore.setFormatter(e)})},n.prototype.getFormatter=function(){return this._chartStore.getFormatter()},n.prototype.setLocale=function(e){var t=this;this._setOptions(function(){t._chartStore.setLocale(e)})},n.prototype.getLocale=function(){return this._chartStore.getLocale()},n.prototype.setTimezone=function(e){var t=this;this._setOptions(function(){t._chartStore.setTimezone(e)})},n.prototype.getTimezone=function(){return this._chartStore.getTimezone()},n.prototype.setThousandsSeparator=function(e){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(e)})},n.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},n.prototype.setDecimalFold=function(e){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(e)})},n.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},n.prototype._setOptions=function(e){e(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.setOffsetRightDistance=function(e){this._chartStore.setOffsetRightDistance(e,!0)},n.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},n.prototype.setMaxOffsetLeftDistance=function(e){e<0||this._chartStore.setMaxOffsetLeftDistance(e)},n.prototype.setMaxOffsetRightDistance=function(e){e<0||this._chartStore.setMaxOffsetRightDistance(e)},n.prototype.setLeftMinVisibleBarCount=function(e){e<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(e))},n.prototype.setRightMinVisibleBarCount=function(e){e<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(e))},n.prototype.setBarSpace=function(e){this._chartStore.setBarSpace(e)},n.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},n.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},n.prototype.resetData=function(){this._chartStore.resetData()},n.prototype.getDataList=function(){return this._chartStore.getDataList()},n.prototype.setDataLoader=function(e){this._resetYAxisAutoCalcTickFlag(),this._chartStore.setDataLoader(e)},n.prototype.createIndicator=function(e,t,i){var r,o=G(e)?{name:e}:e;if(Ve(o.name)===null)return null;var a=i??{};if(G(a.id)||(a.id=ne(Ue)),G(o.id)||(o.id=ne(o.name)),this._chartStore.addIndicator(o,a.id,t!=null&&t)){var s=!1;return E(this.getDrawPaneById(a.id))||(this._createPane(vi,a.id,a),(r=a.height)!==null&&r!==void 0||(a.height=100),s=!0),this.setPaneOptions(a),this.layout({sort:s,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),o.id}return null},n.prototype.overrideIndicator=function(e){return this._chartStore.overrideIndicator(e)},n.prototype.getIndicators=function(e){return this._chartStore.getIndicatorsByFilter(e??{})},n.prototype.removeIndicator=function(e){var t=this,i=this._chartStore.removeIndicator(e??{});if(i){var r=!1,o=[];this._drawPanes.forEach(function(a){var s=a.getId();s!==ut&&s!==it&&o.push(s)}),o.forEach(function(a){if(!t._chartStore.hasIndicators(a)){var s=t._drawPanes.findIndex(function(l){return l.getId()===a}),u=t._drawPanes[s];E(u)&&(r=!0,t._recalculatePaneHeight(u,0,u.getBounding().height),t._drawPanes.splice(s,1),u.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:r,measureHeight:r,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return i},n.prototype.createOverlay=function(e){var t=this,i=[],r=[],o=function(s){E(s.paneId)&&t.getDrawPaneById(s.paneId)!==null?r.push(!0):(s.paneId=ut,r.push(!1)),i.push(s)};G(e)?o({name:e}):Tt(e)?e.forEach(function(s){var u=null;u=G(s)?{name:s}:s,o(u)}):o(e);var a=this._chartStore.addOverlays(i,r);return Tt(e)?a:a[0]},n.prototype.getOverlays=function(e){return this._chartStore.getOverlaysByFilter(e??{})},n.prototype.overrideOverlay=function(e){return this._chartStore.overrideOverlay(e)},n.prototype.removeOverlay=function(e){return this._chartStore.removeOverlay(e??{})},n.prototype.setPaneOptions=function(e){var t,i,r,o=this,a=!1,s=!1,u=E(e.id),l=function(d){var g=d.getId();if(u&&e.id===g||!u){if(g!==it){if(W(e.height)&&e.height>0){var v=Math.max((r=e.minHeight)!==null&&r!==void 0?r:d.getOptions().minHeight,0),f=Math.max(v,e.height);s=!0,a=!0,d.setOriginalBounding({height:f}),c._recalculatePaneHeight(d,f,-f)}if(E(e.state)&&d.getOptions().state!==e.state){a=!0,s=!0;var x=e.state;switch(x){case"maximize":if(!E(c._drawPanes.find(function(C){var _=C.getId();return C.getOptions().state==="maximize"&&_!==it}))){d.getOptions().state==="normal"&&d.setOriginalBounding({height:d.getBounding().height}),d.setOptions({state:x});var m=c._chartBounding.height;d.setBounding({height:m-c._xAxisPane.getBounding().height}),c._drawPanes.forEach(function(C){var _;C.getId()!==it&&C.getId()!==g&&(C.setBounding({height:C.getOriginalBounding().height}),C.setVisible(!1),(_=o._separatorPanes.get(C))===null||_===void 0||_.setVisible(!1))})}break;case"minimize":f=d.getBounding().height;var y=d.getOptions().state,b=f-30;y==="maximize"&&(b=d.getOriginalBounding().height-30),c._recalculatePaneHeight(d,30,b)&&(y==="normal"&&d.setOriginalBounding({height:f}),d.setOptions({state:x})),c._drawPanes.forEach(function(C){var _;C.getId()!==it&&(C.setVisible(!0),(_=o._separatorPanes.get(C))===null||_===void 0||_.setVisible(!0))});break;default:f=d.getOriginalBounding().height,c._recalculatePaneHeight(d,f,d.getBounding().height-f)&&d.setOptions({state:x}),c._drawPanes.forEach(function(C){var _;C.getId()!==it&&(C.setVisible(!0),(_=o._separatorPanes.get(C))===null||_===void 0||_.setVisible(!0))})}}}E(e.axis)&&(s=!0);var w=D({},e);if(delete w.state,d.setOptions(w),g===e.id)return"break"}},c=this;try{for(var h=mt(this._drawPanes),p=h.next();!p.done&&l(p.value)!=="break";p=h.next());}catch(d){t={error:d}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}s&&this.layout({measureHeight:a,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.getPaneOptions=function(e){var t;if(E(e)){var i=this.getDrawPaneById(e);return(t=i?.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(r){return r.getOptions()})},n.prototype.setZoomEnabled=function(e){this._chartStore.setZoomEnabled(e)},n.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},n.prototype.setScrollEnabled=function(e){this._chartStore.setScrollEnabled(e)},n.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},n.prototype.scrollByDistance=function(e,t){var i=this,r=W(t)&&t>0?t:0;if(this._chartStore.startScroll(),r>0){var o=new pe({duration:r});o.doFrame(function(a){var s=e*(a/r);i._chartStore.scroll(s)}),o.start()}else this._chartStore.scroll(e)},n.prototype.scrollToRealTime=function(e){var t=this._chartStore.getBarSpace().bar,i=(this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t)*t;this.scrollByDistance(i,e)},n.prototype.scrollToDataIndex=function(e,t){var i=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-e))*this._chartStore.getBarSpace().bar;this.scrollByDistance(i,t)},n.prototype.scrollToTimestamp=function(e,t){var i=ve(this.getDataList(),"timestamp",e);this.scrollToDataIndex(i,t)},n.prototype.zoomAtCoordinate=function(e,t,i){var r=this,o=W(i)&&i>0?i:0,a=this._chartStore.getBarSpace().bar,s=a*e-a;if(o>0){var u=0,l=new pe({duration:o});l.doFrame(function(c){var h=s*(c/o),p=(h-u)/r._chartStore.getBarSpace().bar*10;r._chartStore.zoom(p,t),u=h}),l.start()}else this._chartStore.zoom(s/a*10,t)},n.prototype.zoomAtDataIndex=function(e,t,i){var r=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:r,y:0},i)},n.prototype.zoomAtTimestamp=function(e,t,i){var r=ve(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,r,i)},n.prototype.convertToPixel=function(e,t){var i,r=this,o=t??{},a=o.paneId,s=a===void 0?ut:a,u=o.absolute,l=u!==void 0&&u,c=[];if(s!==it){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),g=this._xAxisPane.getAxisComponent(),v=h.getAxisComponent();c=d.map(function(f){var x={},m=f.dataIndex;if(W(f.timestamp)&&(m=r._chartStore.timestampToDataIndex(f.timestamp)),W(m)&&(x.x=g.convertToPixel(m)),W(f.value)){var y=v.convertToPixel(f.value);x.y=l?p.top+y:y}return x})}}return Tt(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},n.prototype.convertFromPixel=function(e,t){var i,r=this,o=t??{},a=o.paneId,s=a===void 0?ut:a,u=o.absolute,l=u!==void 0&&u,c=[];if(s!==it){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),g=this._xAxisPane.getAxisComponent(),v=h.getAxisComponent();c=d.map(function(f){var x,m={};if(W(f.x)){var y=g.convertFromPixel(f.x);m.dataIndex=y,m.timestamp=(x=r._chartStore.dataIndexToTimestamp(y))!==null&&x!==void 0?x:void 0}if(W(f.y)){var b=l?f.y-p.top:f.y;m.value=v.convertFromPixel(b)}return m})}}return Tt(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},n.prototype.executeAction=function(e,t){var i;if(e==="onCrosshairChange"){var r=D({},t);(i=r.paneId)!==null&&i!==void 0||(r.paneId=ut),this._chartStore.setCrosshair(r,{notExecuteAction:!0})}},n.prototype.subscribeAction=function(e,t){this._chartStore.subscribeAction(e,t)},n.prototype.unsubscribeAction=function(e,t){this._chartStore.unsubscribeAction(e,t)},n.prototype.getConvertPictureUrl=function(e,t,i){var r=this,o=this._chartBounding,a=o.width,s=o.height,u=Dt("canvas",{width:"".concat(a,"px"),height:"".concat(s,"px"),boxSizing:"border-box"}),l=u.getContext("2d"),c=Rt(u);u.width=a*c,u.height=s*c,l.scale(c,c),l.fillStyle=i??"#FFFFFF",l.fillRect(0,0,a,s);var h=e!=null&&e;return this._drawPanes.forEach(function(p){var d=r._separatorPanes.get(p);if(E(d)){var g=d.getBounding();l.drawImage(d.getImage(h),g.left,g.top,g.width,g.height)}var v=p.getBounding();l.drawImage(p.getImage(h),0,v.top,a,v.height)}),u.toDataURL("image/".concat(t??"jpeg"))},n.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(e){e.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._chartStore.destroy(),this._container.removeChild(this._chartContainer)},n}(),le=new Map,zr=1,Nr={clone:zt,merge:K,isString:G,isNumber:W,isValid:E,isObject:bt,isArray:Tt,isFunction:ht,isBoolean:Gt,formatValue:nt,formatPrecision:lt,formatBigNumber:Pe,formatDate:Te,formatThousands:Me,formatFoldDecimal:Ie,calcTextWidth:wt,getLinearSlopeIntercept:ae,getLinearYFromSlopeIntercept:_e,getLinearYFromCoordinates:Ut,checkCoordinateOnArc:ti,checkCoordinateOnCircle:je,checkCoordinateOnLine:Ye,checkCoordinateOnPolygon:Qe,checkCoordinateOnRect:be,checkCoordinateOnText:Ke};rt.dispose=function(n){var e,t,i=null;if(n instanceof bi)i=n.id;else{var r=null;i=(e=(r=G(n)?document.getElementById(n):n)==null?void 0:r.getAttribute("k-line-chart-id"))!==null&&e!==void 0?e:null}i!==null&&((t=le.get(i))===null||t===void 0||t.destroy(),le.delete(i))},rt.getFigureClass=function(n){var e;return(e=jt[n])!==null&&e!==void 0?e:null},rt.getOverlayClass=function(n){var e;return(e=Zt[n])!==null&&e!==void 0?e:null},rt.getSupportedFigures=function(){return Object.keys(jt)},rt.getSupportedIndicators=function(){return Object.keys(oe)},rt.getSupportedLocales=function(){return Object.keys(se)},rt.getSupportedOverlays=function(){return Object.keys(Zt)},rt.init=function(n,e){var t=null;if((t=G(n)?document.getElementById(n):n)===null)return null;var i=le.get(t.id);if(E(i))return i;var r="k_line_chart_".concat(zr++);return(i=new bi(t,e)).id=r,t.setAttribute("k-line-chart-id",r),le.set(r,i),i},rt.registerFigure=function(n){jt[n.name]=Ne.extend(n)},rt.registerIndicator=function(n){oe[n.name]=Oe.extend(n)},rt.registerLocale=function(n,e){se[n]=D(D({},se[n]),e)},rt.registerOverlay=function(n){Zt[n.name]=ze.extend(n)},rt.registerStyles=function(n,e){Ge[n]=e},rt.registerXAxis=function(n){Ce[n.name]=fi.extend(n)},rt.registerYAxis=function(n){we[n.name]=Qt.extend(n)},rt.utils=Nr,rt.version=function(){return"10.0.0-alpha9"}});</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f5f0d6d79a8fb0825e285ab72dc542cb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-6513cd5a><!--[--><!----><!--]--><!--[--><span tabindex="-1" data-v-76f56efd></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-76f56efd>Skip to content</a><!--]--><!----><header class="VPNav" data-v-6513cd5a data-v-6de1972e><div class="VPNavBar" data-v-6de1972e data-v-19a0ddea><div class="wrapper" data-v-19a0ddea><div class="container" data-v-19a0ddea><div class="title" data-v-19a0ddea><div class="VPNavBarTitle has-sidebar" data-v-19a0ddea data-v-a5d60ba4><a class="title" href="/" data-v-a5d60ba4><!--[--><!--]--><!--[--><img class="VPImage logo" src="/images/logo-nav.svg" alt data-v-e4d4d660><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-19a0ddea><div class="content-body" data-v-19a0ddea><!--[--><!--]--><div class="VPNavBarSearch search" data-v-19a0ddea><!--[--><!----><div id="local-search"><button type="button" aria-label="搜索文档" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-19a0ddea data-v-11b896a6><span id="main-nav-aria-label" class="visually-hidden" data-v-11b896a6> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/guide/introduction" tabindex="0" data-v-11b896a6 data-v-065bd0b4><!--[--><span data-v-065bd0b4>指南</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-11b896a6 data-v-0d1b1df1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0d1b1df1><span class="text" data-v-0d1b1df1><!----><span data-v-0d1b1df1>API</span><span class="vpi-chevron-down text-icon" data-v-0d1b1df1></span></span></button><div class="menu" data-v-0d1b1df1><div class="VPMenu" data-v-0d1b1df1 data-v-ffebc822><div class="items" data-v-ffebc822><!--[--><!--[--><div class="VPMenuLink" data-v-ffebc822 data-v-a85689a3><a class="VPLink link" href="/api/chart/init" data-v-a85689a3><!--[--><span data-v-a85689a3>图表API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffebc822 data-v-a85689a3><a class="VPLink link" href="/api/instance/getDom" data-v-a85689a3><!--[--><span data-v-a85689a3>实例API</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://pro.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-11b896a6 data-v-065bd0b4><!--[--><span data-v-065bd0b4>Pro</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://preview.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-11b896a6 data-v-065bd0b4><!--[--><span data-v-065bd0b4>预览</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/customize" tabindex="0" data-v-11b896a6 data-v-065bd0b4><!--[--><span data-v-065bd0b4>定制</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sponsor" tabindex="0" data-v-11b896a6 data-v-065bd0b4><!--[--><span data-v-065bd0b4>赞助</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-11b896a6 data-v-0d1b1df1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-0d1b1df1><span class="text" data-v-0d1b1df1><!----><span data-v-0d1b1df1>10.0.0-alpha9</span><span class="vpi-chevron-down text-icon" data-v-0d1b1df1></span></span></button><div class="menu" data-v-0d1b1df1><div class="VPMenu" data-v-0d1b1df1 data-v-ffebc822><div class="items" data-v-ffebc822><!--[--><!--[--><div class="VPMenuLink" data-v-ffebc822 data-v-a85689a3><a class="VPLink link vp-external-link-icon" href="https://v9.klinecharts.com" target="_blank" rel="noreferrer" data-v-a85689a3><!--[--><span data-v-a85689a3>9.x 文档</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-ffebc822 data-v-a85689a3><a class="VPLink link vp-external-link-icon" href="https://v8.klinecharts.com/zh-CN" target="_blank" rel="noreferrer" data-v-a85689a3><!--[--><span data-v-a85689a3>8.x 文档</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-19a0ddea data-v-bfb5a6e9 data-v-0d1b1df1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-0d1b1df1><span class="text" data-v-0d1b1df1><span class="vpi-languages option-icon" data-v-0d1b1df1></span><!----><span class="vpi-chevron-down text-icon" data-v-0d1b1df1></span></span></button><div class="menu" data-v-0d1b1df1><div class="VPMenu" data-v-0d1b1df1 data-v-ffebc822><!----><!--[--><!--[--><div class="items" data-v-bfb5a6e9><p class="title" data-v-bfb5a6e9>🇨🇳 简体中文</p><!--[--><div class="VPMenuLink" data-v-bfb5a6e9 data-v-a85689a3><a class="VPLink link" href="/en-US/api/instance/setLocale" data-v-a85689a3><!--[--><span data-v-a85689a3>🇬🇧 English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-19a0ddea data-v-a4b0aa34><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-a4b0aa34 data-v-6c55ff89 data-v-69b22ad7><span class="check" data-v-69b22ad7><span class="icon" data-v-69b22ad7><!--[--><span class="vpi-sun sun" data-v-6c55ff89></span><span class="vpi-moon moon" data-v-6c55ff89></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-19a0ddea data-v-4eee49f8 data-v-03e4b311><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/guide/feedback" aria-label target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-19a0ddea data-v-f943a9ab data-v-0d1b1df1><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-0d1b1df1><span class="vpi-more-horizontal icon" data-v-0d1b1df1></span></button><div class="menu" data-v-0d1b1df1><div class="VPMenu" data-v-0d1b1df1 data-v-ffebc822><!----><!--[--><!--[--><div class="group translations" data-v-f943a9ab><p class="trans-title" data-v-f943a9ab>🇨🇳 简体中文</p><!--[--><div class="VPMenuLink" data-v-f943a9ab data-v-a85689a3><a class="VPLink link" href="/en-US/api/instance/setLocale" data-v-a85689a3><!--[--><span data-v-a85689a3>🇬🇧 English</span><!--]--></a></div><!--]--></div><div class="group" data-v-f943a9ab><div class="item appearance" data-v-f943a9ab><p class="label" data-v-f943a9ab>主题</p><div class="appearance-action" data-v-f943a9ab><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f943a9ab data-v-6c55ff89 data-v-69b22ad7><span class="check" data-v-69b22ad7><span class="icon" data-v-69b22ad7><!--[--><span class="vpi-sun sun" data-v-6c55ff89></span><span class="vpi-moon moon" data-v-6c55ff89></span><!--]--></span></span></button></div></div></div><div class="group" data-v-f943a9ab><div class="item social-links" data-v-f943a9ab><div class="VPSocialLinks social-links-list" data-v-f943a9ab data-v-03e4b311><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/guide/feedback" aria-label target="_blank" rel="me noopener" data-v-03e4b311 data-v-805579ed><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-19a0ddea data-v-cf84fd08><span class="container" data-v-cf84fd08><span class="top" data-v-cf84fd08></span><span class="middle" data-v-cf84fd08></span><span class="bottom" data-v-cf84fd08></span></span></button></div></div></div></div><div class="divider" data-v-19a0ddea><div class="divider-line" data-v-19a0ddea></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-6513cd5a data-v-c1f2c60e><div class="container" data-v-c1f2c60e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-c1f2c60e><span class="vpi-align-left menu-icon" data-v-c1f2c60e></span><span class="menu-text" data-v-c1f2c60e>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-c1f2c60e data-v-166fd9c8><button data-v-166fd9c8>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-6513cd5a data-v-5929de4c><div class="curtain" data-v-5929de4c></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-5929de4c><span class="visually-hidden" id="sidebar-aria-label" data-v-5929de4c> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-55e2b5c0><section class="VPSidebarItem level-0 has-active" data-v-55e2b5c0 data-v-136ad9b1><!----><div class="items" data-v-136ad9b1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getDom" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getDom</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getSize" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getSize</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setStyles" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setStyles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getStyles" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getStyles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setFormatter" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setFormatter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getFormatter" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getFormatter</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setLocale" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setLocale</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getLocale" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getLocale</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setTimezone" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setTimezone</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getTimezone" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getTimezone</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setThousandsSeparator" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setThousandsSeparator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getThousandsSeparator" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getThousandsSeparator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setDecimalFold" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setDecimalFold</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getDecimalFold" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getDecimalFold</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setOffsetRightDistance" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getOffsetRightDistance" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setMaxOffsetLeftDistance" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setMaxOffsetLeftDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setMaxOffsetRightDistance" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setMaxOffsetRightDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setLeftMinVisibleBarCount" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setLeftMinVisibleBarCount</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setRightMinVisibleBarCount" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setRightMinVisibleBarCount</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setBarSpace" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setBarSpace</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getBarSpace" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getBarSpace</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setSymbol" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setSymbol</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getSymbol" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getSymbol</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setPeriod" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setPeriod</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getPeriod" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getPeriod</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setDataLoader" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setDataLoader</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/resetData" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>resetData</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getDataList" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getDataList</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getVisibleRange" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getVisibleRange</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/createIndicator" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>createIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/overrideIndicator" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>overrideIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getIndicators" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getIndicators</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/removeIndicator" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>removeIndicator</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/createOverlay" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>createOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/overrideOverlay" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>overrideOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getOverlays" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getOverlays</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/removeOverlay" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>removeOverlay</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setPaneOptions" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setPaneOptions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getPaneOptions" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getPaneOptions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setZoomEnabled" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setZoomEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/isZoomEnabled" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>isZoomEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/setScrollEnabled" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>setScrollEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/isScrollEnabled" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>isScrollEnabled</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/scrollByDistance" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>scrollByDistance</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/scrollToRealTime" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>scrollToRealTime</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/scrollToDataIndex" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>scrollToDataIndex</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/scrollToTimestamp" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>scrollToTimestamp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/zoomAtCoordinate" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>zoomAtCoordinate</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/zoomAtDataIndex" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>zoomAtDataIndex</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/zoomAtTimestamp" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>zoomAtTimestamp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/convertToPixel" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>convertToPixel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/convertFromPixel" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>convertFromPixel</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/executeAction" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>executeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/subscribeAction" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>subscribeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/unsubscribeAction" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>unsubscribeAction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/getConvertPictureUrl" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>getConvertPictureUrl</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-136ad9b1 data-v-136ad9b1><div class="item" data-v-136ad9b1><div class="indicator" data-v-136ad9b1></div><a class="VPLink link link" href="/api/instance/resize" data-v-136ad9b1><!--[--><p class="text" data-v-136ad9b1>resize</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-6513cd5a data-v-495e41b2><div class="VPDoc has-sidebar has-aside" data-v-495e41b2 data-v-6d3dd29d><!--[--><!--]--><div class="container" data-v-6d3dd29d><div class="aside" data-v-6d3dd29d><div class="aside-curtain" data-v-6d3dd29d></div><div class="aside-container" data-v-6d3dd29d><div class="aside-content" data-v-6d3dd29d><div class="VPDocAside" data-v-6d3dd29d data-v-e186edae><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-e186edae data-v-e2ffad76><div class="content" data-v-e2ffad76><div class="outline-marker" data-v-e2ffad76></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-e2ffad76>页面导航</div><ul class="VPDocOutlineItem root" data-v-e2ffad76 data-v-4e1134d4><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-e186edae></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><a class="asideSponsor" href="https://www.tradingx.cloud/" target="_blank" rel="noopener noreferrer" data-v-2e8097db><img class="" src="/images/sponsors/tradingx.png" alt="tradingx" data-v-2e8097db><span style="padding:6px 22px 0 22px;text-align:center;" data-v-2e8097db>以免费赋能专业，以创新重塑交易</span></a><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-6d3dd29d><div class="content-container" data-v-6d3dd29d><!--[--><!--]--><main class="main" data-v-6d3dd29d><div style="position:relative;" class="vp-doc _api_instance_setLocale" data-v-6d3dd29d><div><h1 id="setlocale-locale" tabindex="-1">setLocale(locale) <a class="header-anchor" href="#setlocale-locale" aria-label="Permalink to “setLocale(locale)”">​</a></h1><p><code>setLocale</code> 设置图表的语言。</p><h2 id="reference" tabindex="-1">参考 <a class="header-anchor" href="#reference" aria-label="Permalink to “参考”">​</a></h2><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">locale</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> void</span></span></code></pre></div><h3 id="parameters" tabindex="-1">参数 <a class="header-anchor" href="#parameters" aria-label="Permalink to “参数”">​</a></h3><ul><li><code>locale</code> 语言名称，已内置 <code>zh-CN</code> 和 <code>en-US</code> 。</li></ul><h3 id="returns" tabindex="-1">返回值 <a class="header-anchor" href="#returns" aria-label="Permalink to “返回值”">​</a></h3><p><code>setLocale</code> 返回 <code>undefined</code> 。</p><h2 id="usage" tabindex="-1">用法 <a class="header-anchor" href="#usage" aria-label="Permalink to “用法”">​</a></h2><h3 id="basic" tabindex="-1">基本用法 <a class="header-anchor" href="#basic" aria-label="Permalink to “基本用法”">​</a></h3><!----><h3 id="extension" tabindex="-1">扩展语言 <a class="header-anchor" href="#extension" aria-label="Permalink to “扩展语言”">​</a></h3><!----></div></div></main><footer class="VPDocFooter" data-v-6d3dd29d data-v-3c03a735><!--[--><!--]--><div class="edit-info" data-v-3c03a735><div class="edit-link" data-v-3c03a735><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/klinecharts/KLineChart/edit/main/docs/api/instance/setLocale.md" target="_blank" rel="noreferrer" data-v-3c03a735><!--[--><span class="vpi-square-pen edit-link-icon" data-v-3c03a735></span> 在 GitHub 上编辑此页面<!--]--></a></div><div class="last-updated" data-v-3c03a735><p class="VPLastUpdated" data-v-3c03a735 data-v-96d39bda>最后更新于: <time datetime="2024-11-29T18:31:55.000Z" data-v-96d39bda></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-3c03a735><span class="visually-hidden" id="doc-footer-aria-label" data-v-3c03a735>Pager</span><div class="pager" data-v-3c03a735><a class="VPLink link pager-link prev" href="/api/instance/getFormatter" data-v-3c03a735><!--[--><span class="desc" data-v-3c03a735>上一篇</span><span class="title" data-v-3c03a735>getFormatter</span><!--]--></a></div><div class="pager" data-v-3c03a735><a class="VPLink link pager-link next" href="/api/instance/getLocale" data-v-3c03a735><!--[--><span class="desc" data-v-3c03a735>下一篇</span><span class="title" data-v-3c03a735>getLocale</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-6513cd5a data-v-7219b4f1><div class="container" data-v-7219b4f1><p class="message" data-v-7219b4f1>Released under the <a href="https://github.com/klinecharts/KLineChart/blob/main/LICENSE">Apache License V2</a>.</p><p class="copyright" data-v-7219b4f1>Copyright © 2018-2025 <a href="https://github.com/liihuu">liihuu</a></p></div></footer><!--[--><!--]--></div></div>
    
    
  </body>
</html>