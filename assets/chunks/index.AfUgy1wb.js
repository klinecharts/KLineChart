import{C as t}from"./theme.B6zqwY_9.js";import{b as n,o as e,k as a}from"./framework.D7QdUWJa.js";const r=JSON.parse(`{"js":"import { init, registerFigure, registerOverlay } from 'klinecharts'\\n\\nregisterFigure({\\n  name: 'diamond',\\n  draw: (ctx, attrs, styles) => {\\n    const { x, y, width, height } = attrs\\n    const { color } = styles\\n    ctx.beginPath()\\n    ctx.moveTo(x - width / 2, y)\\n    ctx.lineTo(x, y - height / 2)\\n    ctx.lineTo(x + width / 2, y)\\n    ctx.lineTo(x, y + height / 2)\\n    ctx.closePath()\\n    ctx.fillStyle = color\\n    ctx.fill()\\n  },\\n  checkEventOn: (coordinate, attrs) => {\\n    const { x, y } = coordinate\\n    const { width, height } = attrs\\n    return Math.abs(x * height) + Math.abs(y * width) <= width * height / 2\\n  }\\n})\\n\\nregisterOverlay({\\n  name: 'customOverlayCustomFigure',\\n  totalStep: 2,\\n  createPointFigures: ({ coordinates }) => {\\n    return {\\n      type: 'diamond',\\n      attrs: {\\n        x: coordinates[0].x,\\n        y: coordinates[0].y,\\n        width: 50,\\n        height: 50\\n      },\\n      styles: { color: '#a0a7e6' }\\n    }\\n  }\\n})\\n\\nconst chart = init('custom-figure-custom-overlay-chart')\\n\\nchart.setSymbol({ ticker: 'TestSymbol' })\\nchart.setPeriod({ span: 1, type: 'day' })\\nchart.setDataLoader({\\n  getBars: ({\\n    callback\\n  }) => {\\n    fetch('https://klinecharts.com/datas/kline.json')\\n      .then(res => res.json())\\n      .then(dataList => {\\n        callback(dataList)\\n        const data = dataList[dataList.length - 10]\\n        chart.createOverlay({\\n          name: 'customOverlayCustomFigure',\\n          points: [{ timestamp: data.timestamp, value: data.close }]\\n        })\\n      })\\n  }\\n})\\n"}`),l={__name:"index",setup(s){return(o,c)=>(e(),n(t,{title:"custom-figure-custom-overlay",chartId:"custom-figure-custom-overlay-chart",code:a(r).js},null,8,["code"]))}};export{l as _};
