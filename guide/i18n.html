<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>üåè ÂõΩÈôÖÂåñ | KLineChart</title>
    <meta name="description" content="üíπüìà ÂèØÈ´òÂ∫¶Ëá™ÂÆö‰πâÁöÑ‰∏ì‰∏öÁ∫ßËΩªÈáèÈáëËûçÂõæË°®„ÄÇ">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.CHVAAbaW.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    <script type="module" src="/assets/chunks/metadata.bdd43f3f.js"></script>
    <script type="module" src="/assets/app.ByNMzXfN.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BdMbXwLc.js">
    <link rel="modulepreload" href="/assets/chunks/framework.DauHvhb0.js">
    <link rel="modulepreload" href="/assets/guide_i18n.md.DGRwqLuU.lean.js">
    <link rel="icon" type="image/x-icon" href="/images/fav.png">
    <script>/**
     * @license
     * KLineChart v10.0.0-beta1
     * Copyright (c) 2019 lihu.
     * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
     */(function(rt,Q){typeof exports=="object"&&typeof module<"u"?Q(exports):typeof define=="function"&&define.amd?define(["exports"],Q):Q((rt=typeof globalThis<"u"?globalThis:rt||self).klinecharts={})})(this,function(rt){"use strict";function Q(n,e){if(ft(n)||ft(e)){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=n[t],r=e[t];ft(r)&&ft(i)?Q(i,r):n[t]=Vt(r)}}}function Vt(n){if(!ft(n))return n;var e=null;for(var t in e=bt(n)?[]:{},n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=n[t];ft(i)?e[t]=Vt(i):e[t]=i}return e}function bt(n){return Object.prototype.toString.call(n)==="[object Array]"}function st(n){return typeof n=="function"}function ft(n){return typeof n=="object"&&E(n)}function W(n){return typeof n=="number"&&Number.isFinite(n)}function E(n){return n!=null}function Xt(n){return typeof n=="boolean"}function H(n){return typeof n=="string"}var Ti=/\\(\\)?/g,Si=RegExp(`[^.[\\]]+|\\[(?:([^"'][^[]*)|(["'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))`,"g");function nt(n,e,t){if(E(n)){var i=[];e.replace(Si,function(s){for(var u=[],l=1;l<arguments.length;l++)u[l-1]=arguments[l];var c=s;return E(u[1])?c=u[2].replace(Ti,"$1"):E(u[0])&&(c=u[0].trim()),i.push(c),""});for(var r=n,o=0,a=i.length;E(r)&&o<a;)r=r?.[i[o++]];return E(r)?r:t??"--"}return t??"--"}function Se(n,e,t){var i=function(r,o){var a={};return r.formatToParts(new Date(o)).forEach(function(s){var u=s.type,l=s.value;switch(u){case"year":a.YYYY=l;break;case"month":a.MM=l;break;case"day":a.DD=l;break;case"hour":a.HH=l==="24"?"00":l;break;case"minute":a.mm=l;break;case"second":a.ss=l}}),a}(n,e);return t.replace(/YYYY|MM|DD|HH|mm|ss/g,function(r){return i[r]})}function ot(n,e){var t=+n;return W(t)?t.toFixed(e??2):"".concat(n)}function Pe(n){var e=+n;if(W(e)){if(e>1e9)return"".concat(+(e/1e9).toFixed(3),"B");if(e>1e6)return"".concat(+(e/1e6).toFixed(3),"M");if(e>1e3)return"".concat(+(e/1e3).toFixed(3),"K")}return"".concat(n)}function Me(n,e){var t="".concat(n);if(e.length===0)return t;if(t.includes(".")){var i=t.split(".");return"".concat(i[0].replace(/(\d)(?=(\d{3})+$)/g,function(r){return"".concat(r).concat(e)}),".").concat(i[1])}return t.replace(/(\d)(?=(\d{3})+$)/g,function(r){return"".concat(r).concat(e)})}function Ie(n,e){var t="".concat(n);if(new RegExp("\\.0{"+e+",}[1-9][0-9]*$").test(t)){var i=t.split("."),r=i.length-1,o=i[r],a=/0*/.exec(o);if(E(a)){var s=a[0].length;return i[r]=o.replace(/0*/,"0{".concat(s,"}")),i.join(".")}}return t}function De(n,e){return n.replace(/\{(\w+)\}/g,function(t,i){var r=e[i];return E(r)?r:"{".concat(i,"}")})}var Jt=null;function Ft(n){var e,t;return(t=(e=n.ownerDocument.defaultView)===null||e===void 0?void 0:e.devicePixelRatio)!==null&&t!==void 0?t:1}function Wt(n,e,t){return"".concat(e??"normal"," ").concat(n??12,"px ").concat(t??"Helvetica Neue")}function mt(n,e,t,i){if(!E(Jt)){var r=document.createElement("canvas"),o=Ft(r);(Jt=r.getContext("2d")).scale(o,o)}return Jt.font=Wt(e,t,i),Math.round(Jt.measureText(n).width)}var ce=function(n,e){return ce=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},ce(n,e)};function Y(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}ce(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var D=function(){return D=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},D.apply(this,arguments)};function $t(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function he(n,e,t,i){return new(t||(t=Promise))(function(r,o){function a(l){try{u(i.next(l))}catch(c){o(c)}}function s(l){try{u(i.throw(l))}catch(c){o(c)}}function u(l){var c;l.done?r(l.value):(c=l.value,c instanceof t?c:new t(function(h){h(c)})).then(a,s)}u((i=i.apply(n,e||[])).next())})}function de(n,e){var t,i,r,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]},a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(u){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(o=0)),o;)try{if(t=1,i&&(r=2&c[0]?i.return:c[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,c[1])).done)return r;switch(i=0,r&&(c=[2&c[0],r.value]),c[0]){case 0:case 1:r=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,i=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(r=o.trys,!((r=r.length>0&&r[r.length-1])||c[0]!==6&&c[0]!==2)){o=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){o.label=c[1];break}if(c[0]===6&&o.label<r[1]){o.label=r[1],r=c;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(c);break}r[2]&&o.ops.pop(),o.trys.pop();continue}c=e.call(n,o)}catch(h){c=[6,h],i=0}finally{t=r=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([u,l])}}}function yt(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gt(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i,r,o=t.call(n),a=[];try{for(;(e===void 0||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}return a}function Kt(n,e,t){if(t||arguments.length===2)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return n.concat(i||Array.prototype.slice.call(e))}function te(n){var e={width:0,height:0,left:0,right:0,top:0,bottom:0};return E(n)&&Q(e,n),e}typeof SuppressedError=="function"&&SuppressedError;function ee(n){return st(window.requestAnimationFrame)?window.requestAnimationFrame(n):window.setTimeout(n,20)}function ke(n){st(window.cancelAnimationFrame)?window.cancelAnimationFrame(n):window.clearTimeout(n)}var pe=function(){function n(e){this._options={duration:500,iterationCount:1},this._currentIterationCount=0,this._running=!1,this._time=0,Q(this._options,e)}return n.prototype._loop=function(){var e=this;this._running=!0;var t=function(){var i;if(e._running){var r=new Date().getTime()-e._time;r<e._options.duration?((i=e._doFrameCallback)===null||i===void 0||i.call(e,r),ee(t)):(e.stop(),e._currentIterationCount++,e._currentIterationCount<e._options.iterationCount&&e.start())}};ee(t)},n.prototype.doFrame=function(e){return this._doFrameCallback=e,this},n.prototype.setDuration=function(e){return this._options.duration=e,this},n.prototype.setIterationCount=function(e){return this._options.iterationCount=e,this},n.prototype.start=function(){this._running||(this._time=new Date().getTime(),this._loop())},n.prototype.stop=function(){var e;this._running&&((e=this._doFrameCallback)===null||e===void 0||e.call(this,this._options.duration)),this._running=!1},n}(),ge=1,Ae=new Date().getTime();function ie(n){var e=new Date().getTime();return e===Ae?++ge:ge=1,Ae=e,"".concat(n??"").concat(e,"_").concat(ge)}function St(n,e){var t,i=document.createElement(n),r=e??{};for(var o in r)i.style[o]=(t=r[o])!==null&&t!==void 0?t:"";return i}function ve(n,e,t){var i=0,r=0;for(r=n.length-1;i!==r;){var o=Math.floor((r+i)/2),a=r-i,s=n[o][e];if(t===n[i][e])return i;if(t===n[r][e])return r;if(t===s)return o;if(t>s?i=o:r=o,a<=2)break}return i}function Fe(n,e){e=Math.max(0,e??0);var t=Math.pow(10,e);return Math.round(n*t)/t}function Be(n,e,t){for(var i,r,o=[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],a=n.length,s=0;s<a;){var u=n[s];o[0]=Math.max((i=u[e])!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER,o[0]),o[1]=Math.min((r=u[t])!==null&&r!==void 0?r:Number.MAX_SAFE_INTEGER,o[1]),++s}return o}function Pt(n){return n===0?0:Math.log10(n)}function zt(n){return Math.pow(10,n)}var Pi=function(){function n(e){this._holdingTasks=null,this._running=!1,this._callback=e}return n.prototype.add=function(e){this._running?E(this._holdingTasks)?this._holdingTasks=D(D({},this._holdingTasks),e):this._holdingTasks=e:this._runTask(e)},n.prototype._runTask=function(e){return he(this,void 0,void 0,function(){var t,i;return de(this,function(r){switch(r.label){case 0:this._running=!0,r.label=1;case 1:return r.trys.push([1,,3,4]),[4,Promise.all(Object.values(e))];case 2:return r.sent(),[3,4];case 3:return this._running=!1,(i=this._callback)===null||i===void 0||i.call(this),E(this._holdingTasks)&&(t=this._holdingTasks,this._runTask(t),this._holdingTasks=null),[7];case 4:return[2]}})})},n.prototype.clear=function(){this._holdingTasks=null},n}(),lt=2,fe=0,Mi=function(){function n(){this._callbacks=[]}return n.prototype.subscribe=function(e){this._callbacks.indexOf(e)<0&&this._callbacks.push(e)},n.prototype.unsubscribe=function(e){if(st(e)){var t=this._callbacks.indexOf(e);t>-1&&this._callbacks.splice(t,1)}else this._callbacks=[]},n.prototype.execute=function(e){this._callbacks.forEach(function(t){t(e)})},n.prototype.isEmpty=function(){return this._callbacks.length===0},n}();function Nt(n){return n==="transparent"||n==="none"||/^[rR][gG][Bb][Aa]\(([\s]*(2[0-4][0-9]|25[0-5]|[01]?[0-9][0-9]?)[\s]*,){3}[\s]*0[\s]*\)$/.test(n)||/^[hH][Ss][Ll][Aa]\(([\s]*(360ÔΩú3[0-5][0-9]|[012]?[0-9][0-9]?)[\s]*,)([\s]*((100|[0-9][0-9]?)%|0)[\s]*,){2}([\s]*0[\s]*)\)$/.test(n)}function Bt(n,e){var t=n.replace(/^#/,""),i=parseInt(t,16),r=i>>8&255,o=255&i;return"rgba(".concat(i>>16&255,", ").concat(r,", ").concat(o,", ").concat(e??1,")")}var z={RED:"#F92855",GREEN:"#2DC08E",WHITE:"#FFFFFF",GREY:"#76808F",BLUE:"#1677FF"};function Re(){return{show:!0,size:"auto",axisLine:{show:!0,color:"#DDDDDD",size:1},tickText:{show:!0,color:z.GREY,size:12,family:"Helvetica Neue",weight:"normal",marginStart:4,marginEnd:6},tickLine:{show:!0,size:1,length:3,color:"#DDDDDD"}}}function me(n,e,t,i){var r,o=n.result,a=n.figures,s=n.styles,u=nt(s,"circles",t.circles),l=u.length,c=nt(s,"bars",t.bars),h=c.length,p=nt(s,"lines",t.lines),d=p.length,g=0,v=0,f=0,_=0;a.forEach(function(x){var m;switch(x.type){case"circle":_=g;var b=u[g%l];r=D(D({},b),{color:b.noChangeColor}),g++;break;case"bar":_=v;var w=c[v%h];r=D(D({},w),{color:w.noChangeColor}),v++;break;case"line":_=f,r=p[f%d],f++}if(E(x.type)){var C=(m=x.styles)===null||m===void 0?void 0:m.call(x,{data:{prev:o[e-1],current:o[e],next:o[e+1]},indicator:n,defaultStyles:t});i(x,D(D({},r),C),_)}})}var Le=function(){function n(e){this.precision=4,this.calcParams=[],this.shouldOhlc=!1,this.shouldFormatBigNumber=!1,this.visible=!0,this.zLevel=0,this.series="normal",this.figures=[],this.minValue=null,this.maxValue=null,this.styles=null,this.shouldUpdate=function(t,i){var r=JSON.stringify(t.calcParams)!==JSON.stringify(i.calcParams)||t.figures!==i.figures||t.calc!==i.calc;return{calc:r,draw:r||t.shortName!==i.shortName||t.series!==i.series||t.minValue!==i.minValue||t.maxValue!==i.maxValue||t.precision!==i.precision||t.shouldOhlc!==i.shouldOhlc||t.shouldFormatBigNumber!==i.shouldFormatBigNumber||t.visible!==i.visible||t.zLevel!==i.zLevel||t.extendData!==i.extendData||t.regenerateFigures!==i.regenerateFigures||t.createTooltipDataSource!==i.createTooltipDataSource||t.draw!==i.draw}},this.calc=function(){return[]},this.regenerateFigures=null,this.createTooltipDataSource=null,this.draw=null,this.result=[],this._lockSeriesPrecision=!1,this.override(e),this._lockSeriesPrecision=!1}return n.prototype.override=function(e){var t,i,r=this.result,o=$t(this,["result"]);this._prevIndicator=D(D({},Vt(o)),{result:r});var a=e.id,s=e.name,u=e.shortName,l=e.precision,c=e.styles,h=e.figures,p=e.calcParams,d=$t(e,["id","name","shortName","precision","styles","figures","calcParams"]);!H(this.id)&&H(a)&&(this.id=a),H(this.name)||(this.name=s??""),this.shortName=(t=u??this.shortName)!==null&&t!==void 0?t:this.name,W(l)&&(this.precision=l,this._lockSeriesPrecision=!0),E(c)&&((i=this.styles)!==null&&i!==void 0||(this.styles={}),Q(this.styles,c)),Q(this,d),E(p)&&(this.calcParams=p,st(this.regenerateFigures)&&(this.figures=this.regenerateFigures(this.calcParams))),this.figures=h??this.figures},n.prototype.setSeriesPrecision=function(e){this._lockSeriesPrecision||(this.precision=e)},n.prototype.shouldUpdateImp=function(){var e=this._prevIndicator.zLevel!==this.zLevel,t=this.shouldUpdate(this._prevIndicator,this);return Xt(t)?{calc:t,draw:t,sort:e}:D(D({},t),{sort:e})},n.prototype.calcImp=function(e){return he(this,void 0,void 0,function(){var t;return de(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.calc(e,this)];case 1:return t=i.sent(),this.result=t,[2,!0];case 2:return i.sent(),[2,!1];case 3:return[2]}})})},n.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return Y(i,t),i}(n)},n}(),Ii={name:"AO",shortName:"AO",calcParams:[5,34],figures:[{key:"ao",title:"AO: ",type:"bar",baseValue:0,styles:function(n){var e,t,i=n.data,r=n.indicator,o=n.defaultStyles,a=i.prev,s=i.current,u=(e=a?.ao)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,l=(t=s?.ao)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return{color:c=l>u?nt(r.styles,"bars[0].upColor",o.bars[0].upColor):nt(r.styles,"bars[0].downColor",o.bars[0].downColor),style:l>u?"stroke":"fill",borderColor:c}}}],calc:function(n,e){var t=e.calcParams,i=Math.max(t[0],t[1]),r=0,o=0,a=0,s=0;return n.map(function(u,l){var c={},h=(u.low+u.high)/2;if(r+=h,o+=h,l>=t[0]-1){a=r/t[0];var p=n[l-(t[0]-1)];r-=(p.low+p.high)/2}return l>=t[1]-1&&(s=o/t[1],p=n[l-(t[1]-1)],o-=(p.low+p.high)/2),l>=i-1&&(c.ao=a-s),c})}},Di={name:"BOLL",shortName:"BOLL",series:"price",calcParams:[20,2],precision:2,shouldOhlc:!0,figures:[{key:"up",title:"UP: ",type:"line"},{key:"mid",title:"MID: ",type:"line"},{key:"dn",title:"DN: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=t[0]-1,r=0;return n.map(function(o,a){var s=o.close,u={};if(r+=s,a>=i){u.mid=r/t[0];var l=function(c,h){var p=c.length,d=0;return c.forEach(function(g){var v=g.close-h;d+=v*v}),d=Math.abs(d),Math.sqrt(d/p)}(n.slice(a-i,a+1),u.mid);u.up=u.mid+t[1]*l,u.dn=u.mid-t[1]*l,r-=n[a-i].close}return u})}},ki={name:"BBI",shortName:"BBI",series:"price",precision:2,calcParams:[3,6,12,24],shouldOhlc:!0,figures:[{key:"bbi",title:"BBI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.max.apply(Math,Kt([],Gt(t),!1)),r=[],o=[];return n.map(function(a,s){var u={},l=a.close;if(t.forEach(function(h,p){var d;r[p]=((d=r[p])!==null&&d!==void 0?d:0)+l,s>=h-1&&(o[p]=r[p]/h,r[p]-=n[s-(h-1)].close)}),s>=i-1){var c=0;o.forEach(function(h){c+=h}),u.bbi=c/4}return u})}},Ai={name:"CCI",shortName:"CCI",calcParams:[20],figures:[{key:"cci",title:"CCI: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=t[0]-1,r=0,o=[];return n.map(function(a,s){var u={},l=(a.high+a.low+a.close)/3;if(r+=l,o.push(l),s>=i){var c=r/t[0],h=o.slice(s-i,s+1),p=0;h.forEach(function(v){p+=Math.abs(v-c)});var d=p/t[0];u.cci=d!==0?(l-c)/d/.015:0;var g=(n[s-i].high+n[s-i].low+n[s-i].close)/3;r-=g}return u})}},Fi={name:"CR",shortName:"CR",calcParams:[26,10,20,40,60],figures:[{key:"cr",title:"CR: ",type:"line"},{key:"ma1",title:"MA1: ",type:"line"},{key:"ma2",title:"MA2: ",type:"line"},{key:"ma3",title:"MA3: ",type:"line"},{key:"ma4",title:"MA4: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.ceil(t[1]/2.5+1),r=Math.ceil(t[2]/2.5+1),o=Math.ceil(t[3]/2.5+1),a=Math.ceil(t[4]/2.5+1),s=0,u=[],l=0,c=[],h=0,p=[],d=0,g=[],v=[];return n.forEach(function(f,_){var x,m,b,w,C,y={},T=(x=n[_-1])!==null&&x!==void 0?x:f,S=(T.high+T.close+T.low+T.open)/4,P=Math.max(0,f.high-S),k=Math.max(0,S-f.low);_>=t[0]-1&&(y.cr=k!==0?P/k*100:0,s+=y.cr,l+=y.cr,h+=y.cr,d+=y.cr,_>=t[0]+t[1]-2&&(u.push(s/t[1]),_>=t[0]+t[1]+i-3&&(y.ma1=u[u.length-1-i]),s-=(m=v[_-(t[1]-1)].cr)!==null&&m!==void 0?m:0),_>=t[0]+t[2]-2&&(c.push(l/t[2]),_>=t[0]+t[2]+r-3&&(y.ma2=c[c.length-1-r]),l-=(b=v[_-(t[2]-1)].cr)!==null&&b!==void 0?b:0),_>=t[0]+t[3]-2&&(p.push(h/t[3]),_>=t[0]+t[3]+o-3&&(y.ma3=p[p.length-1-o]),h-=(w=v[_-(t[3]-1)].cr)!==null&&w!==void 0?w:0),_>=t[0]+t[4]-2&&(g.push(d/t[4]),_>=t[0]+t[4]+a-3&&(y.ma4=g[g.length-1-a]),d-=(C=v[_-(t[4]-1)].cr)!==null&&C!==void 0?C:0)),v.push(y)}),v}},Bi={name:"DMA",shortName:"DMA",calcParams:[10,50,10],figures:[{key:"dma",title:"DMA: ",type:"line"},{key:"ama",title:"AMA: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=Math.max(t[0],t[1]),r=0,o=0,a=0,s=[];return n.forEach(function(u,l){var c,h={},p=u.close;r+=p,o+=p;var d=0,g=0;if(l>=t[0]-1&&(d=r/t[0],r-=n[l-(t[0]-1)].close),l>=t[1]-1&&(g=o/t[1],o-=n[l-(t[1]-1)].close),l>=i-1){var v=d-g;h.dma=v,a+=v,l>=i+t[2]-2&&(h.ama=a/t[2],a-=(c=s[l-(t[2]-1)].dma)!==null&&c!==void 0?c:0)}s.push(h)}),s}},Ri={name:"DMI",shortName:"DMI",calcParams:[14,6],figures:[{key:"pdi",title:"PDI: ",type:"line"},{key:"mdi",title:"MDI: ",type:"line"},{key:"adx",title:"ADX: ",type:"line"},{key:"adxr",title:"ADXR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=0,c=0,h=[];return n.forEach(function(p,d){var g,v,f={},_=(g=n[d-1])!==null&&g!==void 0?g:p,x=_.close,m=p.high,b=p.low,w=m-b,C=Math.abs(m-x),y=Math.abs(x-b),T=m-_.high,S=_.low-b,P=Math.max(Math.max(w,C),y),k=T>0&&T>S?T:0,R=S>0&&S>T?S:0;if(i+=P,r+=k,o+=R,d>=t[0]-1){d>t[0]-1?(a=a-a/t[0]+P,s=s-s/t[0]+k,u=u-u/t[0]+R):(a=i,s=r,u=o);var A=0,F=0;a!==0&&(A=100*s/a,F=100*u/a),f.pdi=A,f.mdi=F;var L=0;F+A!==0&&(L=Math.abs(F-A)/(F+A)*100),l+=L,d>=2*t[0]-2&&(c=d>2*t[0]-2?(c*(t[0]-1)+L)/t[0]:l/t[0],f.adx=c,d>=2*t[0]+t[1]-3&&(f.adxr=(((v=h[d-(t[1]-1)].adx)!==null&&v!==void 0?v:0)+c)/2))}h.push(f)}),h}},Li={name:"MACD",shortName:"MACD",calcParams:[12,26,9],figures:[{key:"dif",title:"DIF: ",type:"line"},{key:"dea",title:"DEA: ",type:"line"},{key:"macd",title:"MACD: ",type:"bar",baseValue:0,styles:function(n){var e,t,i=n.data,r=n.indicator,o=n.defaultStyles,a=i.prev,s=i.current,u=(e=a?.macd)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER,l=(t=s?.macd)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER,c="";return{style:u<l?"stroke":"fill",color:c=l>0?nt(r.styles,"bars[0].upColor",o.bars[0].upColor):l<0?nt(r.styles,"bars[0].downColor",o.bars[0].downColor):nt(r.styles,"bars[0].noChangeColor",o.bars[0].noChangeColor),borderColor:c}}}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=Math.max(t[0],t[1]);return n.map(function(c,h){var p={},d=c.close;return i+=d,h>=t[0]-1&&(r=h>t[0]-1?(2*d+(t[0]-1)*r)/(t[0]+1):i/t[0]),h>=t[1]-1&&(o=h>t[1]-1?(2*d+(t[1]-1)*o)/(t[1]+1):i/t[1]),h>=l-1&&(a=r-o,p.dif=a,s+=a,h>=l+t[2]-2&&(u=h>l+t[2]-2?(2*a+u*(t[2]-1))/(t[2]+1):s/t[2],p.macd=2*(a-u),p.dea=u)),p})}},Oi={name:"RSI",shortName:"RSI",calcParams:[6,12,24],figures:[{key:"rsi1",title:"RSI1: ",type:"line"},{key:"rsi2",title:"RSI2: ",type:"line"},{key:"rsi3",title:"RSI3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){var i=t+1;return{key:"rsi".concat(i),title:"RSI".concat(i,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[],o=[];return n.map(function(a,s){var u,l={},c=((u=n[s-1])!==null&&u!==void 0?u:a).close,h=a.close-c;return t.forEach(function(p,d){var g,v,f;if(h>0?r[d]=((g=r[d])!==null&&g!==void 0?g:0)+h:o[d]=((v=o[d])!==null&&v!==void 0?v:0)+Math.abs(h),s>=p-1){o[d]!==0?l[i[d].key]=100-100/(1+r[d]/o[d]):l[i[d].key]=0;var _=n[s-(p-1)],x=(f=n[s-p])!==null&&f!==void 0?f:_,m=_.close-x.close;m>0?r[d]-=m:o[d]-=Math.abs(m)}}),l})}},Wi={name:"KDJ",shortName:"KDJ",calcParams:[9,3,3],figures:[{key:"k",title:"K: ",type:"line"},{key:"d",title:"D: ",type:"line"},{key:"j",title:"J: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=[];return n.forEach(function(r,o){var a,s,u,l,c={},h=r.close;if(o>=t[0]-1){var p=Be(n.slice(o-(t[0]-1),o+1),"high","low"),d=p[0],g=p[1],v=d-g,f=(h-g)/(v===0?1:v)*100;c.k=((t[1]-1)*((s=(a=i[o-1])===null||a===void 0?void 0:a.k)!==null&&s!==void 0?s:50)+f)/t[1],c.d=((t[2]-1)*((l=(u=i[o-1])===null||u===void 0?void 0:u.d)!==null&&l!==void 0?l:50)+c.k)/t[2],c.j=3*c.k-2*c.d}i.push(c)}),i}},zi={name:"SAR",shortName:"SAR",series:"price",calcParams:[2,2,20],precision:2,shouldOhlc:!0,figures:[{key:"sar",title:"SAR: ",type:"circle",styles:function(n){var e,t,i,r=n.data,o=n.indicator,a=n.defaultStyles,s=r.current;return{color:((e=s?.sar)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER)<(((t=s?.high)!==null&&t!==void 0?t:0)+((i=s?.low)!==null&&i!==void 0?i:0))/2?nt(o.styles,"circles[0].upColor",a.circles[0].upColor):nt(o.styles,"circles[0].downColor",a.circles[0].downColor)}}}],calc:function(n,e){var t=e.calcParams,i=t[0]/100,r=t[1]/100,o=t[2]/100,a=i,s=-100,u=!1,l=0;return n.map(function(c,h){var p=l,d=c.high,g=c.low;if(u){(s===-100||s<d)&&(s=d,a=Math.min(a+r,o)),l=p+a*(s-p);var v=Math.min(n[Math.max(1,h)-1].low,g);l>c.low?(l=s,a=i,s=-100,u=!u):l>v&&(l=v)}else{(s===-100||s>g)&&(s=g,a=Math.min(a+r,o)),l=p+a*(s-p);var f=Math.max(n[Math.max(1,h)-1].high,d);l<c.high?(l=s,a=0,s=-100,u=!u):l<f&&(l=f)}return{high:d,low:g,sar:l}})}};function Oe(){return{key:"volume",title:"VOLUME: ",type:"bar",baseValue:0,styles:function(n){var e=n.data,t=n.indicator,i=n.defaultStyles,r=e.current,o=nt(t.styles,"bars[0].noChangeColor",i.bars[0].noChangeColor);return E(r)&&(r.close>r.open?o=nt(t.styles,"bars[0].upColor",i.bars[0].upColor):r.close<r.open&&(o=nt(t.styles,"bars[0].downColor",i.bars[0].downColor))),{color:o}}}}var Vi={name:"VOL",shortName:"VOL",series:"volume",calcParams:[5,10,20],shouldFormatBigNumber:!0,precision:0,minValue:0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA20: ",type:"line"},Oe()],regenerateFigures:function(n){var e=n.map(function(t,i){return{key:"ma".concat(i+1),title:"MA".concat(t,": "),type:"line"}});return e.push(Oe()),e},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.map(function(o,a){var s,u=(s=o.volume)!==null&&s!==void 0?s:0,l={volume:u,open:o.open,close:o.close};return t.forEach(function(c,h){var p,d;r[h]=((p=r[h])!==null&&p!==void 0?p:0)+u,a>=c-1&&(l[i[h].key]=r[h]/c,r[h]-=(d=n[a-(c-1)].volume)!==null&&d!==void 0?d:0)}),l})}},Ni={name:"WR",shortName:"WR",calcParams:[6,10,14],figures:[{key:"wr1",title:"WR1: ",type:"line"},{key:"wr2",title:"WR2: ",type:"line"},{key:"wr3",title:"WR3: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"wr".concat(t+1),title:"WR".concat(t+1,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures;return n.map(function(r,o){var a={},s=r.close;return t.forEach(function(u,l){var c=u-1;if(o>=c){var h=Be(n.slice(o-c,o+1),"high","low"),p=h[0],d=p-h[1];a[i[l].key]=d===0?0:(s-p)/d*100}}),a})}},re={},Yi=[{name:"AVP",shortName:"AVP",series:"price",precision:2,figures:[{key:"avp",title:"AVP: ",type:"line"}],calc:function(n){var e=0,t=0;return n.map(function(i){var r,o,a={},s=(r=i.turnover)!==null&&r!==void 0?r:0,u=(o=i.volume)!==null&&o!==void 0?o:0;return e+=s,(t+=u)!==0&&(a.avp=e/t),a})}},Ii,{name:"BIAS",shortName:"BIAS",calcParams:[6,12,24],figures:[{key:"bias1",title:"BIAS6: ",type:"line"},{key:"bias2",title:"BIAS12: ",type:"line"},{key:"bias3",title:"BIAS24: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"bias".concat(t+1),title:"BIAS".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.map(function(o,a){var s={},u=o.close;return t.forEach(function(l,c){var h;if(r[c]=((h=r[c])!==null&&h!==void 0?h:0)+u,a>=l-1){var p=r[c]/t[c];s[i[c].key]=(u-p)/p*100,r[c]-=n[a-(l-1)].close}}),s})}},Di,{name:"BRAR",shortName:"BRAR",calcParams:[26],figures:[{key:"br",title:"BR: ",type:"line"},{key:"ar",title:"AR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0;return n.map(function(s,u){var l,c,h={},p=s.high,d=s.low,g=s.open,v=((l=n[u-1])!==null&&l!==void 0?l:s).close;if(o+=p-g,a+=g-d,i+=p-v,r+=v-d,u>=t[0]-1){h.ar=a!==0?o/a*100:0,h.br=r!==0?i/r*100:0;var f=n[u-(t[0]-1)],_=f.high,x=f.low,m=f.open,b=((c=n[u-t[0]])!==null&&c!==void 0?c:n[u-(t[0]-1)]).close;i-=_-b,r-=b-x,o-=_-m,a-=m-x}return h})}},ki,Ai,Fi,Bi,Ri,{name:"EMV",shortName:"EMV",calcParams:[14,9],figures:[{key:"emv",title:"EMV: ",type:"line"},{key:"maEmv",title:"MAEMV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=[];return n.map(function(o,a){var s,u={};if(a>0){var l=n[a-1],c=o.high,h=o.low,p=(s=o.volume)!==null&&s!==void 0?s:0,d=(c+h)/2-(l.high+l.low)/2;if(p===0||c-h==0)u.emv=0;else{var g=p/1e8/(c-h);u.emv=d/g}i+=u.emv,r.push(u.emv),a>=t[0]&&(u.maEmv=i/t[0],i-=r[a-t[0]])}return u})}},{name:"EMA",shortName:"EMA",series:"price",calcParams:[6,12,20],precision:2,shouldOhlc:!0,figures:[{key:"ema1",title:"EMA6: ",type:"line"},{key:"ema2",title:"EMA12: ",type:"line"},{key:"ema3",title:"EMA20: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ema".concat(t+1),title:"EMA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=0,o=[];return n.map(function(a,s){var u={},l=a.close;return r+=l,t.forEach(function(c,h){s>=c-1&&(o[h]=s>c-1?(2*l+(c-1)*o[h])/(c+1):r/c,u[i[h].key]=o[h])}),u})}},{name:"MTM",shortName:"MTM",calcParams:[12,6],figures:[{key:"mtm",title:"MTM: ",type:"line"},{key:"maMtm",title:"MAMTM: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=[];return n.forEach(function(o,a){var s,u={};if(a>=t[0]){var l=o.close,c=n[a-t[0]].close;u.mtm=l-c,i+=u.mtm,a>=t[0]+t[1]-1&&(u.maMtm=i/t[1],i-=(s=r[a-(t[1]-1)].mtm)!==null&&s!==void 0?s:0)}r.push(u)}),r}},{name:"MA",shortName:"MA",series:"price",calcParams:[5,10,30,60],precision:2,shouldOhlc:!0,figures:[{key:"ma1",title:"MA5: ",type:"line"},{key:"ma2",title:"MA10: ",type:"line"},{key:"ma3",title:"MA30: ",type:"line"},{key:"ma4",title:"MA60: ",type:"line"}],regenerateFigures:function(n){return n.map(function(e,t){return{key:"ma".concat(t+1),title:"MA".concat(e,": "),type:"line"}})},calc:function(n,e){var t=e.calcParams,i=e.figures,r=[];return n.map(function(o,a){var s={},u=o.close;return t.forEach(function(l,c){var h;r[c]=((h=r[c])!==null&&h!==void 0?h:0)+u,a>=l-1&&(s[i[c].key]=r[c]/l,r[c]-=n[a-(l-1)].close)}),s})}},Li,{name:"OBV",shortName:"OBV",calcParams:[30],figures:[{key:"obv",title:"OBV: ",type:"line"},{key:"maObv",title:"MAOBV: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=[];return n.forEach(function(a,s){var u,l,c,h,p=(u=n[s-1])!==null&&u!==void 0?u:a;a.close<p.close?r-=(l=a.volume)!==null&&l!==void 0?l:0:a.close>p.close&&(r+=(c=a.volume)!==null&&c!==void 0?c:0);var d={obv:r};i+=r,s>=t[0]-1&&(d.maObv=i/t[0],i-=(h=o[s-(t[0]-1)].obv)!==null&&h!==void 0?h:0),o.push(d)}),o}},{name:"PVT",shortName:"PVT",figures:[{key:"pvt",title:"PVT: ",type:"line"}],calc:function(n){var e=0;return n.map(function(t,i){var r,o,a={},s=t.close,u=(r=t.volume)!==null&&r!==void 0?r:1,l=((o=n[i-1])!==null&&o!==void 0?o:t).close,c=0,h=l*u;return h!==0&&(c=(s-l)/h),e+=c,a.pvt=e,a})}},{name:"PSY",shortName:"PSY",calcParams:[12,6],figures:[{key:"psy",title:"PSY: ",type:"line"},{key:"maPsy",title:"MAPSY: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=[],a=[];return n.forEach(function(s,u){var l,c,h={},p=((l=n[u-1])!==null&&l!==void 0?l:s).close,d=s.close-p>0?1:0;o.push(d),i+=d,u>=t[0]-1&&(h.psy=i/t[0]*100,r+=h.psy,u>=t[0]+t[1]-2&&(h.maPsy=r/t[1],r-=(c=a[u-(t[1]-1)].psy)!==null&&c!==void 0?c:0),i-=o[u-(t[0]-1)]),a.push(h)}),a}},{name:"ROC",shortName:"ROC",calcParams:[12,6],figures:[{key:"roc",title:"ROC: ",type:"line"},{key:"maRoc",title:"MAROC: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=[],r=0;return n.forEach(function(o,a){var s,u,l={};if(a>=t[0]-1){var c=o.close,h=((s=n[a-t[0]])!==null&&s!==void 0?s:n[a-(t[0]-1)]).close;l.roc=h!==0?(c-h)/h*100:0,r+=l.roc,a>=t[0]-1+t[1]-1&&(l.maRoc=r/t[1],r-=(u=i[a-(t[1]-1)].roc)!==null&&u!==void 0?u:0)}i.push(l)}),i}},Oi,{name:"SMA",shortName:"SMA",series:"price",calcParams:[12,2],precision:2,figures:[{key:"sma",title:"SMA: ",type:"line"}],shouldOhlc:!0,calc:function(n,e){var t=e.calcParams,i=0,r=0;return n.map(function(o,a){var s={},u=o.close;return i+=u,a>=t[0]-1&&(r=a>t[0]-1?(u*t[1]+r*(t[0]-t[1]+1))/(t[0]+1):i/t[0],s.sma=r),s})}},Wi,zi,{name:"TRIX",shortName:"TRIX",calcParams:[12,9],figures:[{key:"trix",title:"TRIX: ",type:"line"},{key:"maTrix",title:"MATRIX: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=0,u=0,l=0,c=[];return n.forEach(function(h,p){var d,g={},v=h.close;if(i+=v,p>=t[0]-1&&(r=p>t[0]-1?(2*v+(t[0]-1)*r)/(t[0]+1):i/t[0],s+=r,p>=2*t[0]-2&&(o=p>2*t[0]-2?(2*r+(t[0]-1)*o)/(t[0]+1):s/t[0],u+=o,p>=3*t[0]-3))){var f=0,_=0;p>3*t[0]-3?_=((f=(2*o+(t[0]-1)*a)/(t[0]+1))-a)/a*100:f=u/t[0],a=f,g.trix=_,l+=_,p>=3*t[0]+t[1]-4&&(g.maTrix=l/t[1],l-=(d=c[p-(t[1]-1)].trix)!==null&&d!==void 0?d:0)}c.push(g)}),c}},Vi,{name:"VR",shortName:"VR",calcParams:[26,6],figures:[{key:"vr",title:"VR: ",type:"line"},{key:"maVr",title:"MAVR: ",type:"line"}],calc:function(n,e){var t=e.calcParams,i=0,r=0,o=0,a=0,s=[];return n.forEach(function(u,l){var c,h,p,d,g,v={},f=u.close,_=((c=n[l-1])!==null&&c!==void 0?c:u).close,x=(h=u.volume)!==null&&h!==void 0?h:0;if(f>_?i+=x:f<_?r+=x:o+=x,l>=t[0]-1){var m=o/2;v.vr=r+m===0?0:(i+m)/(r+m)*100,a+=v.vr,l>=t[0]+t[1]-2&&(v.maVr=a/t[1],a-=(p=s[l-(t[1]-1)].vr)!==null&&p!==void 0?p:0);var b=n[l-(t[0]-1)],w=(d=n[l-t[0]])!==null&&d!==void 0?d:b,C=b.close,y=(g=b.volume)!==null&&g!==void 0?g:0;C>w.close?i-=y:C<w.close?r-=y:o-=y}s.push(v)}),s}},Ni];function We(n){var e;return(e=re[n])!==null&&e!==void 0?e:null}function _t(n,e){var t,i=(t=e?.ignoreEvent)!==null&&t!==void 0&&t;return Xt(i)?!i:!i.includes(n)}Yi.forEach(function(n){re[n.name]=Le.extend(n)});var Yt="overlay_figure_",ze=function(){function n(e){this.groupId="",this.totalStep=1,this.currentStep=1,this.lock=!1,this.visible=!0,this.zLevel=0,this.needDefaultPointFigure=!1,this.needDefaultXAxisFigure=!1,this.needDefaultYAxisFigure=!1,this.mode="normal",this.modeSensitivity=8,this.points=[],this.styles=null,this.createPointFigures=null,this.createXAxisFigures=null,this.createYAxisFigures=null,this.performEventPressedMove=null,this.performEventMoveForDrawing=null,this.onDrawStart=null,this.onDrawing=null,this.onDrawEnd=null,this.onClick=null,this.onDoubleClick=null,this.onRightClick=null,this.onPressedMoveStart=null,this.onPressedMoving=null,this.onPressedMoveEnd=null,this.onMouseMove=null,this.onMouseEnter=null,this.onMouseLeave=null,this.onRemoved=null,this.onSelected=null,this.onDeselected=null,this._prevZLevel=0,this._prevPressedPoint=null,this._prevPressedPoints=[],this.override(e)}return n.prototype.override=function(e){var t,i;this._prevOverlay=Vt(D(D({},this),{_prevOverlay:null}));var r=e.id,o=e.name;e.currentStep;var a=e.points,s=e.styles;if(Q(this,$t(e,["id","name","currentStep","points","styles"])),H(this.name)||(this.name=o??""),!H(this.id)&&H(r)&&(this.id=r),E(s)&&((t=this.styles)!==null&&t!==void 0||(this.styles={}),Q(this.styles,s)),bt(a)&&a.length>0){var u=0;if(this.points=Kt([],Gt(a),!1),a.length>=this.totalStep-1?(this.currentStep=-1,u=this.totalStep-1):(this.currentStep=a.length+1,u=a.length),st(this.performEventMoveForDrawing))for(var l=0;l<u;l++)this.performEventMoveForDrawing({currentStep:l+2,mode:this.mode,points:this.points,performPointIndex:l,performPoint:this.points[l]});this.currentStep===-1&&((i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:this.points.length-1,performPoint:this.points[this.points.length-1]}))}},n.prototype.getPrevZLevel=function(){return this._prevZLevel},n.prototype.setPrevZLevel=function(e){this._prevZLevel=e},n.prototype.shouldUpdate=function(){var e=this._prevOverlay.zLevel!==this.zLevel;return{sort:e,draw:e||JSON.stringify(this._prevOverlay.points)!==JSON.stringify(this.points)||this._prevOverlay.visible!==this.visible||this._prevOverlay.extendData!==this.extendData||this._prevOverlay.styles!==this.styles}},n.prototype.nextStep=function(){this.currentStep===this.totalStep-1?this.currentStep=-1:this.currentStep++},n.prototype.forceComplete=function(){this.currentStep=-1},n.prototype.isDrawing=function(){return this.currentStep!==-1},n.prototype.isStart=function(){return this.currentStep===1},n.prototype.eventMoveForDrawing=function(e){var t,i=this.currentStep-1,r={};W(e.timestamp)&&(r.timestamp=e.timestamp),W(e.dataIndex)&&(r.dataIndex=e.dataIndex),W(e.value)&&(r.value=e.value),this.points[i]=r,(t=this.performEventMoveForDrawing)===null||t===void 0||t.call(this,{currentStep:this.currentStep,mode:this.mode,points:this.points,performPointIndex:i,performPoint:r})},n.prototype.eventPressedPointMove=function(e,t){var i;this.points[t].timestamp=e.timestamp,W(e.value)&&(this.points[t].value=e.value),(i=this.performEventPressedMove)===null||i===void 0||i.call(this,{currentStep:this.currentStep,points:this.points,mode:this.mode,performPointIndex:t,performPoint:this.points[t]})},n.prototype.startPressedMove=function(e){this._prevPressedPoint=D({},e),this._prevPressedPoints=Vt(this.points)},n.prototype.eventPressedOtherMove=function(e,t){if(this._prevPressedPoint!==null){var i=null;W(e.dataIndex)&&W(this._prevPressedPoint.dataIndex)&&(i=e.dataIndex-this._prevPressedPoint.dataIndex);var r=null;W(e.value)&&W(this._prevPressedPoint.value)&&(r=e.value-this._prevPressedPoint.value),this.points=this._prevPressedPoints.map(function(o){var a;W(o.timestamp)&&(o.dataIndex=t.timestampToDataIndex(o.timestamp));var s=D({},o);return W(i)&&W(o.dataIndex)&&(s.dataIndex=o.dataIndex+i,s.timestamp=(a=t.dataIndexToTimestamp(s.dataIndex))!==null&&a!==void 0?a:void 0),W(r)&&W(o.value)&&(s.value=o.value+r),s})}},n.extend=function(e){return function(t){function i(){return t.call(this,e)||this}return Y(i,t),i}(n)},n}(),Hi={name:"fibonacciLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e,t,i,r=n.chart,o=n.coordinates,a=n.bounding,s=n.overlay,u=n.yAxis,l=s.points;if(o.length>0){var c=0;(e=u?.isInCandle())===null||e===void 0||e?c=(i=(t=r.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:lt:r.getIndicators({paneId:s.paneId}).forEach(function(f){c=Math.max(c,f.precision)});var h=[],p=[],d=a.width;if(o.length>1&&W(l[0].value)&&W(l[1].value)){var g=o[0].y-o[1].y,v=l[0].value-l[1].value;[1,.786,.618,.5,.382,.236,0].forEach(function(f){var _,x=o[1].y+g*f,m=r.getDecimalFold().format(r.getThousandsSeparator().format((((_=l[1].value)!==null&&_!==void 0?_:0)+v*f).toFixed(c)));h.push({coordinates:[{x:0,y:x},{x:d,y:x}]}),p.push({x:0,y:x,text:"".concat(m," (").concat((100*f).toFixed(1),"%)"),baseline:"bottom"})})}return[{type:"line",attrs:h},{type:"text",isCheckEvent:!1,attrs:p}]}return[]}},Xi={name:"horizontalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding,i={x:0,y:e[0].y};return E(e[1])&&e[0].x<e[1].x&&(i.x=t.width),[{type:"line",attrs:{coordinates:[e[0],i]}}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].value=i.value)}},ye=function(){function n(){this._children=[],this._callbacks=new Map}return n.prototype.registerEvent=function(e,t){return this._callbacks.set(e,t),this},n.prototype.onEvent=function(e,t){var i=this._callbacks.get(e);return!(!E(i)||!this.checkEventOn(t))&&i(t)},n.prototype.dispatchEventToChildren=function(e,t){var i=this._children.length-1;if(i>-1){for(var r=i;r>-1;r--)if(this._children[r].dispatchEvent(e,t))return!0}return!1},n.prototype.dispatchEvent=function(e,t){return!!this.dispatchEventToChildren(e,t)||this.onEvent(e,t)},n.prototype.addChild=function(e){return this._children.push(e),this},n.prototype.clear=function(){this._children=[]},n}(),Ve=function(n){function e(t){var i=n.call(this)||this;return i.attrs=t.attrs,i.styles=t.styles,i}return Y(e,n),e.prototype.checkEventOn=function(t){return this.checkEventOnImp(t,this.attrs,this.styles)},e.prototype.setAttrs=function(t){return this.attrs=t,this},e.prototype.setStyles=function(t){return this.styles=t,this},e.prototype.draw=function(t){this.drawImp(t,this.attrs,this.styles)},e.extend=function(t){var i=function(r){function o(){return r!==null&&r.apply(this,arguments)||this}return Y(o,r),o.prototype.checkEventOnImp=function(a,s,u){return t.checkEventOn(a,s,u)},o.prototype.drawImp=function(a,s,u){t.draw(a,s,u)},o}(e);return i},e}(ye);function Ne(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=yt(r),a=o.next();!a.done;a=o.next()){var s=a.value.coordinates;if(s.length>1)for(var u=1;u<s.length;u++){var l=s[u-1],c=s[u];if(l.x===c.x){if(Math.abs(l.y-n.y)+Math.abs(c.y-n.y)-Math.abs(l.y-c.y)<4&&Math.abs(n.x-l.x)<2)return!0}else{var h=ne(l,c),p=_e(h,n),d=Math.abs(p-n.y);if(Math.abs(l.x-n.x)+Math.abs(c.x-n.x)-Math.abs(l.x-c.x)<4&&d*d/(h[0]*h[0]+1)<4)return!0}}}}catch(g){t={error:g}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function _e(n,e){return n!==null?e.x*n[0]+n[1]:e.y}function Ut(n,e,t){return _e(ne(n,e),t)}function ne(n,e){var t=n.x-e.x;if(t!==0){var i=(n.y-e.y)/t;return[i,n.y-i*n.x]}return null}function Ye(n,e,t){var i=e.length,r=W(t)?t>0&&t<1?t:0:t?.5:0;if(r>0&&i>2){for(var o=e[0].x,a=e[0].y,s=1;s<i-1;s++){var u=e[s-1],l=e[s],c=e[s+1],h=l.x-u.x,p=l.y-u.y,d=c.x-l.x,g=c.y-l.y,v=c.x-u.x,f=c.y-u.y,_=Math.sqrt(h*h+p*p),x=Math.sqrt(d*d+g*g),m=x/(x+_),b=l.x+v*r*m,w=l.y+f*r*m;b=Math.min(b,Math.max(c.x,l.x)),w=Math.min(w,Math.max(c.y,l.y)),b=Math.max(b,Math.min(c.x,l.x)),w=Math.max(w,Math.min(c.y,l.y)),v=b-l.x,f=w-l.y;var C=l.x-v*_/x,y=l.y-f*_/x;C=Math.min(C,Math.max(u.x,l.x)),y=Math.min(y,Math.max(u.y,l.y)),C=Math.max(C,Math.min(u.x,l.x)),y=Math.max(y,Math.min(u.y,l.y)),v=l.x-C,f=l.y-y,b=l.x+v*x/_,w=l.y+f*x/_,n.bezierCurveTo(o,a,C,y,l.x,l.y),o=b,a=w}var T=e[i-1];n.bezierCurveTo(o,a,T.x,T.y,T.x,T.y)}else for(s=1;s<i;s++)n.lineTo(e[s].x,e[s].y)}var Gi={name:"line",checkEventOn:Ne,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"solid":s,l=o.smooth,c=l!==void 0&&l,h=o.size,p=h===void 0?1:h,d=o.color,g=d===void 0?"currentColor":d,v=o.dashedValue,f=v===void 0?[2,2]:v;i.lineWidth=p,i.strokeStyle=g,u==="dashed"?i.setLineDash(f):i.setLineDash([]);var _=p%2==1?.5:0;a.forEach(function(x){var m=x.coordinates;m.length>1&&(m.length!==2||m[0].x!==m[1].x&&m[0].y!==m[1].y?(i.save(),p%2==1&&i.translate(.5,.5),i.beginPath(),i.moveTo(m[0].x,m[0].y),Ye(i,m,c),i.stroke(),i.closePath(),i.restore()):(i.beginPath(),m[0].x===m[1].x?(i.moveTo(m[0].x+_,m[0].y),i.lineTo(m[1].x+_,m[1].y)):(i.moveTo(m[0].x,m[0].y+_),i.lineTo(m[1].x,m[1].y+_)),i.stroke(),i.closePath()))})})(n,e,t)}};function He(n,e,t){var i=t??0,r=[];if(n.length>1)if(n[0].x===n[1].x){var o=e.height;if(r.push({coordinates:[{x:n[0].x,y:0},{x:n[0].x,y:o}]}),n.length>2){r.push({coordinates:[{x:n[2].x,y:0},{x:n[2].x,y:o}]});for(var a=n[0].x-n[2].x,s=0;s<i;s++){var u=a*(s+1);r.push({coordinates:[{x:n[0].x+u,y:0},{x:n[0].x+u,y:o}]})}}}else{var l=e.width,c=ne(n[0],n[1]),h=c[0],p=c[1];if(r.push({coordinates:[{x:0,y:0*h+p},{x:l,y:l*h+p}]}),n.length>2){var d=n[2].y-h*n[2].x;for(r.push({coordinates:[{x:0,y:0*h+d},{x:l,y:l*h+d}]}),a=p-d,s=0;s<i;s++){var g=p+a*(s+1);r.push({coordinates:[{x:0,y:0*h+g},{x:l,y:l*h+g}]})}}}return r}function Ui(n,e){if(n.length>1){var t={x:0,y:0};return t=n[0].x===n[1].x&&n[0].y!==n[1].y?n[0].y<n[1].y?{x:n[0].x,y:e.height}:{x:n[0].x,y:0}:n[0].x>n[1].x?{x:0,y:Ut(n[0],n[1],{x:0,y:n[0].y})}:{x:e.width,y:Ut(n[0],n[1],{x:e.width,y:n[0].y})},{coordinates:[n[0],t]}}return[]}var Zi={name:"simpleAnnotation",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(n){var e,t=n.overlay,i=n.coordinates,r="";E(t.extendData)&&(r=st(t.extendData)?t.extendData(t):(e=t.extendData)!==null&&e!==void 0?e:"");var o=i[0].x,a=i[0].y-6,s=a-50,u=s-5;return[{type:"line",attrs:{coordinates:[{x:o,y:a},{x:o,y:s}]},ignoreEvent:!0},{type:"polygon",attrs:{coordinates:[{x:o,y:s},{x:o-4,y:u},{x:o+4,y:u}]},ignoreEvent:!0},{type:"text",attrs:{x:o,y:u,text:r,align:"center",baseline:"bottom"},ignoreEvent:!0}]}},ji={name:"simpleTag",totalStep:2,styles:{line:{style:"dashed"}},createPointFigures:function(n){var e=n.bounding,t=n.coordinates;return{type:"line",attrs:{coordinates:[{x:0,y:t[0].y},{x:e.width,y:t[0].y}]},ignoreEvent:!0}},createYAxisFigures:function(n){var e,t,i,r,o=n.chart,a=n.overlay,s=n.coordinates,u=n.bounding,l=n.yAxis,c="left",h=0;(e=l?.isFromZero())!==null&&e!==void 0&&e?(c="left",h=0):(c="right",h=u.width);var p="";return E(a.extendData)&&(p=st(a.extendData)?a.extendData(a):(t=a.extendData)!==null&&t!==void 0?t:""),!E(p)&&W(a.points[0].value)&&(p=ot(a.points[0].value,(r=(i=o.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:lt)),{type:"text",attrs:{x:h,y:s[0].y,text:p,align:c,baseline:"middle"}}}},Zt={};function qi(n){var e;return(e=Zt[n])!==null&&e!==void 0?e:null}[Hi,Xi,{name:"horizontalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=[];return e.length===2&&t.push({coordinates:e}),[{type:"line",attrs:t}]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].value=t.value,e[1].value=t.value},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].value=i.value)}},{name:"horizontalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return[{type:"line",attrs:{coordinates:[{x:0,y:e[0].y},{x:t.width,y:e[0].y}]}}]}},{name:"parallelStraightLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:He(n.coordinates,n.bounding)}]}},{name:"priceChannelLine",totalStep:4,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:He(n.coordinates,n.bounding,1)}]}},{name:"priceLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e,t,i,r=n.chart,o=n.coordinates,a=n.bounding,s=n.overlay,u=n.yAxis,l=0;(e=u?.isInCandle())===null||e===void 0||e?l=(i=(t=r.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:lt:r.getIndicators({paneId:s.paneId}).forEach(function(p){l=Math.max(l,p.precision)});var c=s.points[0].value,h=c===void 0?0:c;return[{type:"line",attrs:{coordinates:[o[0],{x:a.width,y:o[0].y}]}},{type:"text",ignoreEvent:!0,attrs:{x:o[0].x,y:o[0].y,text:r.getDecimalFold().format(r.getThousandsSeparator().format(h.toFixed(l))),baseline:"bottom"}}]}},{name:"rayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){return[{type:"line",attrs:Ui(n.coordinates,n.bounding)}]}},{name:"segment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]}},{name:"straightLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return e.length===2?e[0].x===e[1].x?[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]:[{type:"line",attrs:{coordinates:[{x:0,y:Ut(e[0],e[1],{x:0,y:e[0].y})},{x:t.width,y:Ut(e[0],e[1],{x:t.width,y:e[0].y})}]}}]:[]}},{name:"verticalRayLine",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;if(e.length===2){var i={x:e[0].x,y:0};return e[0].y<e[1].y&&(i.y=t.height),[{type:"line",attrs:{coordinates:[e[0],i]}}]}return[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalSegment",totalStep:3,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates;return e.length===2?[{type:"line",attrs:{coordinates:e}}]:[]},performEventPressedMove:function(n){var e=n.points,t=n.performPoint;e[0].timestamp=t.timestamp,e[0].dataIndex=t.dataIndex,e[1].timestamp=t.timestamp,e[1].dataIndex=t.dataIndex},performEventMoveForDrawing:function(n){var e=n.currentStep,t=n.points,i=n.performPoint;e===2&&(t[0].timestamp=i.timestamp,t[0].dataIndex=i.dataIndex)}},{name:"verticalStraightLine",totalStep:2,needDefaultPointFigure:!0,needDefaultXAxisFigure:!0,needDefaultYAxisFigure:!0,createPointFigures:function(n){var e=n.coordinates,t=n.bounding;return[{type:"line",attrs:{coordinates:[{x:e[0].x,y:0},{x:e[0].x,y:t.height}]}}]}},Zi,ji].forEach(function(n){Zt[n.name]=ze.extend(n)});var Xe={light:{grid:{horizontal:{color:"#EDEDED"},vertical:{color:"#EDEDED"}},candle:{priceMark:{high:{color:"#76808F"},low:{color:"#76808F"}},tooltip:{rect:{color:"#FEFEFE",borderColor:"#F2F3F5"},title:{color:"#76808F"},legend:{color:"#76808F"}}},indicator:{tooltip:{title:{color:"#76808F"},legend:{color:"#76808F"}}},xAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},yAxis:{axisLine:{color:"#DDDDDD"},tickText:{color:"#76808F"},tickLine:{color:"#DDDDDD"}},separator:{color:"#DDDDDD"},crosshair:{horizontal:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}},vertical:{line:{color:"#76808F"},text:{borderColor:"#686D76",backgroundColor:"#686D76"}}}},dark:{grid:{horizontal:{color:"#292929"},vertical:{color:"#292929"}},candle:{priceMark:{high:{color:"#929AA5"},low:{color:"#929AA5"}},tooltip:{rect:{color:"rgba(10, 10, 10, .6)",borderColor:"rgba(10, 10, 10, .6)"},title:{color:"#929AA5"},legend:{color:"#929AA5"}}},indicator:{tooltip:{title:{color:"#929AA5"},legend:{color:"#929AA5"}}},xAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},yAxis:{axisLine:{color:"#333333"},tickText:{color:"#929AA5"},tickLine:{color:"#333333"}},separator:{color:"#333333"},crosshair:{horizontal:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}},vertical:{line:{color:"#929AA5"},text:{borderColor:"#373a40",backgroundColor:"#373a40"}}}}};function Qi(n){var e;return(e=Xe[n])!==null&&e!==void 0?e:null}var at="candle_pane",Ge="indicator_pane_",et="x_axis_pane",Ji=1,$i=50,Ki=function(){function n(e,t){var i,r,o,a,s,u=this;this._styles={grid:{show:!0,horizontal:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]},vertical:{show:!0,size:1,color:"#EDEDED",style:"dashed",dashedValue:[2,2]}},candle:(s={show:!0,color:z.GREY,textOffset:5,textSize:10,textFamily:"Helvetica Neue",textWeight:"normal"},{type:"candle_solid",bar:{compareRule:"current_open",upColor:z.GREEN,downColor:z.RED,noChangeColor:z.GREY,upBorderColor:z.GREEN,downBorderColor:z.RED,noChangeBorderColor:z.GREY,upWickColor:z.GREEN,downWickColor:z.RED,noChangeWickColor:z.GREY},area:{lineSize:2,lineColor:z.BLUE,smooth:!1,value:"close",backgroundColor:[{offset:0,color:Bt(z.BLUE,.01)},{offset:1,color:Bt(z.BLUE,.2)}],point:{show:!0,color:z.BLUE,radius:4,rippleColor:Bt(z.BLUE,.3),rippleRadius:8,animation:!0,animationDuration:1e3}},priceMark:{show:!0,high:D({},s),low:D({},s),last:{show:!0,compareRule:"current_open",upColor:z.GREEN,downColor:z.RED,noChangeColor:z.GREY,line:{show:!0,style:"dashed",dashedValue:[4,4],size:1},text:{show:!0,style:"fill",size:12,paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderColor:"transparent",borderStyle:"solid",borderSize:0,borderDashedValue:[2,2],color:z.WHITE,family:"Helvetica Neue",weight:"normal",borderRadius:2},extendTexts:[]}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",rect:{position:"fixed",paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,offsetLeft:4,offsetTop:4,offsetRight:4,offsetBottom:4,borderRadius:4,borderSize:1,borderColor:"#F2F3F5",color:"#FEFEFE"},title:{show:!0,size:14,family:"Helvetica Neue",weight:"normal",color:z.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,template:"{ticker} \xB7 {period}"},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:z.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a",template:[{title:"time",value:"{time}"},{title:"open",value:"{open}"},{title:"high",value:"{high}"},{title:"low",value:"{low}"},{title:"close",value:"{close}"},{title:"volume",value:"{volume}"}]},features:[]}}),indicator:(o=Bt(z.GREEN,.7),a=Bt(z.RED,.7),{ohlc:{compareRule:"current_open",upColor:o,downColor:a,noChangeColor:z.GREY},bars:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:z.GREY}],lines:["#FF9600","#935EBD",z.BLUE,"#E11D74","#01C5C4"].map(function(_){return{style:"solid",smooth:!1,size:1,dashedValue:[2,2],color:_}}),circles:[{style:"fill",borderStyle:"solid",borderSize:1,borderDashedValue:[2,2],upColor:o,downColor:a,noChangeColor:z.GREY}],lastValueMark:{show:!1,text:{show:!1,style:"fill",color:z.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderColor:"transparent",borderSize:0,borderDashedValue:[2,2],paddingLeft:4,paddingTop:4,paddingRight:4,paddingBottom:4,borderRadius:2}},tooltip:{offsetLeft:4,offsetTop:6,offsetRight:4,offsetBottom:6,showRule:"always",showType:"standard",title:{show:!0,showName:!0,showParams:!0,size:12,family:"Helvetica Neue",weight:"normal",color:z.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4},legend:{size:12,family:"Helvetica Neue",weight:"normal",color:z.GREY,marginLeft:8,marginTop:4,marginRight:8,marginBottom:4,defaultValue:"n/a"},features:[]}}),xAxis:Re(),yAxis:Re(),separator:{size:1,color:"#DDDDDD",fill:!0,activeBackgroundColor:Bt(z.BLUE,.08)},crosshair:{show:!0,horizontal:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:z.GREY},text:{show:!0,style:"fill",color:z.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:z.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:z.GREY},features:[]},vertical:{show:!0,line:{show:!0,style:"dashed",dashedValue:[4,2],size:1,color:z.GREY},text:{show:!0,style:"fill",color:z.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderColor:z.GREY,borderRadius:2,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:z.GREY}}},overlay:(i=Bt(z.BLUE,.35),r=Bt(z.BLUE,.25),{point:{color:z.BLUE,borderColor:i,borderSize:1,radius:5,activeColor:z.BLUE,activeBorderColor:i,activeBorderSize:3,activeRadius:5},line:{style:"solid",smooth:!1,color:z.BLUE,size:1,dashedValue:[2,2]},rect:{style:"fill",color:r,borderColor:z.BLUE,borderSize:1,borderRadius:0,borderStyle:"solid",borderDashedValue:[2,2]},polygon:{style:"fill",color:z.BLUE,borderColor:z.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},circle:{style:"fill",color:r,borderColor:z.BLUE,borderSize:1,borderStyle:"solid",borderDashedValue:[2,2]},arc:{style:"solid",color:z.BLUE,size:1,dashedValue:[2,2]},text:{style:"fill",color:z.WHITE,size:12,family:"Helvetica Neue",weight:"normal",borderStyle:"solid",borderDashedValue:[2,2],borderSize:1,borderRadius:2,borderColor:z.BLUE,paddingLeft:4,paddingRight:4,paddingTop:4,paddingBottom:4,backgroundColor:z.BLUE}})},this._formatter={formatDate:function(_){return Se(_.dateTimeFormat,_.timestamp,_.template)},formatBigNumber:Pe,formatExtendText:function(_){return""}},this._innerFormatter={formatDate:function(_,x,m){return u._formatter.formatDate({dateTimeFormat:u._dateTimeFormat,timestamp:_,template:x,type:m})},formatBigNumber:function(_){return u._formatter.formatBigNumber(_)},formatExtendText:function(_){return u._formatter.formatExtendText(_)}},this._locale="en-US",this._thousandsSeparator={sign:",",format:function(_){return Me(_,u._thousandsSeparator.sign)}},this._decimalFold={threshold:3,format:function(_){return Ie(_,u._decimalFold.threshold)}},this._symbol=null,this._period=null,this._dataList=[],this._dataLoader=null,this._loading=!1,this._dataLoadMore={forward:!1,backward:!1},this._zoomEnabled=!0,this._zoomAnchor={main:"cursor",xAxis:"cursor"},this._scrollEnabled=!0,this._totalBarSpace=0,this._barSpace=10,this._offsetRightDistance=80,this._startLastBarRightSideDiffBarCount=0,this._scrollLimitRole="bar_count",this._minVisibleBarCount={left:2,right:2},this._maxOffsetDistance={left:50,right:50},this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._crosshair={},this._actions=new Map,this._indicators=new Map,this._overlays=new Map,this._progressOverlayInfo=null,this._lastPriceMarkExtendTextUpdateTimers=[],this._pressedOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._hoverOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._clickOverlayInfo={paneId:"",overlay:null,figureType:"none",figureIndex:-1,figure:null},this._chart=e,this._calcOptimalBarSpace(),this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace;var l=t??{},c=l.styles,h=l.locale,p=l.timezone,d=l.formatter,g=l.thousandsSeparator,v=l.decimalFold,f=l.zoomAnchor;E(c)&&this.setStyles(c),H(h)&&this.setLocale(h),this.setTimezone(p??""),E(d)&&this.setFormatter(d),E(g)&&this.setThousandsSeparator(g),E(v)&&this.setDecimalFold(v),E(f)&&this.setZoomAnchor(f),this._taskScheduler=new Pi(function(){u._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})})}return n.prototype.setStyles=function(e){var t,i,r,o,a,s,u=this,l=null;if(l=H(e)?Qi(e):e,Q(this._styles,l),bt((r=(i=(t=l?.candle)===null||t===void 0?void 0:t.tooltip)===null||i===void 0?void 0:i.legend)===null||r===void 0?void 0:r.template)&&(this._styles.candle.tooltip.legend.template=l.candle.tooltip.legend.template),E((s=(a=(o=l?.candle)===null||o===void 0?void 0:o.priceMark)===null||a===void 0?void 0:a.last)===null||s===void 0?void 0:s.extendTexts)){this._clearLastPriceMarkExtendTextUpdateTimer();var c=[];this._styles.candle.priceMark.last.extendTexts.forEach(function(h){var p=h.updateInterval;if(h.show&&p>0&&!c.includes(p)){c.push(p);var d=setInterval(function(){u._chart.updatePane(0,at)},p);u._lastPriceMarkExtendTextUpdateTimers.push(d)}})}},n.prototype.getStyles=function(){return this._styles},n.prototype.setFormatter=function(e){Q(this._formatter,e)},n.prototype.getFormatter=function(){return this._formatter},n.prototype.getInnerFormatter=function(){return this._innerFormatter},n.prototype.setLocale=function(e){this._locale=e},n.prototype.getLocale=function(){return this._locale},n.prototype.setTimezone=function(e){if(!E(this._dateTimeFormat)||this.getTimezone()!==e){var t={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"};e.length>0&&(t.timeZone=e);var i=null;try{i=new Intl.DateTimeFormat("en",t)}catch{}i!==null&&(this._dateTimeFormat=i)}},n.prototype.getTimezone=function(){return this._dateTimeFormat.resolvedOptions().timeZone},n.prototype.getDateTimeFormat=function(){return this._dateTimeFormat},n.prototype.setThousandsSeparator=function(e){Q(this._thousandsSeparator,e)},n.prototype.getThousandsSeparator=function(){return this._thousandsSeparator},n.prototype.setDecimalFold=function(e){Q(this._decimalFold,e)},n.prototype.getDecimalFold=function(){return this._decimalFold},n.prototype.setSymbol=function(e){var t=this;this.resetData(function(){t._symbol=D(D({pricePrecision:lt,volumePrecision:fe},t._symbol),e),t._synchronizeIndicatorSeriesPrecision()})},n.prototype.getSymbol=function(){return this._symbol},n.prototype.setPeriod=function(e){var t=this;this.resetData(function(){t._period=e})},n.prototype.getPeriod=function(){return this._period},n.prototype.getDataList=function(){return this._dataList},n.prototype.getVisibleRangeDataList=function(){return this._visibleRangeDataList},n.prototype.getVisibleRangeHighLowPrice=function(){return this._visibleRangeHighLowPrice},n.prototype._addData=function(e,t,i){var r,o,a=!1,s=!1,u=0;if(bt(e)){var l={backward:!1,forward:!1};switch(Xt(i)?(l.backward=i,l.forward=i):(l.backward=(r=i?.backward)!==null&&r!==void 0&&r,l.forward=(o=i?.forward)!==null&&o!==void 0&&o),u=e.length,t){case"init":this._clearData(),this._dataList=e,this._dataLoadMore.backward=l.backward,this._dataLoadMore.forward=l.forward,this.setOffsetRightDistance(this._offsetRightDistance),s=!0;break;case"backward":this._dataList=this._dataList.concat(e),this._dataLoadMore.backward=l.backward,this._lastBarRightSideDiffBarCount-=u,s=u>0;break;case"forward":this._dataList=e.concat(this._dataList),this._dataLoadMore.forward=l.forward,s=u>0}a=!0}else{var c=this._dataList.length,h=e.timestamp,p=nt(this._dataList[c-1],"timestamp",0);if(h>p){this._dataList.push(e);var d=this.getLastBarRightSideDiffBarCount();d<0&&this.setLastBarRightSideDiffBarCount(--d),u=1,a=!0,s=!0}else h===p&&(this._dataList[c-1]=e,a=!0,s=!0)}if(a&&s){this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0});var g=this.getIndicatorsByFilter({});g.length>0?this._calcIndicator(g):this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:t!=="init"})}},n.prototype.setDataLoader=function(e){var t=this;this.resetData(function(){t._dataLoader=e})},n.prototype._calcOptimalBarSpace=function(){var e=1-.2*Math.atan(Math.max(4,this._barSpace)-4)/(.5*Math.PI),t=Math.min(Math.floor(this._barSpace*e),Math.floor(this._barSpace));t%2==0&&t+2>=this._barSpace&&--t,this._gapBarSpace=Math.max(1,t)},n.prototype._adjustVisibleRange=function(){var e,t,i=this._dataList.length,r=this._totalBarSpace/this._barSpace,o=0,a=0;this._scrollLimitRole==="distance"?(o=(this._totalBarSpace-this._maxOffsetDistance.right)/this._barSpace,a=(this._totalBarSpace-this._maxOffsetDistance.left)/this._barSpace):(o=this._minVisibleBarCount.left,a=this._minVisibleBarCount.right),o=Math.max(0,o),a=Math.max(0,a);var s=r-Math.min(o,i);this._lastBarRightSideDiffBarCount>s&&(this._lastBarRightSideDiffBarCount=s);var u=-i+Math.min(a,i);this._lastBarRightSideDiffBarCount<u&&(this._lastBarRightSideDiffBarCount=u);var l=Math.round(this._lastBarRightSideDiffBarCount+i+.5),c=l;l>i&&(l=i);var h=Math.round(l-r)-1;h<0&&(h=0);var p=this._lastBarRightSideDiffBarCount>0?Math.round(i+this._lastBarRightSideDiffBarCount-r)-1:h;this._visibleRange={from:h,to:l,realFrom:p,realTo:c},this.executeAction("onVisibleRangeChange",this._visibleRange),this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}];for(var d=p;d<c;d++){var g=this._dataList[d],v=this.dataIndexToCoordinate(d);this._visibleRangeDataList.push({dataIndex:d,x:v,data:{prev:(e=this._dataList[d-1])!==null&&e!==void 0?e:g,current:g,next:(t=this._dataList[d+1])!==null&&t!==void 0?t:g}}),E(g)&&(this._visibleRangeHighLowPrice[0].price<g.high&&(this._visibleRangeHighLowPrice[0].price=g.high,this._visibleRangeHighLowPrice[0].x=v),this._visibleRangeHighLowPrice[1].price>g.low&&(this._visibleRangeHighLowPrice[1].price=g.low,this._visibleRangeHighLowPrice[1].x=v))}h===0?this._dataLoadMore.forward&&this._processDataLoad("forward"):l===i&&this._dataLoadMore.backward&&this._processDataLoad("backward")},n.prototype._processDataLoad=function(e){var t,i,r,o,a=this;if(!this._loading&&E(this._dataLoader)&&E(this._symbol)&&E(this._period)){this._loading=!0;var s={type:e,symbol:this._symbol,period:this._period,timestamp:null,callback:function(u,l){var c,h;a._loading=!1,a._addData(u,e,l),e==="init"&&((h=(c=a._dataLoader)===null||c===void 0?void 0:c.subscribeBar)===null||h===void 0||h.call(c,{symbol:a._symbol,period:a._period,callback:function(p){a._addData(p,"update")}}))}};switch(e){case"backward":s.timestamp=(i=(t=this._dataList[this._dataList.length-1])===null||t===void 0?void 0:t.timestamp)!==null&&i!==void 0?i:null;break;case"forward":s.timestamp=(o=(r=this._dataList[0])===null||r===void 0?void 0:r.timestamp)!==null&&o!==void 0?o:null}this._dataLoader.getBars(s)}},n.prototype._processDataUnsubscribe=function(){var e,t;E(this._dataLoader)&&E(this._symbol)&&E(this._period)&&((t=(e=this._dataLoader).unsubscribeBar)===null||t===void 0||t.call(e,{symbol:this._symbol,period:this._period}))},n.prototype.resetData=function(e){this._processDataUnsubscribe(),e?.(),this._loading=!1,this._processDataLoad("init")},n.prototype.getBarSpace=function(){return{bar:this._barSpace,halfBar:this._barSpace/2,gapBar:this._gapBarSpace,halfGapBar:Math.floor(this._gapBarSpace/2)}},n.prototype.setBarSpace=function(e,t){e<Ji||e>$i||this._barSpace===e||(this._barSpace=e,this._calcOptimalBarSpace(),t?.(),this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0}))},n.prototype.setTotalBarSpace=function(e){this._totalBarSpace!==e&&(this._totalBarSpace=e,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}))},n.prototype.setOffsetRightDistance=function(e,t){return this._offsetRightDistance=this._scrollLimitRole==="distance"?Math.min(this._maxOffsetDistance.right,e):e,this._lastBarRightSideDiffBarCount=this._offsetRightDistance/this._barSpace,t!=null&&t&&(this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0})),this},n.prototype.getInitialOffsetRightDistance=function(){return this._offsetRightDistance},n.prototype.getOffsetRightDistance=function(){return Math.max(0,this._lastBarRightSideDiffBarCount*this._barSpace)},n.prototype.getLastBarRightSideDiffBarCount=function(){return this._lastBarRightSideDiffBarCount},n.prototype.setLastBarRightSideDiffBarCount=function(e){this._lastBarRightSideDiffBarCount=e},n.prototype.setMaxOffsetLeftDistance=function(e){this._scrollLimitRole="distance",this._maxOffsetDistance.left=e},n.prototype.setMaxOffsetRightDistance=function(e){this._scrollLimitRole="distance",this._maxOffsetDistance.right=e},n.prototype.setLeftMinVisibleBarCount=function(e){this._scrollLimitRole="bar_count",this._minVisibleBarCount.left=e},n.prototype.setRightMinVisibleBarCount=function(e){this._scrollLimitRole="bar_count",this._minVisibleBarCount.right=e},n.prototype.getVisibleRange=function(){return this._visibleRange},n.prototype.startScroll=function(){this._startLastBarRightSideDiffBarCount=this._lastBarRightSideDiffBarCount},n.prototype.scroll=function(e){if(this._scrollEnabled){var t=e/this._barSpace,i=this._lastBarRightSideDiffBarCount*this._barSpace;this._lastBarRightSideDiffBarCount=this._startLastBarRightSideDiffBarCount-t,this._adjustVisibleRange(),this.setCrosshair(this._crosshair,{notInvalidate:!0}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0,cacheYAxisWidth:!0});var r=Math.round(i-this._lastBarRightSideDiffBarCount*this._barSpace);r!==0&&this.executeAction("onScroll",{distance:r})}},n.prototype.getDataByDataIndex=function(e){var t;return(t=this._dataList[e])!==null&&t!==void 0?t:null},n.prototype.coordinateToFloatIndex=function(e){var t=this._dataList.length,i=(this._totalBarSpace-e)/this._barSpace,r=t+this._lastBarRightSideDiffBarCount-i;return Math.round(1e6*r)/1e6},n.prototype.dataIndexToTimestamp=function(e){var t=this._dataList.length;if(t===0)return null;var i=this.getDataByDataIndex(e);if(E(i))return i.timestamp;if(E(this._period)){var r=t-1,o=null,a=0;if(e>r?(o=this._dataList[r].timestamp,a=e-r):e<0&&(o=this._dataList[0].timestamp,a=e),W(o)){var s=this._period,u=s.type,l=s.span;switch(u){case"second":return o+1e3*l*a;case"minute":return o+60*l*1e3*a;case"hour":return o+60*l*60*1e3*a;case"day":return o+24*l*60*60*1e3*a;case"week":return o+7*l*24*60*60*1e3*a;case"month":var c=(p=new Date(o)).getDate();p.setDate(1),p.setMonth(p.getMonth()+l*a);var h=new Date(p.getFullYear(),p.getMonth()+1,0).getDate();return p.setDate(Math.min(c,h)),p.getTime();case"year":var p;return(p=new Date(o)).setFullYear(p.getFullYear()+l*a),p.getTime()}}}return null},n.prototype.timestampToDataIndex=function(e){var t=this._dataList.length;if(t===0)return 0;if(E(this._period)){var i=null,r=0,o=t-1,a=this._dataList[o].timestamp;e>a&&(i=a,r=o);var s=this._dataList[0].timestamp;if(e<s&&(i=s,r=0),W(i)){var u=this._period,l=u.type,c=u.span;switch(l){case"second":return r+Math.floor((e-i)/(1e3*c));case"minute":return r+Math.floor((e-i)/(60*c*1e3));case"hour":return r+Math.floor((e-i)/(60*c*60*1e3));case"day":return r+Math.floor((e-i)/(24*c*60*60*1e3));case"week":return r+Math.floor((e-i)/(7*c*24*60*60*1e3));case"month":var h=new Date(i),p=new Date(e),d=h.getFullYear(),g=p.getFullYear(),v=h.getMonth(),f=p.getMonth();return r+Math.floor((12*(g-d)+(f-v))/c);case"year":return d=new Date(i).getFullYear(),g=new Date(e).getFullYear(),r+Math.floor((g-d)/c)}}}return ve(this._dataList,"timestamp",e)},n.prototype.dataIndexToCoordinate=function(e){var t=this._dataList.length+this._lastBarRightSideDiffBarCount-e;return Math.floor(this._totalBarSpace-(t-.5)*this._barSpace+.5)},n.prototype.coordinateToDataIndex=function(e){return Math.ceil(this.coordinateToFloatIndex(e))-1},n.prototype.zoom=function(e,t,i){var r,o=this;if(this._zoomEnabled){var a=t??{x:(r=this._crosshair.x)!==null&&r!==void 0?r:this._totalBarSpace/2};i==="xAxis"?this._zoomAnchor.xAxis==="last_bar"&&(a.x=this.dataIndexToCoordinate(this._dataList.length-1)):this._zoomAnchor.main==="last_bar"&&(a.x=this.dataIndexToCoordinate(this._dataList.length-1));var s=a.x,u=this.coordinateToFloatIndex(s),l=this._barSpace,c=this._barSpace+e*(this._barSpace/10);this.setBarSpace(c,function(){o._lastBarRightSideDiffBarCount+=u-o.coordinateToFloatIndex(s)});var h=this._barSpace/l;h!==1&&this.executeAction("onZoom",{scale:h})}},n.prototype.setZoomEnabled=function(e){this._zoomEnabled=e},n.prototype.isZoomEnabled=function(){return this._zoomEnabled},n.prototype.setZoomAnchor=function(e){H(e)?(this._zoomAnchor.main=e,this._zoomAnchor.xAxis=e):(H(e.main)&&(this._zoomAnchor.main=e.main),H(e.xAxis)&&(this._zoomAnchor.xAxis=e.xAxis))},n.prototype.getZoomAnchor=function(){return D({},this._zoomAnchor)},n.prototype.setScrollEnabled=function(e){this._scrollEnabled=e},n.prototype.isScrollEnabled=function(){return this._scrollEnabled},n.prototype.setCrosshair=function(e,t){var i,r=t??{},o=r.notInvalidate,a=r.notExecuteAction,s=r.forceInvalidate,u=e??{},l=0,c=0;c=W(u.x)?(l=this.coordinateToDataIndex(u.x))<0?0:l>this._dataList.length-1?this._dataList.length-1:l:l=this._dataList.length-1;var h=this._dataList[c],p=this.dataIndexToCoordinate(l),d=this._crosshair.x,g=this._crosshair.y,v=this._crosshair.paneId;this._crosshair=D(D({},u),{realX:p,kLineData:h,realDataIndex:l,dataIndex:c,timestamp:(i=this.dataIndexToTimestamp(l))!==null&&i!==void 0?i:void 0}),(d!==u.x||g!==u.y||v!==u.paneId||s!=null&&s)&&(E(h)&&(a==null||!a)&&this.hasAction("onCrosshairChange")&&H(this._crosshair.paneId)&&this.executeAction("onCrosshairChange",e),o!=null&&o||this._chart.updatePane(1))},n.prototype.getCrosshair=function(){return this._crosshair},n.prototype.executeAction=function(e,t){var i;(i=this._actions.get(e))===null||i===void 0||i.execute(t)},n.prototype.subscribeAction=function(e,t){var i;this._actions.has(e)||this._actions.set(e,new Mi),(i=this._actions.get(e))===null||i===void 0||i.subscribe(t)},n.prototype.unsubscribeAction=function(e,t){var i=this._actions.get(e);E(i)&&(i.unsubscribe(t),i.isEmpty()&&this._actions.delete(e))},n.prototype.hasAction=function(e){var t=this._actions.get(e);return E(t)&&!t.isEmpty()},n.prototype._sortIndicators=function(e){var t;H(e)?(t=this._indicators.get(e))===null||t===void 0||t.sort(function(i,r){return i.zLevel-r.zLevel}):this._indicators.forEach(function(i){i.sort(function(r,o){return r.zLevel-o.zLevel})})},n.prototype._calcIndicator=function(e){var t=this,i=[];if((i=i.concat(e)).length>0){var r={};i.forEach(function(o){r[o.id]=o.calcImp(t._dataList)}),this._taskScheduler.add(r)}},n.prototype.addIndicator=function(e,t,i){var r=e.name;if(this.getIndicatorsByFilter(e).length>0)return!1;var o=this.getIndicatorsByPaneId(t),a=new(We(r));return this._synchronizeIndicatorSeriesPrecision(a),a.paneId=t,a.override(e),i||(this.removeIndicator({paneId:t}),o=[]),o.push(a),this._indicators.set(t,o),this._sortIndicators(t),this._calcIndicator(a),!0},n.prototype.getIndicatorsByPaneId=function(e){var t;return(t=this._indicators.get(e))!==null&&t!==void 0?t:[]},n.prototype.getIndicatorsByFilter=function(e){var t=e.paneId,i=e.name,r=e.id,o=function(s){return E(r)?s.id===r:!E(i)||s.name===i},a=[];return E(t)?a=a.concat(this.getIndicatorsByPaneId(t).filter(o)):this._indicators.forEach(function(s){a=a.concat(s.filter(o))}),a},n.prototype.removeIndicator=function(e){var t=this,i=!1;return this.getIndicatorsByFilter(e).forEach(function(r){var o=t.getIndicatorsByPaneId(r.paneId),a=o.findIndex(function(s){return s.id===r.id});a>-1&&(o.splice(a,1),i=!0),o.length===0&&t._indicators.delete(r.paneId)}),i},n.prototype.hasIndicators=function(e){return this._indicators.has(e)},n.prototype._synchronizeIndicatorSeriesPrecision=function(e){if(E(this._symbol)){var t=this._symbol,i=t.pricePrecision,r=i===void 0?lt:i,o=t.volumePrecision,a=o===void 0?fe:o,s=function(u){switch(u.series){case"price":u.setSeriesPrecision(r);break;case"volume":u.setSeriesPrecision(a)}};E(e)?s(e):this._indicators.forEach(function(u){u.forEach(function(l){s(l)})})}},n.prototype.overrideIndicator=function(e){var t=this,i=!1,r=!1;return this.getIndicatorsByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdateImp(),s=a.calc,u=a.draw;a.sort&&(r=!0),s?t._calcIndicator(o):u&&(i=!0)}),r&&this._sortIndicators(),!!i&&(this._chart.layout({update:!0}),!0)},n.prototype.getOverlaysByFilter=function(e){var t,i=e.id,r=e.groupId,o=e.paneId,a=e.name,s=function(c){return E(i)?c.id===i:E(r)?c.groupId===r&&(!E(a)||c.name===a):!E(a)||c.name===a},u=[];E(o)?u=u.concat(this.getOverlaysByPaneId(o).filter(s)):this._overlays.forEach(function(c){u=u.concat(c.filter(s))});var l=(t=this._progressOverlayInfo)===null||t===void 0?void 0:t.overlay;return E(l)&&s(l)&&u.push(l),u},n.prototype.getOverlaysByPaneId=function(e){var t;if(!H(e)){var i=[];return this._overlays.forEach(function(r){i=i.concat(r)}),i}return(t=this._overlays.get(e))!==null&&t!==void 0?t:[]},n.prototype._sortOverlays=function(e){var t;H(e)?(t=this._overlays.get(e))===null||t===void 0||t.sort(function(i,r){return i.zLevel-r.zLevel}):this._overlays.forEach(function(i){i.sort(function(r,o){return r.zLevel-o.zLevel})})},n.prototype.addOverlays=function(e,t){var i=this,r=[],o=e.map(function(a,s){var u,l,c,h,p,d,g,v;if(E(a.id)){var f=null;try{for(var _=yt(i._overlays),x=_.next();!x.done;x=_.next())if(E(w=x.value[1].find(function(T){return T.id===a.id}))){f=w;break}}catch(T){u={error:T}}finally{try{x&&!x.done&&(l=_.return)&&l.call(_)}finally{if(u)throw u.error}}if(E(f))return a.id}var m=qi(a.name);if(E(m)){var b=(c=a.id)!==null&&c!==void 0?c:ie("overlay_"),w=new m,C=(h=a.paneId)!==null&&h!==void 0?h:at;a.id=b,(p=a.groupId)!==null&&p!==void 0||(a.groupId=b);var y=i.getOverlaysByPaneId(C).length;return(d=a.zLevel)!==null&&d!==void 0||(a.zLevel=y),w.override(a),r.includes(C)||r.push(C),w.isDrawing()?i._progressOverlayInfo={paneId:C,overlay:w,appointPaneFlag:t[s]}:(i._overlays.has(C)||i._overlays.set(C,[]),(g=i._overlays.get(C))===null||g===void 0||g.push(w)),w.isStart()&&((v=w.onDrawStart)===null||v===void 0||v.call(w,{overlay:w,chart:i._chart})),b}return null});return r.length>0&&(this._sortOverlays(),r.forEach(function(a){i._chart.updatePane(1,a)}),this._chart.updatePane(1,et)),o},n.prototype.getProgressOverlayInfo=function(){return this._progressOverlayInfo},n.prototype.progressOverlayComplete=function(){var e;if(this._progressOverlayInfo!==null){var t=this._progressOverlayInfo,i=t.overlay,r=t.paneId;i.isDrawing()||(this._overlays.has(r)||this._overlays.set(r,[]),(e=this._overlays.get(r))===null||e===void 0||e.push(i),this._sortOverlays(r),this._progressOverlayInfo=null)}},n.prototype.updateProgressOverlayInfo=function(e,t){this._progressOverlayInfo!==null&&(Xt(t)&&t&&(this._progressOverlayInfo.appointPaneFlag=t),this._progressOverlayInfo.paneId=e,this._progressOverlayInfo.overlay.override({paneId:e}))},n.prototype.overrideOverlay=function(e){var t=this,i=!1,r=[];return this.getOverlaysByFilter(e).forEach(function(o){o.override(e);var a=o.shouldUpdate(),s=a.sort,u=a.draw;s&&(i=!0),(s||u)&&(r.includes(o.paneId)||r.push(o.paneId))}),i&&this._sortOverlays(),r.length>0&&(r.forEach(function(o){t._chart.updatePane(1,o)}),this._chart.updatePane(1,et),!0)},n.prototype.removeOverlay=function(e){var t=this,i=[];return this.getOverlaysByFilter(e).forEach(function(r){var o,a=r.paneId,s=t.getOverlaysByPaneId(r.paneId);if((o=r.onRemoved)===null||o===void 0||o.call(r,{overlay:r,chart:t._chart}),i.includes(a)||i.push(a),r.isDrawing())t._progressOverlayInfo=null;else{var u=s.findIndex(function(l){return l.id===r.id});u>-1&&s.splice(u,1)}s.length===0&&t._overlays.delete(a)}),i.length>0&&(i.forEach(function(r){t._chart.updatePane(1,r)}),this._chart.updatePane(1,et),!0)},n.prototype.setPressedOverlayInfo=function(e){this._pressedOverlayInfo=e},n.prototype.getPressedOverlayInfo=function(){return this._pressedOverlayInfo},n.prototype.setHoverOverlayInfo=function(e,t,i){var r=this._hoverOverlayInfo,o=r.overlay,a=r.figureType,s=r.figureIndex,u=r.figure,l=e.overlay;if((o?.id!==l?.id||a!==e.figureType||s!==e.figureIndex)&&(this._hoverOverlayInfo=e,o?.id!==l?.id)){var c=!1,h=!1;o!==null&&(o.override({zLevel:o.getPrevZLevel()}),h=!0,i(o,u)&&(c=!0)),l!==null&&(l.setPrevZLevel(l.zLevel),l.override({zLevel:Number.MAX_SAFE_INTEGER}),h=!0,t(l,e.figure)&&(c=!0)),h&&this._sortOverlays(),c||this._chart.updatePane(1)}},n.prototype.getHoverOverlayInfo=function(){return this._hoverOverlayInfo},n.prototype.setClickOverlayInfo=function(e,t,i){var r=this._clickOverlayInfo,o=r.paneId,a=r.overlay,s=r.figureType,u=r.figure,l=r.figureIndex,c=e.overlay;a?.id===c?.id&&s===e.figureType&&l===e.figureIndex||(this._clickOverlayInfo=e,a?.id!==c?.id&&(E(a)&&i(a,u),E(c)&&t(c,e.figure),this._chart.updatePane(1,e.paneId),o!==e.paneId&&this._chart.updatePane(1,o),this._chart.updatePane(1,et)))},n.prototype.getClickOverlayInfo=function(){return this._clickOverlayInfo},n.prototype.isOverlayEmpty=function(){return this._overlays.size===0&&this._progressOverlayInfo===null},n.prototype.isOverlayDrawing=function(){var e,t;return(t=(e=this._progressOverlayInfo)===null||e===void 0?void 0:e.overlay.isDrawing())!==null&&t!==void 0&&t},n.prototype._clearLastPriceMarkExtendTextUpdateTimer=function(){this._lastPriceMarkExtendTextUpdateTimers.forEach(function(e){clearInterval(e)}),this._lastPriceMarkExtendTextUpdateTimers=[]},n.prototype._clearData=function(){this._dataLoadMore.backward=!1,this._dataLoadMore.forward=!1,this._loading=!1,this._dataList=[],this._visibleRangeDataList=[],this._visibleRangeHighLowPrice=[{x:0,price:Number.MIN_SAFE_INTEGER},{x:0,price:Number.MAX_SAFE_INTEGER}],this._visibleRange={from:0,to:0,realFrom:0,realTo:0},this._crosshair={}},n.prototype.getChart=function(){return this._chart},n.prototype.destroy=function(){this._clearData(),this._clearLastPriceMarkExtendTextUpdateTimer(),this._taskScheduler.clear(),this._overlays.clear(),this._indicators.clear(),this._actions.clear()},n}(),ut="main",Mt="xAxis",wt="yAxis",jt="separator",Ue=function(){function n(e,t){var i=this;this._supportedDevicePixelContentBox=!1,this._width=0,this._height=0,this._pixelWidth=0,this._pixelHeight=0,this._nextPixelWidth=0,this._nextPixelHeight=0,this._requestAnimationId=-1,this._mediaQueryListener=function(){var r=Ft(i._element);i._nextPixelWidth=Math.round(i._element.clientWidth*r),i._nextPixelHeight=Math.round(i._element.clientHeight*r),i._resetPixelRatio()},this._listener=t,this._element=St("canvas",e),this._ctx=this._element.getContext("2d"),function(){return he(this,void 0,void 0,function(){return de(this,function(r){switch(r.label){case 0:return[4,new Promise(function(o){var a=new ResizeObserver(function(s){o(s.every(function(u){return"devicePixelContentBoxSize"in u})),a.disconnect()});a.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})];case 1:return[2,r.sent()]}})})}().then(function(r){i._supportedDevicePixelContentBox=r,r?(i._resizeObserver=new ResizeObserver(function(o){var a=o.find(function(u){return u.target===i._element}),s=a?.devicePixelContentBoxSize[0];E(s)&&(i._nextPixelWidth=s.inlineSize,i._nextPixelHeight=s.blockSize,i._pixelWidth===i._nextPixelWidth&&i._pixelHeight===i._nextPixelHeight||i._resetPixelRatio())}),i._resizeObserver.observe(i._element,{box:"device-pixel-content-box"})):(i._mediaQueryList=window.matchMedia("(resolution: ".concat(Ft(i._element),"dppx)")),i._mediaQueryList.addListener(i._mediaQueryListener))}).catch(function(r){return!1})}return n.prototype._resetPixelRatio=function(){var e=this;this._executeListener(function(){var t=e._element.clientWidth,i=e._element.clientHeight;e._width=t,e._height=i,e._pixelWidth=e._nextPixelWidth,e._pixelHeight=e._nextPixelHeight,e._element.width=e._nextPixelWidth,e._element.height=e._nextPixelHeight;var r=e._nextPixelWidth/t,o=e._nextPixelHeight/i;e._ctx.scale(r,o)})},n.prototype._executeListener=function(e){var t=this;this._requestAnimationId===-1&&(this._requestAnimationId=ee(function(){t._ctx.clearRect(0,0,t._width,t._height),e?.(),t._listener(),t._requestAnimationId=-1}))},n.prototype.update=function(e,t){if(this._width!==e||this._height!==t){if(this._element.style.width="".concat(e,"px"),this._element.style.height="".concat(t,"px"),!this._supportedDevicePixelContentBox){var i=Ft(this._element);this._nextPixelWidth=Math.round(e*i),this._nextPixelHeight=Math.round(t*i),this._resetPixelRatio()}}else this._executeListener()},n.prototype.getElement=function(){return this._element},n.prototype.getContext=function(){return this._ctx},n.prototype.destroy=function(){E(this._resizeObserver)&&this._resizeObserver.unobserve(this._element),E(this._mediaQueryList)&&this._mediaQueryList.removeListener(this._mediaQueryListener)},n}(),Ze=function(n){function e(t,i){var r=n.call(this)||this;return r._bounding=te(),r._cursor="crosshair",r._forceCursor=null,r._pane=i,r._rootContainer=t,r._container=r.createContainer(),t.appendChild(r._container),r}return Y(e,n),e.prototype.setBounding=function(t){return Q(this._bounding,t),this},e.prototype.getContainer=function(){return this._container},e.prototype.getBounding=function(){return this._bounding},e.prototype.getPane=function(){return this._pane},e.prototype.checkEventOn=function(t){return!0},e.prototype.setCursor=function(t){H(this._forceCursor)||t!==this._cursor&&(this._cursor=t,this._container.style.cursor=this._cursor)},e.prototype.setForceCursor=function(t){var i;t!==this._forceCursor&&(this._forceCursor=t,this._container.style.cursor=(i=this._forceCursor)!==null&&i!==void 0?i:this._cursor)},e.prototype.getForceCursor=function(){return this._forceCursor},e.prototype.update=function(t){this.updateImp(this._container,this._bounding,t??3)},e.prototype.destroy=function(){this._rootContainer.removeChild(this._container)},e}(ye),xe=function(n){function e(t,i){var r=n.call(this,t,i)||this;r._mainCanvas=new Ue({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){r.updateMain(r._mainCanvas.getContext())}),r._overlayCanvas=new Ue({position:"absolute",top:"0",left:"0",zIndex:"2",boxSizing:"border-box"},function(){r.updateOverlay(r._overlayCanvas.getContext())});var o=r.getContainer();return o.appendChild(r._mainCanvas.getElement()),o.appendChild(r._overlayCanvas.getElement()),r}return Y(e,n),e.prototype.createContainer=function(){return St("div",{margin:"0",padding:"0",position:"absolute",top:"0",overflow:"hidden",boxSizing:"border-box",zIndex:"1"})},e.prototype.updateImp=function(t,i,r){var o=i.width,a=i.height,s=i.left;t.style.left="".concat(s,"px");var u=r,l=t.clientWidth,c=t.clientHeight;switch(o===l&&a===c||(t.style.width="".concat(o,"px"),t.style.height="".concat(a,"px"),u=3),u){case 0:this._mainCanvas.update(o,a);break;case 1:this._overlayCanvas.update(o,a);break;case 3:case 4:this._mainCanvas.update(o,a),this._overlayCanvas.update(o,a)}},e.prototype.destroy=function(){this._mainCanvas.destroy(),this._overlayCanvas.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=St("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),u=Ft(a);return a.width=r*u,a.height=o*u,s.scale(u,u),s.drawImage(this._mainCanvas.getElement(),0,0,r,o),t&&s.drawImage(this._overlayCanvas.getElement(),0,0,r,o),a},e}(Ze);function je(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=yt(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.x,l=s.y,c=s.r,h=n.x-u,p=n.y-l;if(!(h*h+p*p>c*c))return!0}}catch(d){t={error:d}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var tr={name:"circle",checkEventOn:je,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"fill":s,l=o.color,c=l===void 0?"currentColor":l,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,g=d===void 0?"currentColor":d,v=o.borderStyle,f=v===void 0?"solid":v,_=o.borderDashedValue,x=_===void 0?[2,2]:_,m=!(u!=="fill"&&o.style!=="stroke_fill"||H(c)&&Nt(c));m&&(i.fillStyle=c,a.forEach(function(b){var w=b.x,C=b.y,y=b.r;i.beginPath(),i.arc(w,C,y,0,2*Math.PI),i.closePath(),i.fill()})),(u==="stroke"||o.style==="stroke_fill")&&p>0&&!Nt(g)&&(i.strokeStyle=g,i.lineWidth=p,f==="dashed"?i.setLineDash(x):i.setLineDash([]),a.forEach(function(b){var w=b.x,C=b.y,y=b.r;(!m||y>p)&&(i.beginPath(),i.arc(w,C,y,0,2*Math.PI),i.closePath(),i.stroke())}))})(n,e,t)}};function qe(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=yt(r),a=o.next();!a.done;a=o.next()){for(var s=a.value,u=!1,l=s.coordinates,c=0,h=l.length-1;c<l.length;h=c++)l[c].y>n.y!=l[h].y>n.y&&n.x<(l[h].x-l[c].x)*(n.y-l[c].y)/(l[h].y-l[c].y)+l[c].x&&(u=!u);if(u)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}var er={name:"polygon",checkEventOn:qe,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"fill":s,l=o.color,c=l===void 0?"currentColor":l,h=o.borderSize,p=h===void 0?1:h,d=o.borderColor,g=d===void 0?"currentColor":d,v=o.borderStyle,f=v===void 0?"solid":v,_=o.borderDashedValue,x=_===void 0?[2,2]:_;u!=="fill"&&o.style!=="stroke_fill"||H(c)&&Nt(c)||(i.fillStyle=c,a.forEach(function(m){var b=m.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var w=1;w<b.length;w++)i.lineTo(b[w].x,b[w].y);i.closePath(),i.fill()})),(u==="stroke"||o.style==="stroke_fill")&&p>0&&!Nt(g)&&(i.strokeStyle=g,i.lineWidth=p,f==="dashed"?i.setLineDash(x):i.setLineDash([]),a.forEach(function(m){var b=m.coordinates;i.beginPath(),i.moveTo(b[0].x,b[0].y);for(var w=1;w<b.length;w++)i.lineTo(b[w].x,b[w].y);i.closePath(),i.stroke()}))})(n,e,t)}};function be(n,e){var t,i,r=[];r=r.concat(e);try{for(var o=yt(r),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.x,l=s.width;l<4&&(u-=2,l=4);var c=s.y,h=s.height;if(h<4&&(c-=2,h=4),n.x>=u&&n.x<=u+l&&n.y>=c&&n.y<=c+h)return!0}}catch(p){t={error:p}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}return!1}function Qe(n,e,t){var i,r=[];r=r.concat(e);var o=t.style,a=o===void 0?"fill":o,s=t.color,u=s===void 0?"transparent":s,l=t.borderSize,c=l===void 0?1:l,h=t.borderColor,p=h===void 0?"transparent":h,d=t.borderStyle,g=d===void 0?"solid":d,v=t.borderRadius,f=v===void 0?0:v,_=t.borderDashedValue,x=_===void 0?[2,2]:_,m=(i=n.roundRect)!==null&&i!==void 0?i:n.rect,b=!(a!=="fill"&&t.style!=="stroke_fill"||H(u)&&Nt(u));if(b&&(n.fillStyle=u,r.forEach(function(y){var T=y.x,S=y.y,P=y.width,k=y.height;n.beginPath(),m.call(n,T,S,P,k,f),n.closePath(),n.fill()})),(a==="stroke"||t.style==="stroke_fill")&&c>0&&!Nt(p)){n.strokeStyle=p,n.fillStyle=p,n.lineWidth=c,g==="dashed"?n.setLineDash(x):n.setLineDash([]);var w=c%2==1?.5:0,C=Math.round(2*w);r.forEach(function(y){var T=y.x,S=y.y,P=y.width,k=y.height;P>2*c&&k>2*c?(n.beginPath(),m.call(n,T+w,S+w,P-C,k-C,f),n.closePath(),n.stroke()):b||n.fillRect(T,S,P,k)})}}var ir={name:"rect",checkEventOn:be,draw:function(n,e,t){Qe(n,e,t)}};function Je(n,e){var t=e.size,i=t===void 0?12:t,r=e.paddingLeft,o=r===void 0?0:r,a=e.paddingTop,s=a===void 0?0:a,u=e.paddingRight,l=u===void 0?0:u,c=e.paddingBottom,h=c===void 0?0:c,p=e.weight,d=p===void 0?"normal":p,g=e.family,v=n.x,f=n.y,_=n.text,x=n.align,m=x===void 0?"left":x,b=n.baseline,w=b===void 0?"top":b,C=n.width,y=n.height,T=C??o+mt(_,i,d,g)+l,S=y??s+i+h,P=0;switch(m){case"left":case"start":P=v;break;case"right":case"end":P=v-T;break;default:P=v-T/2}var k=0;switch(w){case"top":case"hanging":k=f;break;case"bottom":case"ideographic":case"alphabetic":k=f-S;break;default:k=f-S/2}return{x:P,y:k,width:T,height:S}}function $e(n,e,t){var i,r,o=[];o=o.concat(e);try{for(var a=yt(o),s=a.next();!s.done;s=a.next()){var u=Je(s.value,t),l=u.x,c=u.y,h=u.width,p=u.height;if(n.x>=l&&n.x<=l+h&&n.y>=c&&n.y<=c+p)return!0}}catch(d){i={error:d}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return!1}var rr={name:"text",checkEventOn:$e,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.color,u=s===void 0?"currentColor":s,l=o.size,c=l===void 0?12:l,h=o.family,p=o.weight,d=o.paddingLeft,g=d===void 0?0:d,v=o.paddingTop,f=v===void 0?0:v,_=o.paddingRight,x=_===void 0?0:_,m=a.map(function(b){return Je(b,o)});Qe(i,m,D(D({},o),{color:o.backgroundColor})),i.textAlign="left",i.textBaseline="top",i.font=Wt(c,p,h),i.fillStyle=u,a.forEach(function(b,w){var C=m[w];i.fillText(b.text,C.x+g,C.y+f,C.width-g-x)})})(n,e,t)}};function Ke(n,e){var t,i,r,o,a,s,u=[];u=u.concat(e);try{for(var l=yt(u),c=l.next();!c.done;c=l.next()){var h=c.value;if(Math.abs((o=h,a=void 0,s=void 0,a=(r=n).x-o.x,s=r.y-o.y,Math.sqrt(a*a+s*s)-h.r))<2){var p=h.r,d=h.startAngle,g=h.endAngle,v=p*Math.cos(d)+h.x,f=p*Math.sin(d)+h.y,_=p*Math.cos(g)+h.x,x=p*Math.sin(g)+h.y;if(n.x<=Math.max(v,_)+2&&n.x>=Math.min(v,_)-2&&n.y<=Math.max(f,x)+2&&n.y>=Math.min(f,x)-2)return!0}}}catch(m){t={error:m}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(t)throw t.error}}return!1}var nr={name:"arc",checkEventOn:Ke,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.style,u=s===void 0?"solid":s,l=o.size,c=l===void 0?1:l,h=o.color,p=h===void 0?"currentColor":h,d=o.dashedValue,g=d===void 0?[2,2]:d;i.lineWidth=c,i.strokeStyle=p,u==="dashed"?i.setLineDash(g):i.setLineDash([]),a.forEach(function(v){var f=v.x,_=v.y,x=v.r,m=v.startAngle,b=v.endAngle;i.beginPath(),i.arc(f,_,x,m,b),i.stroke(),i.closePath()})})(n,e,t)}};function ti(n,e,t,i,r,o,a){var s=Gt(i,7),u=s[0],l=s[1],c=s[2],h=s[3],p=s[4],d=s[5],g=s[6],v=function(f,_,x,m,b,w,C,y,T){for(var S=function(B,O,V,N,it,$,X,G,Z){var U=it*Math.PI/180,j=(B-G)/2,q=(O-Z)/2,K=Math.cos(U)*j+Math.sin(U)*q,J=-Math.sin(U)*j+Math.cos(U)*q,tt=Math.pow(K,2)/Math.pow(V,2)+Math.pow(J,2)/Math.pow(N,2);tt>1&&(V*=Math.sqrt(tt),N*=Math.sqrt(tt));var ct=$===X?-1:1,dt=Math.pow(V,2)*Math.pow(N,2)-Math.pow(V,2)*Math.pow(J,2)-Math.pow(N,2)*Math.pow(K,2),It=Math.pow(V,2)*Math.pow(J,2)+Math.pow(N,2)*Math.pow(K,2),ht=ct*Math.sqrt(Math.abs(dt/It))*(V*J/N),gt=ct*Math.sqrt(Math.abs(dt/It))*(-N*K/V),Rt=Math.cos(U)*ht-Math.sin(U)*gt+(B+G)/2,Dt=Math.sin(U)*ht+Math.cos(U)*gt+(O+Z)/2,Lt=Math.atan2((J-gt)/N,(K-ht)/V),Ct=Math.atan2((-J-gt)/N,(-K-ht)/V)-Lt;return Ct<0&&X===1?Ct+=2*Math.PI:Ct>0&&X===0&&(Ct-=2*Math.PI),{cx:Rt,cy:Dt,startAngle:Lt,deltaAngle:Ct}}(f,_,x,m,b,w,C,y,T),P=S.cx,k=S.cy,R=S.startAngle,A=S.deltaAngle,F=[],L=Math.ceil(Math.abs(A)/(Math.PI/2)),I=0;I<L;I++){var M=or(P,k,x,m,b,R+I*A/L,R+(I+1)*A/L);F.push(M)}return F}(e,t,u,l,c,h,p,a?e+d:d+r,a?t+g:g+o);v.forEach(function(f){n.bezierCurveTo(f[0],f[1],f[2],f[3],f[4],f[5])})}function or(n,e,t,i,r,o,a){var s=Math.sin(a-o)*(Math.sqrt(4+3*Math.pow(Math.tan((a-o)/2),2))-1)/3,u=Math.cos(r),l=Math.sin(r),c=n+t*Math.cos(o)*u-i*Math.sin(o)*l,h=e+t*Math.cos(o)*l+i*Math.sin(o)*u,p=n+t*Math.cos(a)*u-i*Math.sin(a)*l,d=e+t*Math.cos(a)*l+i*Math.sin(a)*u;return[c+s*(-t*Math.sin(o)*u-i*Math.cos(o)*l),h+s*(-t*Math.sin(o)*l+i*Math.cos(o)*u),p-s*(-t*Math.sin(a)*u-i*Math.cos(a)*l),d-s*(-t*Math.sin(a)*l+i*Math.cos(a)*u),p,d]}var ar={name:"path",checkEventOn:be,draw:function(n,e,t){(function(i,r,o){var a=[];a=a.concat(r);var s=o.lineWidth,u=s===void 0?1:s,l=o.color,c=l===void 0?"currentColor":l;i.lineWidth=u,i.strokeStyle=c,i.setLineDash([]),a.forEach(function(h){var p=h.x,d=h.y,g=h.path.match(/[MLHVCSQTAZ][^MLHVCSQTAZ]*/gi);if(E(g)){var v=p,f=d;i.beginPath(),g.forEach(function(_){var x=0,m=0,b=0,w=0,C=_[0],y=_.slice(1).trim().split(/[\s,]+/).map(Number);switch(C){case"M":x=y[0]+v,m=y[1]+f,i.moveTo(x,m),b=x,w=m;break;case"m":x+=y[0],m+=y[1],i.moveTo(x,m),b=x,w=m;break;case"L":x=y[0]+v,m=y[1]+f,i.lineTo(x,m);break;case"l":x+=y[0],m+=y[1],i.lineTo(x,m);break;case"H":x=y[0]+v,i.lineTo(x,m);break;case"h":x+=y[0],i.lineTo(x,m);break;case"V":m=y[0]+f,i.lineTo(x,m);break;case"v":m+=y[0],i.lineTo(x,m);break;case"C":i.bezierCurveTo(y[0]+v,y[1]+f,y[2]+v,y[3]+f,y[4]+v,y[5]+f),x=y[4]+v,m=y[5]+f;break;case"c":i.bezierCurveTo(x+y[0],m+y[1],x+y[2],m+y[3],x+y[4],m+y[5]),x+=y[4],m+=y[5];break;case"S":i.bezierCurveTo(x,m,y[0]+v,y[1]+f,y[2]+v,y[3]+f),x=y[2]+v,m=y[3]+f;break;case"s":i.bezierCurveTo(x,m,x+y[0],m+y[1],x+y[2],m+y[3]),x+=y[2],m+=y[3];break;case"Q":i.quadraticCurveTo(y[0]+v,y[1]+f,y[2]+v,y[3]+f),x=y[2]+v,m=y[3]+f;break;case"q":i.quadraticCurveTo(x+y[0],m+y[1],x+y[2],m+y[3]),x+=y[2],m+=y[3];break;case"T":i.quadraticCurveTo(x,m,y[0]+v,y[1]+f),x=y[0]+v,m=y[1]+f;break;case"t":i.quadraticCurveTo(x,m,x+y[0],m+y[1]),x+=y[0],m+=y[1];break;case"A":ti(i,x,m,y,v,f,!1),x=y[5]+v,m=y[6]+f;break;case"a":ti(i,x,m,y,v,f,!0),x+=y[5],m+=y[6];break;case"Z":case"z":i.closePath(),x=b,m=w}}),o.style==="fill"?i.fill():i.stroke()}})})(n,e,t)}},qt={};[tr,Gi,er,ir,rr,nr,ar].forEach(function(n){qt[n.name]=Ve.extend(n)});var pt=function(n){function e(t){var i=n.call(this)||this;return i._widget=t,i}return Y(e,n),e.prototype.getWidget=function(){return this._widget},e.prototype.createFigure=function(t,i){var r,o,a=(r=t.name,(o=qt[r])!==null&&o!==void 0?o:null);if(a!==null){var s=new a(t);if(E(i)){for(var u in i)i.hasOwnProperty(u)&&s.registerEvent(u,i[u]);this.addChild(s)}return s}return null},e.prototype.draw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];this.clear(),this.drawImp(t,i)},e.prototype.checkEventOn=function(t){return!0},e}(ye),sr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this.getWidget(),a=this.getWidget().getPane(),s=a.getChart(),u=o.getBounding(),l=s.getStyles().grid;if(l.show){t.save(),t.globalCompositeOperation="destination-over";var c=l.horizontal;if(c.show){var h=a.getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:0,y:d.coord},{x:u.width,y:d.coord}]}});(i=this.createFigure({name:"line",attrs:h,styles:c}))===null||i===void 0||i.draw(t)}var p=l.vertical;p.show&&(h=s.getXAxisPane().getAxisComponent().getTicks().map(function(d){return{coordinates:[{x:d.coord,y:0},{x:d.coord,y:u.height}]}}),(r=this.createFigure({name:"line",attrs:h,styles:p}))===null||r===void 0||r.draw(t)),t.restore()}},e}(pt),ei=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.eachChildren=function(t){for(var i=this.getWidget().getPane().getChart().getChartStore(),r=i.getVisibleRangeDataList(),o=i.getBarSpace(),a=r.length,s=0;s<a;)t(r[s],o,s),++s},e}(pt),ii=function(n){function e(){var t=n.apply(this,Kt([],Gt(arguments),!1))||this;return t._boundCandleBarClickEvent=function(i){return function(){return t.getWidget().getPane().getChart().getChartStore().executeAction("onCandleBarClick",i),!1}},t}return Y(e,n),e.prototype.drawImp=function(t){var i=this,r=this.getWidget().getPane(),o=r.getId()===at,a=r.getChart().getChartStore(),s=this.getCandleBarOptions();if(s!==null){var u=s.type,l=s.styles,c=0,h=0;if(s.type==="ohlc"){var p=a.getBarSpace().gapBar;(c=Math.min(Math.max(Math.round(.2*p),1),8))>2&&c%2==1&&c--,h=Math.floor(c/2)}var d=r.getAxisComponent();this.eachChildren(function(g,v){var f,_=g.x,x=g.data,m=x.current,b=x.prev;if(E(m)){var w=m.open,C=m.high,y=m.low,T=m.close,S=l.compareRule==="current_open"?w:(f=b?.close)!==null&&f!==void 0?f:T,P=[];T>S?(P[0]=l.upColor,P[1]=l.upBorderColor,P[2]=l.upWickColor):T<S?(P[0]=l.downColor,P[1]=l.downBorderColor,P[2]=l.downWickColor):(P[0]=l.noChangeColor,P[1]=l.noChangeBorderColor,P[2]=l.noChangeWickColor);var k=d.convertToPixel(w),R=d.convertToPixel(T),A=[k,R,d.convertToPixel(C),d.convertToPixel(y)];A.sort(function(I,M){return I-M});var F=v.gapBar%2==0?1:0,L=[];switch(u){case"candle_solid":L=i._createSolidBar(_,A,v,P,F);break;case"candle_stroke":L=i._createStrokeBar(_,A,v,P,F);break;case"candle_up_stroke":L=T>w?i._createStrokeBar(_,A,v,P,F):i._createSolidBar(_,A,v,P,F);break;case"candle_down_stroke":L=w>T?i._createStrokeBar(_,A,v,P,F):i._createSolidBar(_,A,v,P,F);break;case"ohlc":L=[{name:"rect",attrs:[{x:_-h,y:A[0],width:c,height:A[3]-A[0]},{x:_-v.halfGapBar,y:k+c>A[3]?A[3]-c:k,width:v.halfGapBar-h,height:c},{x:_+h,y:R+c>A[3]?A[3]-c:R,width:v.halfGapBar-h,height:c}],styles:{color:P[0]}}]}L.forEach(function(I){var M,B=null;o&&(B={mouseClickEvent:i._boundCandleBarClickEvent(g)}),(M=i.createFigure(I,B??void 0))===null||M===void 0||M.draw(t)})}})}},e.prototype.getCandleBarOptions=function(){var t=this.getWidget().getPane().getChart().getStyles().candle;return{type:t.type,styles:t.bar}},e.prototype._createSolidBar=function(t,i,r,o,a){return[{name:"rect",attrs:{x:t,y:i[0],width:1,height:i[3]-i[0]},styles:{color:o[2]}},{name:"rect",attrs:{x:t-r.halfGapBar,y:i[1],width:r.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:"stroke_fill",color:o[0],borderColor:o[1]}}]},e.prototype._createStrokeBar=function(t,i,r,o,a){return[{name:"rect",attrs:[{x:t,y:i[0],width:1,height:i[1]-i[0]},{x:t,y:i[2],width:1,height:i[3]-i[2]}],styles:{color:o[2]}},{name:"rect",attrs:{x:t-r.halfGapBar,y:i[1],width:r.gapBar+a,height:Math.max(1,i[2]-i[1])},styles:{style:"stroke",borderColor:o[1]}}]},e}(ei),lr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getCandleBarOptions=function(){var t,i,r=this.getWidget().getPane();if(!r.getAxisComponent().isInCandle()){var o=r.getChart().getChartStore(),a=o.getIndicatorsByPaneId(r.getId());try{for(var s=yt(a),u=s.next();!u.done;u=s.next()){var l=u.value;if(l.shouldOhlc&&l.visible){var c=l.styles,h=o.getStyles().indicator,p=nt(c,"ohlc.compareRule",h.ohlc.compareRule),d=nt(c,"ohlc.upColor",h.ohlc.upColor),g=nt(c,"ohlc.downColor",h.ohlc.downColor),v=nt(c,"ohlc.noChangeColor",h.ohlc.noChangeColor);return{type:"ohlc",styles:{compareRule:p,upColor:d,downColor:g,noChangeColor:v,upBorderColor:d,downBorderColor:g,noChangeBorderColor:v,upWickColor:d,downWickColor:g,noChangeWickColor:v}}}}}catch(f){t={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(t)throw t.error}}}return null},e.prototype.drawImp=function(t){var i=this;n.prototype.drawImp.call(this,t);var r=this.getWidget(),o=r.getPane(),a=o.getChart(),s=r.getBounding(),u=a.getXAxisPane().getAxisComponent(),l=o.getAxisComponent(),c=a.getChartStore(),h=c.getIndicatorsByPaneId(o.getId()),p=c.getStyles().indicator;t.save(),h.forEach(function(d){if(d.visible){d.zLevel<0?t.globalCompositeOperation="destination-over":t.globalCompositeOperation="source-over";var g=!1;if(d.draw!==null&&(t.save(),g=d.draw({ctx:t,chart:a,indicator:d,bounding:s,xAxis:u,yAxis:l}),t.restore()),!g){var v=d.result,f=[];i.eachChildren(function(_,x){var m,b,w,C=x.halfGapBar,y=_.dataIndex,T=_.x,S=u.convertToPixel(y-1),P=u.convertToPixel(y+1),k=(m=v[y-1])!==null&&m!==void 0?m:null,R=(b=v[y])!==null&&b!==void 0?b:null,A=(w=v[y+1])!==null&&w!==void 0?w:null,F={x:S},L={x:T},I={x:P};d.figures.forEach(function(M){var B=M.key,O=k?.[B];W(O)&&(F[B]=l.convertToPixel(O));var V=R?.[B];W(V)&&(L[B]=l.convertToPixel(V));var N=A?.[B];W(N)&&(I[B]=l.convertToPixel(N))}),me(d,y,p,function(M,B,O){var V,N,it;if(E(R?.[M.key])){var $=L[M.key],X=(V=M.attrs)===null||V===void 0?void 0:V.call(M,{data:{prev:k,current:R,next:A},coordinate:{prev:F,current:L,next:I},bounding:s,barSpace:x,xAxis:u,yAxis:l});if(!E(X))switch(M.type){case"circle":X={x:T,y:$,r:Math.max(1,C)};break;case"rect":case"bar":var G=(N=M.baseValue)!==null&&N!==void 0?N:l.getRange().from,Z=l.convertToPixel(G),U=Math.abs(Z-$);G!==R?.[M.key]&&(U=Math.max(1,U)),X={x:T-C,y:$>Z?Z:$,width:Math.max(1,2*C),height:U};break;case"line":E(f[O])||(f[O]=[]),W(L[M.key])&&W(I[M.key])&&f[O].push({coordinates:[{x:L.x,y:L[M.key]},{x:I.x,y:I[M.key]}],styles:B})}var j=M.type;E(X)&&j!=="line"&&((it=i.createFigure({name:j==="bar"?"rect":j,attrs:X,styles:B}))===null||it===void 0||it.draw(t))}})}),f.forEach(function(_){var x,m,b,w;if(_.length>1){for(var C=[{coordinates:[_[0].coordinates[0],_[0].coordinates[1]],styles:_[0].styles}],y=1;y<_.length;y++){var T=C[C.length-1],S=_[y],P=T.coordinates[T.coordinates.length-1];P.x===S.coordinates[0].x&&P.y===S.coordinates[0].y&&T.styles.style===S.styles.style&&T.styles.color===S.styles.color&&T.styles.size===S.styles.size&&T.styles.smooth===S.styles.smooth&&((x=T.styles.dashedValue)===null||x===void 0?void 0:x[0])===((m=S.styles.dashedValue)===null||m===void 0?void 0:m[0])&&((b=T.styles.dashedValue)===null||b===void 0?void 0:b[1])===((w=S.styles.dashedValue)===null||w===void 0?void 0:w[1])?T.coordinates.push(S.coordinates[1]):C.push({coordinates:[S.coordinates[0],S.coordinates[1]],styles:S.styles})}C.forEach(function(k){var R,A=k.coordinates,F=k.styles;(R=i.createFigure({name:"line",attrs:{coordinates:A},styles:F}))===null||R===void 0||R.draw(t)})}})}}}),t.restore()},e}(ii),ur=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane(),o=i.getBounding(),a=i.getPane().getChart().getChartStore(),s=a.getCrosshair(),u=a.getStyles().crosshair;if(H(s.paneId)&&u.show){if(s.paneId===r.getId()){var l=s.y;this._drawLine(t,[{x:0,y:l},{x:o.width,y:l}],u.horizontal)}var c=s.realX;this._drawLine(t,[{x:c,y:0},{x:c,y:o.height}],u.vertical)}},e.prototype._drawLine=function(t,i,r){var o;if(r.show){var a=r.line;a.show&&((o=this.createFigure({name:"line",attrs:{coordinates:i},styles:a}))===null||o===void 0||o.draw(t))}},e}(pt),ri=function(n){function e(t){var i=n.call(this,t)||this;return i._activeFeatureInfo=null,i._featureClickEvent=function(r,o){return function(){return i.getWidget().getPane().getChart().getChartStore().executeAction(r,o),!0}},i._featureMouseMoveEvent=function(r){return function(){return i._activeFeatureInfo=r,!0}},i.registerEvent("mouseMoveEvent",function(r){return i._activeFeatureInfo=null,!1}),i}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane().getChart().getChartStore();if(E(r.getCrosshair().kLineData)){var o=i.getBounding(),a=r.getStyles().indicator.tooltip,s=a.offsetLeft,u=a.offsetTop,l=a.offsetRight;this.drawIndicatorTooltip(t,s,u,o.width-l)}},e.prototype.drawIndicatorTooltip=function(t,i,r,o){var a=this,s=this.getWidget().getPane(),u=s.getChart().getChartStore(),l=u.getStyles().indicator.tooltip;if(this.isDrawTooltip(u.getCrosshair(),l)){var c=u.getIndicatorsByPaneId(s.getId()),h=l.title,p=l.legend;c.forEach(function(d){var g=0,v={x:i,y:r},f=a.getIndicatorTooltipData(d),_=f.name,x=f.calcParamsText,m=f.legends,b=f.features,w=_.length>0,C=m.length>0;if(w||C){var y=a.classifyTooltipFeatures(b);if(g=a.drawStandardTooltipFeatures(t,y[0],v,d,i,g,o),w){var T=_;x.length>0&&(T="".concat(T).concat(x));var S=h.color;g=a.drawStandardTooltipLegends(t,[{title:{text:"",color:S},value:{text:T,color:S}}],v,i,g,o,h)}g=a.drawStandardTooltipFeatures(t,y[1],v,d,i,g,o),C&&(g=a.drawStandardTooltipLegends(t,m,v,i,g,o,p)),g=a.drawStandardTooltipFeatures(t,y[2],v,d,i,g,o),r=v.y+g}})}return r},e.prototype.drawStandardTooltipFeatures=function(t,i,r,o,a,s,u){var l=this;if(i.length>0){var c=0,h=0;i.forEach(function(d){var g=d.marginLeft,v=g===void 0?0:g,f=d.marginTop,_=f===void 0?0:f,x=d.marginRight,m=x===void 0?0:x,b=d.marginBottom,w=b===void 0?0:b,C=d.paddingLeft,y=C===void 0?0:C,T=d.paddingTop,S=T===void 0?0:T,P=d.paddingRight,k=P===void 0?0:P,R=d.paddingBottom,A=R===void 0?0:R,F=d.size,L=F===void 0?0:F,I=d.type,M=d.content,B=0;if(I==="icon_font"){var O=M;t.font=Wt(L,"normal",O.family),B=t.measureText(O.code).width}else B=L;c+=v+y+B+k+m,h=Math.max(h,_+S+L+A+w)}),r.x+c>u?(r.x=a,r.y+=s,s=h):s=Math.max(s,h);var p=this.getWidget().getPane().getId();i.forEach(function(d){var g,v,f,_,x,m=d.marginLeft,b=m===void 0?0:m,w=d.marginTop,C=w===void 0?0:w,y=d.marginRight,T=y===void 0?0:y,S=d.paddingLeft,P=S===void 0?0:S,k=d.paddingTop,R=k===void 0?0:k,A=d.paddingRight,F=A===void 0?0:A,L=d.paddingBottom,I=L===void 0?0:L,M=d.backgroundColor,B=d.activeBackgroundColor,O=d.borderRadius,V=d.size,N=V===void 0?0:V,it=d.color,$=d.activeColor,X=d.type,G=d.content,Z=it,U=M;((g=l._activeFeatureInfo)===null||g===void 0?void 0:g.paneId)===p&&((v=l._activeFeatureInfo.indicator)===null||v===void 0?void 0:v.id)===o?.id&&l._activeFeatureInfo.feature.id===d.id&&(Z=$??it,U=B??M);var j="onCandleTooltipFeatureClick",q={paneId:p,feature:d};E(o)&&(j="onIndicatorTooltipFeatureClick",q.indicator=o);var K={mouseDownEvent:l._featureClickEvent(j,q),mouseMoveEvent:l._featureMouseMoveEvent(q)},J=0;if(X==="icon_font"){var tt=G;(f=l.createFigure({name:"text",attrs:{text:tt.code,x:r.x+b,y:r.y+C},styles:{paddingLeft:P,paddingTop:R,paddingRight:F,paddingBottom:I,borderRadius:O,size:N,family:tt.family,color:Z,backgroundColor:U}},K))===null||f===void 0||f.draw(t),J=t.measureText(tt.code).width}else{(_=l.createFigure({name:"rect",attrs:{x:r.x+b,y:r.y+C,width:N,height:N},styles:{paddingLeft:P,paddingTop:R,paddingRight:F,paddingBottom:I,color:U}},K))===null||_===void 0||_.draw(t);var ct=G;(x=l.createFigure({name:"path",attrs:{path:ct.path,x:r.x+b+P,y:r.y+C+R,width:N,height:N},styles:{style:ct.style,lineWidth:ct.lineWidth,color:Z}}))===null||x===void 0||x.draw(t),J=N}r.x+=b+P+J+F+T})}return s},e.prototype.drawStandardTooltipLegends=function(t,i,r,o,a,s,u){var l=this;if(i.length>0){var c=u.marginLeft,h=u.marginTop,p=u.marginRight,d=u.marginBottom,g=u.size,v=u.family,f=u.weight;t.font=Wt(g,f,v),i.forEach(function(_){var x,m,b=_.title,w=_.value,C=t.measureText(b.text).width,y=C+t.measureText(w.text).width,T=h+g+d;r.x+c+y+p>s?(r.x=o,r.y+=a,a=T):a=Math.max(a,T),b.text.length>0&&((x=l.createFigure({name:"text",attrs:{x:r.x+c,y:r.y+h,text:b.text},styles:{color:b.color,size:g,family:v,weight:f}}))===null||x===void 0||x.draw(t)),(m=l.createFigure({name:"text",attrs:{x:r.x+c+C,y:r.y+h,text:w.text},styles:{color:w.color,size:g,family:v,weight:f}}))===null||m===void 0||m.draw(t),r.x+=c+y+p})}return a},e.prototype.isDrawTooltip=function(t,i){var r=i.showRule;return r==="always"||r==="follow_cross"&&H(t.paneId)},e.prototype.getIndicatorTooltipData=function(t){var i,r=this.getWidget().getPane().getChart().getChartStore(),o=r.getStyles().indicator,a=o.tooltip,s=a.title,u="",l="";if(s.show&&(s.showName&&(u=t.shortName),s.showParams)){var c=t.calcParams;c.length>0&&(l="(".concat(c.join(","),")"))}var h={name:u,calcParamsText:l,legends:[],features:a.features},p=r.getCrosshair().dataIndex,d=t.result,g=r.getInnerFormatter(),v=r.getDecimalFold(),f=r.getThousandsSeparator(),_=[];if(t.visible){var x=(i=d[p])!==null&&i!==void 0?i:{},m=a.legend.defaultValue;me(t,p,o,function(F,L){if(H(F.title)){var I=L.color,M=x[F.key];W(M)&&(M=ot(M,t.precision),t.shouldFormatBigNumber&&(M=g.formatBigNumber(M)),M=v.format(f.format(M))),_.push({title:{text:F.title,color:I},value:{text:M??m,color:I}})}}),h.legends=_}if(st(t.createTooltipDataSource)){var b=this.getWidget(),w=b.getPane(),C=w.getChart(),y=t.createTooltipDataSource({chart:C,indicator:t,crosshair:r.getCrosshair(),bounding:b.getBounding(),xAxis:w.getChart().getXAxisPane().getAxisComponent(),yAxis:w.getAxisComponent()}),T=y.name,S=y.calcParamsText,P=y.legends,k=y.features;if(s.show&&(H(T)&&s.showName&&(h.name=T),H(S)&&s.showParams&&(h.calcParamsText=S)),E(k)&&(h.features=k),E(P)&&t.visible){var R=[],A=o.tooltip.legend.color;P.forEach(function(F){var L={text:"",color:A};ft(F.title)?L=F.title:L.text=F.title;var I={text:"",color:A};ft(F.value)?I=F.value:I.text=F.value,W(Number(I.text))&&(I.text=v.format(f.format(I.text))),R.push({title:L,value:I})}),h.legends=R}}return h},e.prototype.classifyTooltipFeatures=function(t){var i=[],r=[],o=[];return t.forEach(function(a){switch(a.position){case"left":i.push(a);break;case"middle":r.push(a);break;case"right":o.push(a)}}),[i,r,o]},e}(pt),ni=function(n){function e(t){var i=n.call(this,t)||this;return i._initEvent(),i}return Y(e,n),e.prototype._initEvent=function(){var t=this,i=this.getWidget(),r=i.getPane(),o=r.getId(),a=r.getChart(),s=a.getChartStore();this.registerEvent("mouseMoveEvent",function(u){var l,c=s.getProgressOverlayInfo();if(c!==null){var h=c.overlay,p=c.paneId;h.isStart()&&(s.updateProgressOverlayInfo(o),p=o);var d=h.points.length-1;return h.isDrawing()&&p===o&&(h.eventMoveForDrawing(t._coordinateToPoint(h,u)),(l=h.onDrawing)===null||l===void 0||l.call(h,D({chart:a,overlay:h},u))),t._figureMouseMoveEvent(h,"point",d,{key:"".concat(Yt,"point_").concat(d),type:"circle",attrs:{}})(u)}return s.setHoverOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(g,v){return t._processOverlayMouseEnterEvent(g,v,u)},function(g,v){return t._processOverlayMouseLeaveEvent(g,v,u)}),i.setForceCursor(null),!1}).registerEvent("mouseClickEvent",function(u){var l,c,h=s.getProgressOverlayInfo();if(h!==null){var p=h.overlay,d=h.paneId;p.isStart()&&(s.updateProgressOverlayInfo(o,!0),d=o);var g=p.points.length-1;return p.isDrawing()&&d===o&&(p.eventMoveForDrawing(t._coordinateToPoint(p,u)),(l=p.onDrawing)===null||l===void 0||l.call(p,D({chart:a,overlay:p},u)),p.nextStep(),p.isDrawing()||(s.progressOverlayComplete(),(c=p.onDrawEnd)===null||c===void 0||c.call(p,D({chart:a,overlay:p},u)))),t._figureMouseClickEvent(p,"point",g,{key:"".concat(Yt,"point_").concat(g),type:"circle",attrs:{}})(u)}return s.setClickOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null},function(v,f){return t._processOverlaySelectedEvent(v,f,u)},function(v,f){return t._processOverlayDeselectedEvent(v,f,u)}),!1}).registerEvent("mouseDoubleClickEvent",function(u){var l,c=s.getProgressOverlayInfo();if(c!==null){var h=c.overlay,p=c.paneId;h.isDrawing()&&p===o&&(h.forceComplete(),h.isDrawing()||(s.progressOverlayComplete(),(l=h.onDrawEnd)===null||l===void 0||l.call(h,D({chart:a,overlay:h},u))));var d=h.points.length-1;return t._figureMouseClickEvent(h,"point",d,{key:"".concat(Yt,"point_").concat(d),type:"circle",attrs:{}})(u)}return!1}).registerEvent("mouseRightClickEvent",function(u){var l=s.getProgressOverlayInfo();if(l!==null){var c=l.overlay;if(c.isDrawing()){var h=c.points.length-1;return t._figureMouseRightClickEvent(c,"point",h,{key:"".concat(Yt,"point_").concat(h),type:"circle",attrs:{}})(u)}}return!1}).registerEvent("mouseUpEvent",function(u){var l,c=s.getPressedOverlayInfo(),h=c.overlay,p=c.figure;return h!==null&&_t("onPressedMoveEnd",p)&&((l=h.onPressedMoveEnd)===null||l===void 0||l.call(h,D({chart:a,overlay:h,figure:p??void 0},u))),s.setPressedOverlayInfo({paneId:o,overlay:null,figureType:"none",figureIndex:-1,figure:null}),!1}).registerEvent("pressedMouseMoveEvent",function(u){var l,c=s.getPressedOverlayInfo(),h=c.overlay,p=c.figureType,d=c.figureIndex,g=c.figure;if(h!==null&&_t("onPressedMoving",g)){if(!h.lock){var v=t._coordinateToPoint(h,u);p==="point"?h.eventPressedPointMove(v,d):h.eventPressedOtherMove(v,t.getWidget().getPane().getChart().getChartStore());var f=!1;(l=h.onPressedMoving)===null||l===void 0||l.call(h,D(D({chart:a,overlay:h,figure:g??void 0},u),{preventDefault:function(){f=!0}})),f?t.getWidget().setForceCursor(null):t.getWidget().setForceCursor("pointer")}return!0}return t.getWidget().setForceCursor(null),!1})},e.prototype._createFigureEvents=function(t,i,r,o){return t.isDrawing()?null:{mouseMoveEvent:this._figureMouseMoveEvent(t,i,r,o),mouseDownEvent:this._figureMouseDownEvent(t,i,r,o),mouseClickEvent:this._figureMouseClickEvent(t,i,r,o),mouseRightClickEvent:this._figureMouseRightClickEvent(t,i,r,o),mouseDoubleClickEvent:this._figureMouseDoubleClickEvent(t,i,r,o)}},e.prototype._processOverlayMouseEnterEvent=function(t,i,r){return!(!st(t.onMouseEnter)||!_t("onMouseEnter",i))&&(t.onMouseEnter(D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlayMouseLeaveEvent=function(t,i,r){return!(!st(t.onMouseLeave)||!_t("onMouseLeave",i))&&(t.onMouseLeave(D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlaySelectedEvent=function(t,i,r){var o;return!!_t("onSelected",i)&&((o=t.onSelected)===null||o===void 0||o.call(t,D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._processOverlayDeselectedEvent=function(t,i,r){var o;return!!_t("onDeselected",i)&&((o=t.onDeselected)===null||o===void 0||o.call(t,D({chart:this.getWidget().getPane().getChart(),overlay:t,figure:i??void 0},r)),!0)},e.prototype._figureMouseMoveEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=!t.isDrawing()&&_t("onMouseMove",o);if(c){var h=!1;(u=t.onMouseMove)===null||u===void 0||u.call(t,D(D({chart:l.getChart(),overlay:t,figure:o},s),{preventDefault:function(){h=!0}})),h?a.getWidget().setForceCursor(null):a.getWidget().setForceCursor("pointer")}return l.getChart().getChartStore().setHoverOverlayInfo({paneId:l.getId(),overlay:t,figureType:i,figure:o,figureIndex:r},function(p,d){return a._processOverlayMouseEnterEvent(p,d,s)},function(p,d){return a._processOverlayMouseLeaveEvent(p,d,s)}),c}},e.prototype._figureMouseDownEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=l.getId();return t.startPressedMove(a._coordinateToPoint(t,s)),!!_t("onPressedMoveStart",o)&&((u=t.onPressedMoveStart)===null||u===void 0||u.call(t,D({chart:l.getChart(),overlay:t,figure:o},s)),l.getChart().getChartStore().setPressedOverlayInfo({paneId:c,overlay:t,figureType:i,figureIndex:r,figure:o}),!t.isDrawing())}},e.prototype._figureMouseClickEvent=function(t,i,r,o){var a=this;return function(s){var u,l=a.getWidget().getPane(),c=l.getId(),h=!t.isDrawing()&&_t("onClick",o);return h&&((u=t.onClick)===null||u===void 0||u.call(t,D({chart:a.getWidget().getPane().getChart(),overlay:t,figure:o},s))),l.getChart().getChartStore().setClickOverlayInfo({paneId:c,overlay:t,figureType:i,figureIndex:r,figure:o},function(p,d){return a._processOverlaySelectedEvent(p,d,s)},function(p,d){return a._processOverlayDeselectedEvent(p,d,s)}),h}},e.prototype._figureMouseDoubleClickEvent=function(t,i,r,o){var a=this;return function(s){var u;return!!_t("onDoubleClick",o)&&((u=t.onDoubleClick)===null||u===void 0||u.call(t,D(D({},s),{chart:a.getWidget().getPane().getChart(),figure:o,overlay:t})),!t.isDrawing())}},e.prototype._figureMouseRightClickEvent=function(t,i,r,o){var a=this;return function(s){var u;if(_t("onRightClick",o)){var l=!1;return(u=t.onRightClick)===null||u===void 0||u.call(t,D(D({chart:a.getWidget().getPane().getChart(),overlay:t,figure:o},s),{preventDefault:function(){l=!0}})),l||a.getWidget().getPane().getChart().getChartStore().removeOverlay(t),!t.isDrawing()}return!1}},e.prototype._coordinateToPoint=function(t,i){var r,o={},a=this.getWidget().getPane(),s=a.getChart(),u=a.getId(),l=s.getChartStore();if(this.coordinateToPointTimestampDataIndexFlag()){var c=s.getXAxisPane().getAxisComponent().convertFromPixel(i.x),h=(r=l.dataIndexToTimestamp(c))!==null&&r!==void 0?r:void 0;o.timestamp=h,o.dataIndex=c}if(this.coordinateToPointValueFlag()){var p=a.getAxisComponent(),d=p.convertFromPixel(i.y);if(t.mode!=="normal"&&u===at&&W(o.dataIndex)){var g=l.getDataByDataIndex(o.dataIndex);if(g!==null){var v=t.modeSensitivity;if(d>g.high)if(t.mode==="weak_magnet"){var f=p.convertToPixel(g.high);d<p.convertFromPixel(f-v)&&(d=g.high)}else d=g.high;else if(d<g.low)if(t.mode==="weak_magnet"){var _=p.convertToPixel(g.low);d>p.convertFromPixel(_-v)&&(d=g.low)}else d=g.low;else{var x=Math.max(g.open,g.close),m=Math.min(g.open,g.close);d=d>x?d-x<g.high-d?x:g.high:d<m?d-g.low<m-d?g.low:m:x-d<d-m?x:m}}}o.value=d}return o},e.prototype.coordinateToPointValueFlag=function(){return!0},e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.dispatchEvent=function(t,i){return this.getWidget().getPane().getChart().getChartStore().isOverlayDrawing()?this.onEvent(t,i):n.prototype.dispatchEvent.call(this,t,i)},e.prototype.drawImp=function(t){var i=this;this.getCompleteOverlays().forEach(function(o){o.visible&&i._drawOverlay(t,o)});var r=this.getProgressOverlay();E(r)&&r.visible&&this._drawOverlay(t,r)},e.prototype._drawOverlay=function(t,i){var r=i.points,o=this.getWidget().getPane(),a=o.getChart(),s=a.getChartStore(),u=o.getAxisComponent(),l=a.getXAxisPane().getAxisComponent(),c=r.map(function(p){var d,g=null;W(p.timestamp)&&(g=s.timestampToDataIndex(p.timestamp));var v={x:0,y:0};return W(g)&&(v.x=l.convertToPixel(g)),W(p.value)&&(v.y=(d=u?.convertToPixel(p.value))!==null&&d!==void 0?d:0),v});if(c.length>0){var h=[].concat(this.getFigures(i,c));this.drawFigures(t,i,h)}this.drawDefaultFigures(t,i,c)},e.prototype.drawFigures=function(t,i,r){var o=this,a=this.getWidget().getPane().getChart().getStyles().overlay;r.forEach(function(s,u){var l=s.type,c=s.styles,h=s.attrs;[].concat(h).forEach(function(p){var d,g,v=o._createFigureEvents(i,"other",u,s),f=D(D(D({},a[l]),(d=i.styles)===null||d===void 0?void 0:d[l]),c);(g=o.createFigure({name:l,attrs:p,styles:f},v??void 0))===null||g===void 0||g.draw(t)})})},e.prototype.getCompleteOverlays=function(){var t=this.getWidget().getPane();return t.getChart().getChartStore().getOverlaysByPaneId(t.getId())},e.prototype.getProgressOverlay=function(){var t=this.getWidget().getPane(),i=t.getChart().getChartStore().getProgressOverlayInfo();return E(i)&&i.paneId===t.getId()?i.overlay:null},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createPointFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e.prototype.drawDefaultFigures=function(t,i,r){var o,a,s=this;if(i.needDefaultPointFigure){var u=this.getWidget().getPane().getChart().getChartStore(),l=u.getHoverOverlayInfo(),c=u.getClickOverlayInfo();if(((o=l.overlay)===null||o===void 0?void 0:o.id)===i.id&&l.figureType!=="none"||((a=c.overlay)===null||a===void 0?void 0:a.id)===i.id&&c.figureType!=="none"){var h=u.getStyles().overlay,p=i.styles,d=D(D({},h.point),p?.point);r.forEach(function(g,v){var f,_,x,m,b,w=g.x,C=g.y,y=d.radius,T=d.color,S=d.borderColor,P=d.borderSize;((f=l.overlay)===null||f===void 0?void 0:f.id)===i.id&&l.figureType==="point"&&((_=l.figure)===null||_===void 0?void 0:_.key)==="".concat(Yt,"point_").concat(v)&&(y=d.activeRadius,T=d.activeColor,S=d.activeBorderColor,P=d.activeBorderSize),(m=s.createFigure({name:"circle",attrs:{x:w,y:C,r:y+P},styles:{color:S}},(x=s._createFigureEvents(i,"point",v,{key:"".concat(Yt,"point_").concat(v),type:"circle",attrs:{x:w,y:C,r:y+P},styles:{color:S}}))!==null&&x!==void 0?x:void 0))===null||m===void 0||m.draw(t),(b=s.createFigure({name:"circle",attrs:{x:w,y:C,r:y},styles:{color:T}}))===null||b===void 0||b.draw(t)})}}},e}(pt),oi=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._gridView=new sr(r),r._indicatorView=new lr(r),r._crosshairLineView=new ur(r),r._tooltipView=r.createTooltipView(),r._overlayView=new ni(r),r.addChild(r._tooltipView),r.addChild(r._overlayView),r}return Y(e,n),e.prototype.getName=function(){return ut},e.prototype.updateMain=function(t){this.getPane().getOptions().state!=="minimize"&&(this.updateMainContent(t),this._indicatorView.draw(t),this._gridView.draw(t))},e.prototype.createTooltipView=function(){return new ri(this)},e.prototype.updateMainContent=function(t){},e.prototype.updateOverlayContent=function(t){},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayView.draw(t),this._crosshairLineView.draw(t),this.updateOverlayContent(t)),this._tooltipView.draw(t)},e}(xe),cr=function(n){function e(){var t=n.apply(this,Kt([],Gt(arguments),!1))||this;return t._ripplePoint=t.createFigure({name:"circle",attrs:{x:0,y:0,r:0},styles:{style:"fill"}}),t._animationFrameTime=0,t._animation=new pe({iterationCount:1/0}).doFrame(function(i){t._animationFrameTime=i;var r=t.getWidget().getPane();r.getChart().updatePane(0,r.getId())}),t}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=u.getDataList().length-1,c=a.getBounding(),h=s.getAxisComponent(),p=u.getStyles().candle.area,d=[],g=Number.MAX_SAFE_INTEGER,v=Number.MIN_SAFE_INTEGER,f=null;if(this.eachChildren(function(C){var y=C.x,T=C.data.current,S=T?.[p.value];if(W(S)){var P=h.convertToPixel(S);v===Number.MIN_SAFE_INTEGER&&(v=y),d.push({x:y,y:P}),g=Math.min(g,P),C.dataIndex===l&&(f={x:y,y:P})}}),d.length>0){(i=this.createFigure({name:"line",attrs:{coordinates:d},styles:{color:p.lineColor,size:p.lineSize,smooth:p.smooth}}))===null||i===void 0||i.draw(t);var _=p.backgroundColor,x="";if(bt(_)){var m=t.createLinearGradient(0,c.height,0,g);try{_.forEach(function(C){var y=C.offset,T=C.color;m.addColorStop(y,T)})}catch{}x=m}else x=_;t.fillStyle=x,t.beginPath(),t.moveTo(v,c.height),t.lineTo(d[0].x,d[0].y),Ye(t,d,p.smooth),t.lineTo(d[d.length-1].x,c.height),t.closePath(),t.fill()}var b=p.point;if(b.show&&E(f)){(r=this.createFigure({name:"circle",attrs:{x:f.x,y:f.y,r:b.radius},styles:{style:"fill",color:b.color}}))===null||r===void 0||r.draw(t);var w=b.rippleRadius;b.animation&&(w=b.radius+this._animationFrameTime/b.animationDuration*(b.rippleRadius-b.radius),this._animation.setDuration(b.animationDuration).start()),(o=this._ripplePoint)===null||o===void 0||o.setAttrs({x:f.x,y:f.y,r:w}).setStyles({style:"fill",color:b.rippleColor}).draw(t)}else this.stopAnimation()},e.prototype.stopAnimation=function(){this._animation.stop()},e}(ei),hr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this.getWidget().getPane(),a=o.getChart().getChartStore(),s=a.getStyles().candle.priceMark,u=s.high,l=s.low;if(s.show&&(u.show||l.show)){var c=a.getVisibleRangeHighLowPrice(),h=(r=(i=a.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:lt,p=o.getAxisComponent(),d=c[0],g=d.price,v=d.x,f=c[1],_=f.price,x=f.x,m=p.convertToPixel(g),b=p.convertToPixel(_),w=a.getDecimalFold(),C=a.getThousandsSeparator();u.show&&g!==Number.MIN_SAFE_INTEGER&&this._drawMark(t,w.format(C.format(ot(g,h))),{x:v,y:m},m<b?[-2,-5]:[2,5],u),l.show&&_!==Number.MAX_SAFE_INTEGER&&this._drawMark(t,w.format(C.format(ot(_,h))),{x,y:b},m<b?[2,5]:[-2,-5],l)}},e.prototype._drawMark=function(t,i,r,o,a){var s,u,l,c=r.x,h=r.y+o[0];(s=this.createFigure({name:"line",attrs:{coordinates:[{x:c-2,y:h+o[0]},{x:c,y:h},{x:c+2,y:h+o[0]}]},styles:{color:a.color}}))===null||s===void 0||s.draw(t);var p=0,d=0,g="left";c>this.getWidget().getBounding().width/2?(d=(p=c-5)-a.textOffset,g="right"):(g="left",d=(p=c+5)+a.textOffset);var v=h+o[1];(u=this.createFigure({name:"line",attrs:{coordinates:[{x:c,y:h},{x:c,y:v},{x:p,y:v}]},styles:{color:a.color}}))===null||u===void 0||u.draw(t),(l=this.createFigure({name:"text",attrs:{x:d,y:v,text:i,align:g,baseline:"middle"},styles:{color:a.color,size:a.textSize,family:a.textFamily,weight:a.textWeight}}))===null||l===void 0||l.draw(t)},e}(pt),dr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a=this.getWidget(),s=a.getPane(),u=a.getBounding(),l=s.getChart().getChartStore(),c=l.getStyles().candle.priceMark,h=c.last,p=h.line;if(c.show&&h.show&&p.show){var d=s.getAxisComponent(),g=l.getDataList(),v=g[g.length-1];if(E(v)){var f=v.close,_=v.open,x=h.compareRule==="current_open"?_:(r=(i=g[g.length-2])===null||i===void 0?void 0:i.close)!==null&&r!==void 0?r:f,m=d.convertToNicePixel(f),b="";b=f>x?h.upColor:f<x?h.downColor:h.noChangeColor,(o=this.createFigure({name:"line",attrs:{coordinates:[{x:0,y:m},{x:u.width,y:m}]},styles:{style:p.style,color:b,size:p.size,dashedValue:p.dashedValue}}))===null||o===void 0||o.draw(t)}}},e}(pt),pr={second:"HH:mm:ss",minute:"HH:mm",hour:"MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},ai={second:"HH:mm:ss",minute:"YYYY-MM-DD HH:mm",hour:"YYYY-MM-DD HH:mm",day:"YYYY-MM-DD",week:"YYYY-MM-DD",month:"YYYY-MM",year:"YYYY"},oe={"zh-CN":{time:"\u65F6\u95F4\uFF1A",open:"\u5F00\uFF1A",high:"\u9AD8\uFF1A",low:"\u4F4E\uFF1A",close:"\u6536\uFF1A",volume:"\u6210\u4EA4\u91CF\uFF1A",turnover:"\u6210\u4EA4\u989D\uFF1A",change:"\u6DA8\u5E45\uFF1A",second:"\u79D2",minute:"",hour:"\u5C0F\u65F6",day:"\u5929",week:"\u5468",month:"\u6708",year:"\u5E74"},"en-US":{time:"Time: ",open:"Open: ",high:"High: ",low:"Low: ",close:"Close: ",volume:"Volume: ",turnover:"Turnover: ",change:"Change: ",second:"S",minute:"",hour:"H",day:"D",week:"W",month:"M",year:"Y"}};function si(n,e){var t;return(t=oe[e][n])!==null&&t!==void 0?t:n}var gr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i=this.getWidget(),r=i.getPane().getChart().getChartStore(),o=r.getCrosshair();if(E(o.kLineData)){var a=i.getBounding(),s=r.getStyles(),u=s.candle,l=s.indicator;if(u.tooltip.showType==="rect"&&l.tooltip.showType==="rect"){var c=this.isDrawTooltip(o,u.tooltip),h=this.isDrawTooltip(o,l.tooltip);this._drawRectTooltip(t,c,h,u.tooltip.offsetTop)}else if(u.tooltip.showType==="standard"&&l.tooltip.showType==="standard"){var p=u.tooltip,d=p.offsetLeft,g=p.offsetTop,v=p.offsetRight,f=a.width-v,_=this._drawCandleStandardTooltip(t,d,g,f);this.drawIndicatorTooltip(t,d,_,f)}else if(u.tooltip.showType==="rect"&&l.tooltip.showType==="standard"){var x=u.tooltip,m=(d=x.offsetLeft,g=x.offsetTop,v=x.offsetRight,f=a.width-v,this.drawIndicatorTooltip(t,d,g,f));c=this.isDrawTooltip(o,u.tooltip),this._drawRectTooltip(t,c,!1,m)}else{var b=u.tooltip,w=(d=b.offsetLeft,g=b.offsetTop,v=b.offsetRight,f=a.width-v,this._drawCandleStandardTooltip(t,d,g,f));h=this.isDrawTooltip(o,l.tooltip),this._drawRectTooltip(t,!1,h,w)}}},e.prototype._drawCandleStandardTooltip=function(t,i,r,o){var a,s=this.getWidget().getPane().getChart().getChartStore(),u=s.getStyles().candle.tooltip,l=u.legend,c=0,h={x:i,y:r},p=s.getCrosshair();if(this.isDrawTooltip(p,u)){var d=u.title;if(d.show){var g=(a=s.getPeriod())!==null&&a!==void 0?a:{},v=g.type,f=v===void 0?"":v,_=g.span,x=_===void 0?"":_,m=De(d.template,D(D({},s.getSymbol()),{period:"".concat(x).concat(si(f,s.getLocale()))})),b=d.color,w=this.drawStandardTooltipLegends(t,[{title:{text:"",color:b},value:{text:m,color:b}}],{x:i,y:r},i,0,o,d);h.y=h.y+w}var C=this._getCandleTooltipLegends(),y=this.classifyTooltipFeatures(u.features);c=this.drawStandardTooltipFeatures(t,y[0],h,null,i,c,o),c=this.drawStandardTooltipFeatures(t,y[1],h,null,i,c,o),C.length>0&&(c=this.drawStandardTooltipLegends(t,C,h,i,c,o,l)),c=this.drawStandardTooltipFeatures(t,y[2],h,null,i,c,o)}return h.y+c},e.prototype._drawRectTooltip=function(t,i,r,o){var a,s,u=this,l=this.getWidget(),c=l.getPane(),h=c.getChart().getChartStore(),p=h.getStyles(),d=p.candle,g=p.indicator,v=d.tooltip,f=g.tooltip;if(i||r){var _=this._getCandleTooltipLegends(),x=v.offsetLeft,m=v.offsetTop,b=v.offsetRight,w=v.offsetBottom,C=v.legend,y=C.marginLeft,T=C.marginRight,S=C.marginTop,P=C.marginBottom,k=C.size,R=C.weight,A=C.family,F=v.rect,L=F.position,I=F.paddingLeft,M=F.paddingRight,B=F.paddingTop,O=F.paddingBottom,V=F.offsetLeft,N=F.offsetRight,it=F.offsetTop,$=F.offsetBottom,X=F.borderSize,G=F.borderRadius,Z=F.borderColor,U=F.color,j=0,q=0,K=0;i&&(t.font=Wt(k,R,A),_.forEach(function(kt){var xt=kt.title,vt=kt.value,Tt="".concat(xt.text).concat(vt.text),At=t.measureText(Tt).width+y+T;j=Math.max(j,At)}),K+=(P+S+k)*_.length);var J=f.legend,tt=J.marginLeft,ct=J.marginRight,dt=J.marginTop,It=J.marginBottom,ht=J.size,gt=J.weight,Rt=J.family,Dt=[];if(r){var Lt=h.getIndicatorsByPaneId(c.getId());t.font=Wt(ht,gt,Rt),Lt.forEach(function(kt){var xt=u.getIndicatorTooltipData(kt).legends;Dt.push(xt),xt.forEach(function(vt){var Tt=vt.title,At=vt.value,ue="".concat(Tt.text).concat(At.text),Xr=t.measureText(ue).width+tt+ct;j=Math.max(j,Xr),K+=dt+It+ht})})}if((q+=j)!==0&&K!==0){var Ct=h.getCrosshair(),se=l.getBounding(),bi=c.getYAxisWidget().getBounding();q+=2*X+I+M,K+=2*X+B+O;var Nr=se.width/2,wi=L==="pointer"&&Ct.paneId===at,Ci=((a=Ct.realX)!==null&&a!==void 0?a:0)>Nr,Et=0;if(wi){var Ei=Ct.realX;Et=Ci?Ei-N-q:Ei+V}else{var le=this.getWidget().getPane().getAxisComponent();Ci?(Et=V+x,le.inside&&le.position==="left"&&(Et+=bi.width)):(Et=se.width-N-q-b,le.inside&&le.position==="right"&&(Et-=bi.width))}var Ht=o+it;wi&&((Ht=Ct.y-K/2)+K>se.height-$-w&&(Ht=se.height-$-K-w),Ht<o+it&&(Ht=o+it+m)),(s=this.createFigure({name:"rect",attrs:{x:Et,y:Ht,width:q,height:K},styles:{style:"stroke_fill",color:U,borderColor:Z,borderSize:X,borderRadius:G}}))===null||s===void 0||s.draw(t);var Yr=Et+X+I+y,Ot=Ht+X+B;if(i&&_.forEach(function(kt){var xt,vt;Ot+=S;var Tt=kt.title;(xt=u.createFigure({name:"text",attrs:{x:Yr,y:Ot,text:Tt.text},styles:{color:Tt.color,size:k,family:A,weight:R}}))===null||xt===void 0||xt.draw(t);var At=kt.value;(vt=u.createFigure({name:"text",attrs:{x:Et+q-X-T-M,y:Ot,text:At.text,align:"right"},styles:{color:At.color,size:k,family:A,weight:R}}))===null||vt===void 0||vt.draw(t),Ot+=k+P}),r){var Hr=Et+X+I+tt;Dt.forEach(function(kt){kt.forEach(function(xt){var vt,Tt;Ot+=dt;var At=xt.title,ue=xt.value;(vt=u.createFigure({name:"text",attrs:{x:Hr,y:Ot,text:At.text},styles:{color:At.color,size:ht,family:Rt,weight:gt}}))===null||vt===void 0||vt.draw(t),(Tt=u.createFigure({name:"text",attrs:{x:Et+q-X-ct-M,y:Ot,text:ue.text,align:"right"},styles:{color:ue.color,size:ht,family:Rt,weight:gt}}))===null||Tt===void 0||Tt.draw(t),Ot+=ht+It})})}}}},e.prototype._getCandleTooltipLegends=function(){var t,i,r,o,a,s,u,l,c=this.getWidget().getPane().getChart().getChartStore(),h=c.getStyles().candle,p=c.getDataList(),d=c.getInnerFormatter(),g=c.getDecimalFold(),v=c.getThousandsSeparator(),f=c.getLocale(),_=(t=c.getSymbol())!==null&&t!==void 0?t:{},x=_.pricePrecision,m=x===void 0?lt:x,b=_.volumePrecision,w=b===void 0?fe:b,C=c.getPeriod(),y=(i=c.getCrosshair().dataIndex)!==null&&i!==void 0?i:0,T=h.tooltip.legend,S=T.color,P=T.defaultValue,k=T.template,R=(r=p[y-1])!==null&&r!==void 0?r:null,A=p[y],F=(o=R?.close)!==null&&o!==void 0?o:A.close,L=A.close-F,I=D(D({},A),{time:d.formatDate(A.timestamp,ai[(a=C?.type)!==null&&a!==void 0?a:"day"],"tooltip"),open:g.format(v.format(ot(A.open,m))),high:g.format(v.format(ot(A.high,m))),low:g.format(v.format(ot(A.low,m))),close:g.format(v.format(ot(A.close,m))),volume:g.format(v.format(d.formatBigNumber(ot((s=A.volume)!==null&&s!==void 0?s:P,w)))),turnover:g.format(v.format(ot((u=A.turnover)!==null&&u!==void 0?u:P,m))),change:F===0?P:"".concat(v.format(ot(L/F*100)),"%")});return(st(k)?k({prev:R,current:A,next:(l=p[y+1])!==null&&l!==void 0?l:null},h):k).map(function(M){var B=M.title,O=M.value,V={text:"",color:S};ft(B)?V=D({},B):V.text=B,V.text=si(V.text,f);var N={text:P,color:S};return ft(O)?N=D({},O):N.text=O,E(/{change}/.exec(N.text))&&(N.color=L===0?h.priceMark.last.noChangeColor:L>0?h.priceMark.last.upColor:h.priceMark.last.downColor),N.text=De(N.text,I),{title:V,value:N}})},e}(ri),vr=function(n){function e(t){var i=n.call(this,t)||this;return i._activeFeatureInfo=null,i._featureClickEvent=function(r){return function(){return i.getWidget().getPane().getChart().getChartStore().executeAction("onCrosshairFeatureClick",r),!0}},i._featureMouseMoveEvent=function(r){return function(){return i._activeFeatureInfo=r,i.getWidget().setForceCursor("pointer"),!0}},i.registerEvent("mouseMoveEvent",function(r){return i._activeFeatureInfo=null,i.getWidget().setForceCursor(null),!1}),i}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o=this,a=this.getWidget(),s=a.getPane(),u=a.getPane().getChart().getChartStore(),l=u.getCrosshair(),c=this.getWidget(),h=c.getPane().getAxisComponent();if(H(l.paneId)&&l.paneId===s.getId()&&h.isInCandle()){var p=u.getStyles().crosshair,d=p.horizontal.features;if(p.show&&p.horizontal.show&&d.length>0){var g=h.position==="right",v=c.getBounding(),f=0,_=p.horizontal.text;if(h.inside&&_.show){var x=h.convertFromPixel(l.y),m=h.getRange(),b=h.displayValueToText(h.realValueToDisplayValue(h.valueToRealValue(x,{range:m}),{range:m}),(r=(i=u.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:lt);b=u.getDecimalFold().format(u.getThousandsSeparator().format(b)),f=_.paddingLeft+mt(b,_.size,_.weight,_.family)+_.paddingRight}var w=f;g&&(w=v.width-f);var C=l.y;d.forEach(function(y){var T,S,P,k,R=y.marginLeft,A=R===void 0?0:R,F=y.marginTop,L=F===void 0?0:F,I=y.marginRight,M=I===void 0?0:I,B=y.paddingLeft,O=B===void 0?0:B,V=y.paddingTop,N=V===void 0?0:V,it=y.paddingRight,$=it===void 0?0:it,X=y.paddingBottom,G=X===void 0?0:X,Z=y.color,U=y.activeColor,j=y.backgroundColor,q=y.activeBackgroundColor,K=y.borderRadius,J=y.size,tt=J===void 0?0:J,ct=y.type,dt=y.content,It=tt;ct==="icon_font"&&(It=O+mt((Dt=dt).code,tt,"normal",Dt.family)+$),g?w-=It+M:w+=A;var ht=Z,gt=j;((T=o._activeFeatureInfo)===null||T===void 0?void 0:T.feature.id)===y.id&&(ht=U??Z,gt=q??j);var Rt={mouseDownEvent:o._featureClickEvent({crosshair:l,feature:y}),mouseMoveEvent:o._featureMouseMoveEvent({crosshair:l,feature:y})};if(ct==="icon_font"){var Dt=dt;(S=o.createFigure({name:"text",attrs:{text:Dt.code,x:w,y:C+L,baseline:"middle"},styles:{paddingLeft:O,paddingTop:N,paddingRight:$,paddingBottom:G,borderRadius:K,size:tt,family:Dt.family,color:ht,backgroundColor:gt}},Rt))===null||S===void 0||S.draw(t)}else{(P=o.createFigure({name:"rect",attrs:{x:w,y:C+L-tt/2,width:tt,height:tt},styles:{paddingLeft:O,paddingTop:N,paddingRight:$,paddingBottom:G,color:gt}},Rt))===null||P===void 0||P.draw(t);var Lt=dt;(k=o.createFigure({name:"path",attrs:{path:Lt.path,x:w,y:C+L+N-tt/2,width:tt,height:tt},styles:{style:Lt.style,lineWidth:Lt.lineWidth,color:ht}}))===null||k===void 0||k.draw(t)}g?w-=A:w+=It+M})}}},e}(pt),fr=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._candleBarView=new ii(r),r._candleAreaView=new cr(r),r._candleHighLowPriceView=new hr(r),r._candleLastPriceLineView=new dr(r),r._crosshairFeatureView=new vr(r),r.addChild(r._candleBarView),r.addChild(r._crosshairFeatureView),r}return Y(e,n),e.prototype.updateMainContent=function(t){this.getPane().getChart().getStyles().candle.type!=="area"?(this._candleBarView.draw(t),this._candleHighLowPriceView.draw(t),this._candleAreaView.stopAnimation()):this._candleAreaView.draw(t),this._candleLastPriceLineView.draw(t)},e.prototype.updateOverlayContent=function(t){this._crosshairFeatureView.draw(t)},e.prototype.createTooltipView=function(){return new gr(this)},e}(oi),li=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t,i){var r,o,a=this,s=this.getWidget(),u=s.getPane(),l=s.getBounding(),c=u.getAxisComponent(),h=this.getAxisStyles(u.getChart().getStyles());if(h.show&&(h.axisLine.show&&((r=this.createFigure({name:"line",attrs:this.createAxisLine(l,h),styles:h.axisLine}))===null||r===void 0||r.draw(t)),!i[0])){var p=c.getTicks();if(h.tickLine.show&&this.createTickLines(p,l,h).forEach(function(g){var v;(v=a.createFigure({name:"line",attrs:g,styles:h.tickLine}))===null||v===void 0||v.draw(t)}),h.tickText.show){var d=this.createTickTexts(p,l,h);(o=this.createFigure({name:"text",attrs:d,styles:h.tickText}))===null||o===void 0||o.draw(t)}}},e}(pt),mr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getAxisStyles=function(t){return t.yAxis},e.prototype.createAxisLine=function(t,i){var r=this.getWidget().getPane().getAxisComponent(),o=i.axisLine.size,a=0;return{coordinates:[{x:a=r.isFromZero()?0:t.width-o,y:0},{x:a,y:t.height}]}},e.prototype.createTickLines=function(t,i,r){var o=this.getWidget().getPane().getAxisComponent(),a=r.axisLine,s=r.tickLine,u=0,l=0;return o.isFromZero()?(u=0,a.show&&(u+=a.size),l=u+s.length):(u=i.width,a.show&&(u-=a.size),l=u-s.length),t.map(function(c){return{coordinates:[{x:u,y:c.coord},{x:l,y:c.coord}]}})},e.prototype.createTickTexts=function(t,i,r){var o=this.getWidget().getPane().getAxisComponent(),a=r.axisLine,s=r.tickLine,u=r.tickText,l=0;o.isFromZero()?(l=u.marginStart,a.show&&(l+=a.size),s.show&&(l+=s.length)):(l=i.width-u.marginEnd,a.show&&(l-=a.size),s.show&&(l-=s.length));var c=this.getWidget().getPane().getAxisComponent().isFromZero()?"left":"right";return t.map(function(h){return{x:l,y:h.coord,text:h.text,align:c,baseline:"middle"}})},e}(li),yr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r,o,a,s=this,u=this.getWidget(),l=u.getPane(),c=u.getBounding(),h=l.getChart().getChartStore(),p=h.getStyles().candle.priceMark,d=p.last,g=d.text;if(p.show&&d.show&&g.show){var v=(r=(i=h.getSymbol())===null||i===void 0?void 0:i.pricePrecision)!==null&&r!==void 0?r:lt,f=l.getAxisComponent(),_=h.getDataList(),x=_[_.length-1];if(E(x)){var m=x.close,b=x.open,w=d.compareRule==="current_open"?b:(a=(o=_[_.length-2])===null||o===void 0?void 0:o.close)!==null&&a!==void 0?a:m,C=f.convertToNicePixel(m),y="";y=m>w?d.upColor:m<w?d.downColor:d.noChangeColor;var T=0,S="left";f.isFromZero()?(T=0,S="left"):(T=c.width,S="right");var P=[],k=f.getRange(),R=f.displayValueToText(f.realValueToDisplayValue(f.valueToRealValue(m,{range:k}),{range:k}),v);R=h.getDecimalFold().format(h.getThousandsSeparator().format(R));var A=g.paddingLeft,F=g.paddingRight,L=g.paddingTop,I=g.paddingBottom,M=g.size,B=g.family,O=A+mt(R,M,g.weight,B)+F,V=L+M+I;P.push({name:"text",attrs:{x:T,y:C,width:O,height:V,text:R,align:S,baseline:"middle"},styles:D(D({},g),{backgroundColor:y})});var N=h.getInnerFormatter().formatExtendText,it=M/2,$=C-it-L,X=C+it+I;d.extendTexts.forEach(function(G,Z){var U=N({type:"last_price",data:x,index:Z});if(U.length>0&&G.show){var j=G.size/2,q=0;G.position==="above_price"?(q=$-=G.paddingBottom+j,$-=j+G.paddingTop):(q=X+=G.paddingTop+j,X+=j+G.paddingBottom),O=Math.max(O,G.paddingLeft+mt(U,G.size,G.weight,G.family)+G.paddingRight),P.push({name:"text",attrs:{x:T,y:q,width:O,height:G.paddingTop+G.size+G.paddingBottom,text:U,align:S,baseline:"middle"},styles:D(D({},G),{backgroundColor:y})})}}),P.forEach(function(G){var Z;G.attrs.width=O,(Z=s.createFigure(G))===null||Z===void 0||Z.draw(t)})}}},e}(pt),_r=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i=this,r=this.getWidget(),o=r.getPane(),a=r.getBounding(),s=o.getChart().getChartStore(),u=s.getStyles().indicator,l=u.lastValueMark,c=l.text;if(l.show){var h=o.getAxisComponent(),p=h.getRange(),d=s.getDataList().length-1,g=s.getIndicatorsByPaneId(o.getId()),v=s.getInnerFormatter(),f=s.getDecimalFold(),_=s.getThousandsSeparator();g.forEach(function(x){var m,b=(m=x.result[d])!==null&&m!==void 0?m:{};if(E(b)&&x.visible){var w=x.precision;me(x,d,u,function(C,y){var T,S=b[C.key];if(W(S)){var P=h.convertToNicePixel(S),k=h.displayValueToText(h.realValueToDisplayValue(h.valueToRealValue(S,{range:p}),{range:p}),w);x.shouldFormatBigNumber&&(k=v.formatBigNumber(k)),k=f.format(_.format(k));var R=0,A="left";h.isFromZero()?(R=0,A="left"):(R=a.width,A="right"),(T=i.createFigure({name:"text",attrs:{x:R,y:P,text:k,align:A,baseline:"middle"},styles:D(D({},c),{backgroundColor:y.color})}))===null||T===void 0||T.draw(t)}})}})}},e}(pt),ui=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!1},e.prototype.drawDefaultFigures=function(t,i,r){this.drawFigures(t,i,this.getDefaultFigures(i,r))},e.prototype.getDefaultFigures=function(t,i){var r,o=this.getWidget(),a=o.getPane(),s=a.getChart().getChartStore(),u=s.getClickOverlayInfo(),l=[];if(t.needDefaultYAxisFigure&&t.id===((r=u.overlay)===null||r===void 0?void 0:r.id)&&u.paneId===a.getId()){var c=a.getAxisComponent(),h=o.getBounding(),p=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER,g=c.isFromZero(),v="left",f=0;g?(v="left",f=0):(v="right",f=h.width);var _=s.getDecimalFold(),x=s.getThousandsSeparator();i.forEach(function(m,b){var w,C,y=t.points[b];if(W(y.value)){p=Math.min(p,m.y),d=Math.max(d,m.y);var T=_.format(x.format(ot(y.value,(C=(w=s.getSymbol())===null||w===void 0?void 0:w.pricePrecision)!==null&&C!==void 0?C:lt)));l.push({type:"text",attrs:{x:f,y:m.y,text:T,align:v,baseline:"middle"},ignoreEvent:!0})}}),i.length>1&&l.unshift({type:"rect",attrs:{x:0,y:p,width:h.width,height:d-p},ignoreEvent:!0})}return l},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createYAxisFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e}(ni),ci=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.drawImp=function(t){var i,r=this.getWidget(),o=r.getPane(),a=r.getPane().getChart().getChartStore(),s=a.getCrosshair();if(H(s.paneId)&&this.compare(s,o.getId())){var u=a.getStyles().crosshair;if(u.show){var l=this.getDirectionStyles(u),c=l.text;if(l.show&&c.show){var h=r.getBounding(),p=o.getAxisComponent(),d=this.getText(s,a,p);t.font=Wt(c.size,c.weight,c.family),(i=this.createFigure({name:"text",attrs:this.getTextAttrs(d,t.measureText(d).width,s,h,p,c),styles:c}))===null||i===void 0||i.draw(t)}}}},e.prototype.compare=function(t,i){return t.paneId===i},e.prototype.getDirectionStyles=function(t){return t.horizontal},e.prototype.getText=function(t,i,r){var o,a,s=r,u=r.convertFromPixel(t.y),l=0,c=!1;s.isInCandle()?l=(a=(o=i.getSymbol())===null||o===void 0?void 0:o.pricePrecision)!==null&&a!==void 0?a:lt:i.getIndicatorsByPaneId(t.paneId).forEach(function(d){l=Math.max(d.precision,l),c||(c=d.shouldFormatBigNumber)});var h=s.getRange(),p=s.displayValueToText(s.realValueToDisplayValue(s.valueToRealValue(u,{range:h}),{range:h}),l);return c&&(p=i.getInnerFormatter().formatBigNumber(p)),i.getDecimalFold().format(i.getThousandsSeparator().format(p))},e.prototype.getTextAttrs=function(t,i,r,o,a,s){var u=0,l="left";return a.isFromZero()?(u=0,l="left"):(u=o.width,l="right"),{x:u,y:r.y,text:t,align:l,baseline:"middle"}},e}(pt),xr=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._yAxisView=new mr(r),r._candleLastPriceLabelView=new yr(r),r._indicatorLastValueView=new _r(r),r._overlayYAxisView=new ui(r),r._crosshairHorizontalLabelView=new ci(r),r.setCursor("ns-resize"),r.addChild(r._overlayYAxisView),r}return Y(e,n),e.prototype.getName=function(){return wt},e.prototype.updateMain=function(t){var i=this.getPane().getOptions().state==="minimize";this._yAxisView.draw(t,i),i||(this.getPane().getAxisComponent().isInCandle()&&this._candleLastPriceLabelView.draw(t),this._indicatorLastValueView.draw(t))},e.prototype.updateOverlay=function(t){this.getPane().getOptions().state!=="minimize"&&(this._overlayYAxisView.draw(t),this._crosshairHorizontalLabelView.draw(t))},e}(xe),hi=function(){function n(e){this.scrollZoomEnabled=!0,this._range={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._prevRange={from:0,to:0,range:0,realFrom:0,realTo:0,realRange:0,displayFrom:0,displayTo:0,displayRange:0},this._ticks=[],this._autoCalcTickFlag=!0,this._parent=e}return n.prototype.getParent=function(){return this._parent},n.prototype.buildTicks=function(e){return this._autoCalcTickFlag&&(this._range=this.createRangeImp()),!(this._prevRange.from===this._range.from&&this._prevRange.to===this._range.to&&!e)&&(this._prevRange=this._range,this._ticks=this.createTicksImp(),!0)},n.prototype.getTicks=function(){return this._ticks},n.prototype.setRange=function(e){this._autoCalcTickFlag=!1,this._range=e},n.prototype.getRange=function(){return this._range},n.prototype.setAutoCalcTickFlag=function(e){this._autoCalcTickFlag=e},n.prototype.getAutoCalcTickFlag=function(){return this._autoCalcTickFlag},n}(),Qt=function(n){function e(t,i){var r=n.call(this,t)||this;return r.reverse=!1,r.inside=!1,r.position="right",r.gap={top:.2,bottom:.1},r.createRange=function(o){return o.defaultRange},r.minSpan=function(o){return zt(-o)},r.valueToRealValue=function(o){return o},r.realValueToDisplayValue=function(o){return o},r.displayValueToRealValue=function(o){return o},r.realValueToValue=function(o){return o},r.displayValueToText=function(o,a){return ot(o,a)},r.override(i),r}return Y(e,n),e.prototype.override=function(t){var i=t.name,r=t.gap,o=$t(t,["name","gap"]);H(this.name)||(this.name=i),Q(this.gap,r),Q(this,o)},e.prototype.createRangeImp=function(){var t,i,r=this.getParent(),o=r.getChart(),a=o.getChartStore(),s=r.getId(),u=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER,c=!1,h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER,d=Number.MAX_SAFE_INTEGER,g=a.getIndicatorsByPaneId(s);g.forEach(function(X){c||(c=X.shouldOhlc),d=Math.min(d,X.precision),W(X.minValue)&&(h=Math.min(h,X.minValue)),W(X.maxValue)&&(p=Math.max(p,X.maxValue))});var v=4,f=this.isInCandle();if(f){var _=(i=(t=a.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:lt;v=d!==Number.MAX_SAFE_INTEGER?Math.min(d,_):_}else d!==Number.MAX_SAFE_INTEGER&&(v=d);var x=a.getVisibleRangeDataList(),m=o.getStyles().candle,b=m.type==="area",w=m.area.value,C=f&&!b||!f&&c;x.forEach(function(X){var G=X.dataIndex,Z=X.data.current;if(E(Z)&&(C&&(u=Math.min(u,Z.low),l=Math.max(l,Z.high)),f&&b)){var U=Z[w];W(U)&&(u=Math.min(u,U),l=Math.max(l,U))}g.forEach(function(j){var q,K=j.result,J=j.figures,tt=(q=K[G])!==null&&q!==void 0?q:{};J.forEach(function(ct){var dt=tt[ct.key];W(dt)&&(u=Math.min(u,dt),l=Math.max(l,dt))})})}),u!==Number.MAX_SAFE_INTEGER&&l!==Number.MIN_SAFE_INTEGER?(u=Math.min(h,u),l=Math.max(p,l)):(u=0,l=10);var y=l-u,T={from:u,to:l,range:y,realFrom:u,realTo:l,realRange:y,displayFrom:u,displayTo:l,displayRange:y},S=this.createRange({chart:o,paneId:s,defaultRange:T}),P=S.realFrom,k=S.realTo,R=S.realRange,A=this.minSpan(v);if(P===k||R<A){var F=h===P,L=p===k;P=F?P:L?P-8*A:P-4*A,k=L?k:F?k+8*A:k+4*A}var I=this.getBounding().height,M=this.gap,B=M.top;B>=1&&(B/=I);var O=M.bottom;O>=1&&(O/=I),P-=(R=k-P)*O,k+=R*B;var V=this.realValueToValue(P,{range:S}),N=this.realValueToValue(k,{range:S}),it=this.realValueToDisplayValue(P,{range:S}),$=this.realValueToDisplayValue(k,{range:S});return{from:V,to:N,range:N-V,realFrom:P,realTo:k,realRange:k-P,displayFrom:it,displayTo:$,displayRange:$-it}},e.prototype.isInCandle=function(){return this.getParent().getId()===at},e.prototype.isFromZero=function(){return this.position==="left"&&this.inside||this.position==="right"&&!this.inside},e.prototype.createTicksImp=function(){var t,i,r,o,a=this,s=this.getRange(),u=s.displayFrom,l=s.displayTo,c=s.displayRange,h=[];if(c>=0){var p=function(I){var M=Math.floor(Pt(I)),B=zt(M),O=I/B;return+(I=(O<1.5?1:O<2.5?2:O<3.5?3:O<4.5?4:O<5.5?5:O<6.5?6:8)*B).toFixed(Math.abs(M))}(c/8),d=function(I){var M=I.toString(),B=M.indexOf("e");if(B>0){var O=+M.slice(B+1);return O<0?-O:0}var V=M.indexOf(".");return V<0?0:M.length-1-V}(p),g=Fe(Math.ceil(u/p)*p,d),v=Fe(Math.floor(l/p)*p,d),f=0,_=g;if(p!==0)for(;_<=v;){var x=_.toFixed(d);h[f]={text:x,coord:0,value:x},++f,_+=p}}var m=this.getParent(),b=(i=(t=m.getYAxisWidget())===null||t===void 0?void 0:t.getBounding().height)!==null&&i!==void 0?i:0,w=m.getChart().getChartStore(),C=[],y=w.getIndicatorsByPaneId(m.getId()),T=w.getStyles(),S=0,P=!1;this.isInCandle()?S=(o=(r=w.getSymbol())===null||r===void 0?void 0:r.pricePrecision)!==null&&o!==void 0?o:lt:y.forEach(function(I){S=Math.max(S,I.precision),P||(P=I.shouldFormatBigNumber)});var k=w.getInnerFormatter(),R=w.getThousandsSeparator(),A=w.getDecimalFold(),F=T.xAxis.tickText.size,L=NaN;return h.forEach(function(I){var M=I.value,B=a.displayValueToText(+M,S),O=a.convertToPixel(a.realValueToValue(a.displayValueToRealValue(+M,{range:s}),{range:s}));P&&(B=k.formatBigNumber(M)),B=A.format(R.format(B));var V=W(L);O>F&&O<b-F&&(V&&Math.abs(L-O)>2*F||!V)&&(C.push({text:B,coord:O,value:M}),L=O)}),st(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:C}):C},e.prototype.getAutoSize=function(){var t,i,r=this.getParent(),o=r.getChart().getChartStore(),a=o.getStyles(),s=a.yAxis,u=s.size;if(u!=="auto")return u;var l=0;if(s.show&&(s.axisLine.show&&(l+=s.axisLine.size),s.tickLine.show&&(l+=s.tickLine.length),s.tickText.show)){var c=0;this.getTicks().forEach(function(B){c=Math.max(c,mt(B.text,s.tickText.size,s.tickText.weight,s.tickText.family))}),l+=s.tickText.marginStart+s.tickText.marginEnd+c}var h=a.candle.priceMark,p=h.show&&h.last.show&&h.last.text.show,d=0,g=a.crosshair,v=g.show&&g.horizontal.show&&g.horizontal.text.show,f=0;if(p||v){var _=(i=(t=o.getSymbol())===null||t===void 0?void 0:t.pricePrecision)!==null&&i!==void 0?i:lt,x=this.getRange().displayTo;if(p){var m=o.getDataList(),b=m[m.length-1];if(E(b)){var w=h.last.text,C=w.paddingLeft,y=w.paddingRight,T=w.size,S=w.family,P=w.weight;d=C+mt(ot(b.close,_),T,P,S)+y;var k=o.getInnerFormatter().formatExtendText;h.last.extendTexts.forEach(function(B,O){var V=k({type:"last_price",data:b,index:O});V.length>0&&B.show&&(d=Math.max(d,B.paddingLeft+mt(V,B.size,B.weight,B.family)+B.paddingRight))})}}if(v){var R=o.getIndicatorsByPaneId(r.getId()),A=0,F=!1;R.forEach(function(B){A=Math.max(B.precision,A),F||(F=B.shouldFormatBigNumber)});var L=2;if(this.isInCandle()){var I=a.indicator.lastValueMark;L=I.show&&I.text.show?Math.max(A,_):_}else L=A;var M=ot(x,L);F&&(M=o.getInnerFormatter().formatBigNumber(M)),M=o.getDecimalFold().format(M),f+=g.horizontal.text.paddingLeft+g.horizontal.text.paddingRight+2*g.horizontal.text.borderSize+mt(M,g.horizontal.text.size,g.horizontal.text.weight,g.horizontal.text.family)}}return Math.max(l,d,f)},e.prototype.getBounding=function(){return this.getParent().getYAxisWidget().getBounding()},e.prototype.convertFromPixel=function(t){var i=this.getBounding().height,r=this.getRange(),o=r.realFrom,a=r.realRange,s=(this.reverse?t/i:1-t/i)*a+o;return this.realValueToValue(s,{range:r})},e.prototype.convertToPixel=function(t){var i,r,o=this.getRange(),a=this.valueToRealValue(t,{range:o}),s=(r=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&r!==void 0?r:0,u=(a-o.realFrom)/o.realRange;return this.reverse?Math.round(u*s):Math.round((1-u)*s)},e.prototype.convertToNicePixel=function(t){var i,r,o=(r=(i=this.getParent().getYAxisWidget())===null||i===void 0?void 0:i.getBounding().height)!==null&&r!==void 0?r:0,a=this.convertToPixel(t);return Math.round(Math.max(.05*o,Math.min(a,.98*o)))},e.extend=function(t){var i=function(r){function o(a){return r.call(this,a,t)||this}return Y(o,r),o}(e);return i},e}(hi),br={name:"percentage",minSpan:function(){return Math.pow(10,-2)},displayValueToText:function(n){return"".concat(ot(n,2),"%")},valueToRealValue:function(n,e){var t=e.range;return(n-t.from)/t.range*t.realRange+t.realFrom},realValueToValue:function(n,e){var t=e.range;return(n-t.realFrom)/t.realRange*t.range+t.from},createRange:function(n){var e=n.chart,t=n.defaultRange,i=e.getDataList()[e.getVisibleRange().from];if(E(i)){var r=t.from,o=t.to,a=t.range,s=(t.from-i.close)/i.close*100,u=(t.to-i.close)/i.close*100,l=u-s;return{from:r,to:o,range:a,realFrom:s,realTo:u,realRange:l,displayFrom:s,displayTo:u,displayRange:l}}return t}},wr={name:"logarithm",minSpan:function(n){return .05*zt(-n)},valueToRealValue:function(n){return n<0?-Pt(Math.abs(n)):Pt(n)},realValueToDisplayValue:function(n){return n<0?-zt(Math.abs(n)):zt(n)},displayValueToRealValue:function(n){return n<0?-Pt(Math.abs(n)):Pt(n)},realValueToValue:function(n){return n<0?-zt(Math.abs(n)):zt(n)},createRange:function(n){var e=n.defaultRange,t=e.from,i=e.to,r=e.range,o=t<0?-Pt(Math.abs(t)):Pt(t),a=i<0?-Pt(Math.abs(i)):Pt(i);return{from:t,to:i,range:r,realFrom:o,realTo:a,realRange:a-o,displayFrom:t,displayTo:i,displayRange:r}}},we={normal:Qt.extend({name:"normal"}),percentage:Qt.extend(br),logarithm:Qt.extend(wr)},di=function(){function n(e,t){this._bounding=te(),this._originalBounding=te(),this._visible=!0,this._chart=e,this._id=t,this._container=St("div",{width:"100%",margin:"0",padding:"0",position:"relative",overflow:"hidden",boxSizing:"border-box"})}return n.prototype.getContainer=function(){return this._container},n.prototype.setVisible=function(e){this._visible!==e&&(this._container.style.display=e?"block":"none",this._visible=e)},n.prototype.getVisible=function(){return this._visible},n.prototype.getId=function(){return this._id},n.prototype.getChart=function(){return this._chart},n.prototype.getBounding=function(){return this._bounding},n.prototype.setOriginalBounding=function(e){Q(this._originalBounding,e)},n.prototype.getOriginalBounding=function(){return this._originalBounding},n.prototype.update=function(e){this._bounding.height!==this._container.clientHeight&&(this._container.style.height="".concat(this._bounding.height,"px")),this.updateImp(e??3,this._container,this._bounding)},n}(),pi=function(n){function e(t,i,r){var o=n.call(this,t,i)||this;o._yAxisWidget=null,o._options={id:"",minHeight:30,dragEnabled:!0,order:0,height:100,state:"normal",axis:{name:"normal",scrollZoomEnabled:!0}};var a=o.getContainer();return o._mainWidget=o.createMainWidget(a),o._yAxisWidget=o.createYAxisWidget(a),o.setOptions(r),o}return Y(e,n),e.prototype.setOptions=function(t){var i,r,o,a,s,u=this.getId();if(u===at||u===et){var l=(i=t.axis)===null||i===void 0?void 0:i.name;(!E(this._axis)||E(l)&&this._options.axis.name!==l)&&(this._axis=this.createAxisComponent(l??"normal"))}else E(this._axis)||(this._axis=this.createAxisComponent("normal"));this._axis instanceof Qt&&this._axis.setAutoCalcTickFlag(!0),Q(this._options,t),this._axis.override(D(D({},this._options.axis),{name:(o=(r=t.axis)===null||r===void 0?void 0:r.name)!==null&&o!==void 0?o:"normal"}));var c=null,h="default";return this.getId()===et?(c=this.getMainWidget().getContainer(),h="ew-resize"):(c=this.getYAxisWidget().getContainer(),h="ns-resize"),(s=(a=t.axis)===null||a===void 0?void 0:a.scrollZoomEnabled)===null||s===void 0||s?c.style.cursor=h:c.style.cursor="default",this},e.prototype.getOptions=function(){return this._options},e.prototype.getAxisComponent=function(){return this._axis},e.prototype.setBounding=function(t,i,r,o){var a,s,u,l;Q(this.getBounding(),t);var c={};E(t.height)&&(c.height=t.height),E(t.top)&&(c.top=t.top),this._mainWidget.setBounding(c);var h=E(i);return h&&this._mainWidget.setBounding(i),E(this._yAxisWidget)&&(this._yAxisWidget.setBounding(c),this._axis.position==="left"?E(r)&&this._yAxisWidget.setBounding(D(D({},r),{left:0})):E(o)&&(this._yAxisWidget.setBounding(o),h&&this._yAxisWidget.setBounding({left:((a=i.left)!==null&&a!==void 0?a:0)+((s=i.width)!==null&&s!==void 0?s:0)+((u=i.right)!==null&&u!==void 0?u:0)-((l=o.width)!==null&&l!==void 0?l:0)}))),this},e.prototype.getMainWidget=function(){return this._mainWidget},e.prototype.getYAxisWidget=function(){return this._yAxisWidget},e.prototype.updateImp=function(t){var i;this._mainWidget.update(t),(i=this._yAxisWidget)===null||i===void 0||i.update(t)},e.prototype.destroy=function(){var t;this._mainWidget.destroy(),(t=this._yAxisWidget)===null||t===void 0||t.destroy()},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=St("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),s=a.getContext("2d"),u=Ft(a);a.width=r*u,a.height=o*u,s.scale(u,u);var l=this._mainWidget.getBounding();if(s.drawImage(this._mainWidget.getImage(t),l.left,0,l.width,l.height),this._yAxisWidget!==null){var c=this._yAxisWidget.getBounding();s.drawImage(this._yAxisWidget.getImage(t),c.left,0,c.width,c.height)}return a},e.prototype.createYAxisWidget=function(t){return null},e}(di),gi=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createAxisComponent=function(t){var i=function(r){var o;return(o=we[r])!==null&&o!==void 0?o:we.normal}(t??"default");return new i(this)},e.prototype.createMainWidget=function(t){return new oi(t,this)},e.prototype.createYAxisWidget=function(t){return new xr(t,this)},e}(pi),Cr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createMainWidget=function(t){return new fr(t,this)},e}(gi),Er=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.getAxisStyles=function(t){return t.xAxis},e.prototype.createAxisLine=function(t){return{coordinates:[{x:0,y:0},{x:t.width,y:0}]}},e.prototype.createTickLines=function(t,i,r){var o=r.tickLine,a=r.axisLine.size;return t.map(function(s){return{coordinates:[{x:s.coord,y:0},{x:s.coord,y:a+o.length}]}})},e.prototype.createTickTexts=function(t,i,r){var o=r.tickText,a=r.axisLine.size,s=r.tickLine.length;return t.map(function(u){return{x:u.coord,y:a+s+o.marginStart,text:u.text,align:"center",baseline:"top"}})},e}(li),Tr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.coordinateToPointTimestampDataIndexFlag=function(){return!0},e.prototype.coordinateToPointValueFlag=function(){return!1},e.prototype.getCompleteOverlays=function(){return this.getWidget().getPane().getChart().getChartStore().getOverlaysByPaneId()},e.prototype.getProgressOverlay=function(){var t,i;return(i=(t=this.getWidget().getPane().getChart().getChartStore().getProgressOverlayInfo())===null||t===void 0?void 0:t.overlay)!==null&&i!==void 0?i:null},e.prototype.getDefaultFigures=function(t,i){var r,o=[],a=this.getWidget(),s=a.getPane().getChart().getChartStore(),u=s.getClickOverlayInfo();if(t.needDefaultXAxisFigure&&t.id===((r=u.overlay)===null||r===void 0?void 0:r.id)){var l=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;i.forEach(function(h,p){l=Math.min(l,h.x),c=Math.max(c,h.x);var d=t.points[p];if(W(d.timestamp)){var g=s.getInnerFormatter().formatDate(d.timestamp,"YYYY-MM-DD HH:mm","crosshair");o.push({type:"text",attrs:{x:h.x,y:0,text:g,align:"center"},ignoreEvent:!0})}}),i.length>1&&o.unshift({type:"rect",attrs:{x:l,y:0,width:c-l,height:a.getBounding().height},ignoreEvent:!0})}return o},e.prototype.getFigures=function(t,i){var r,o,a=this.getWidget(),s=a.getPane(),u=s.getChart(),l=s.getAxisComponent(),c=u.getXAxisPane().getAxisComponent(),h=a.getBounding();return(o=(r=t.createXAxisFigures)===null||r===void 0?void 0:r.call(t,{chart:u,overlay:t,coordinates:i,bounding:h,xAxis:c,yAxis:l}))!==null&&o!==void 0?o:[]},e}(ui),Sr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.compare=function(t){return E(t.timestamp)},e.prototype.getDirectionStyles=function(t){return t.vertical},e.prototype.getText=function(t,i){var r,o,a=t.timestamp;return i.getInnerFormatter().formatDate(a,ai[(o=(r=i.getPeriod())===null||r===void 0?void 0:r.type)!==null&&o!==void 0?o:"day"],"crosshair")},e.prototype.getTextAttrs=function(t,i,r,o,a,s){var u=r.realX,l=0,c="center";return u-i/2-s.paddingLeft<0?(l=0,c="left"):u+i/2+s.paddingRight>o.width?(l=o.width,c="right"):l=u,{x:l,y:0,text:t,align:c,baseline:"top"}},e}(ci),Pr=function(n){function e(t,i){var r=n.call(this,t,i)||this;return r._xAxisView=new Er(r),r._overlayXAxisView=new Tr(r),r._crosshairVerticalLabelView=new Sr(r),r.setCursor("ew-resize"),r.addChild(r._overlayXAxisView),r}return Y(e,n),e.prototype.getName=function(){return Mt},e.prototype.updateMain=function(t){this._xAxisView.draw(t)},e.prototype.updateOverlay=function(t){this._overlayXAxisView.draw(t),this._crosshairVerticalLabelView.draw(t)},e}(xe),vi=function(n){function e(t,i){var r=n.call(this,t)||this;return r.override(i),r}return Y(e,n),e.prototype.override=function(t){var i=t.name,r=t.scrollZoomEnabled,o=t.createTicks;H(this.name)||(this.name=i),this.scrollZoomEnabled=r??this.scrollZoomEnabled,this.createTicks=o??this.createTicks},e.prototype.createRangeImp=function(){var t=this.getParent().getChart().getChartStore().getVisibleRange(),i=t.realFrom,r=t.realTo,o=r-i+1;return{from:i,to:r,range:o,realFrom:i,realTo:r,realRange:o,displayFrom:i,displayTo:r,displayRange:o}},e.prototype.createTicksImp=function(){var t,i=this.getRange(),r=i.realFrom,o=i.realTo,a=i.from,s=this.getParent().getChart().getChartStore(),u=s.getInnerFormatter().formatDate,l=s.getPeriod(),c=[],h=s.getBarSpace().bar,p=s.getStyles().xAxis.tickText,d=Math.max(mt("YYYY-MM-DD HH:mm:ss",p.size,p.weight,p.family),this.getBounding().width/8),g=Math.ceil(d/h);g%2!=0&&(g+=1);for(var v=Math.max(0,Math.floor(r/g)*g);v<o;v+=g)if(v>=a){var f=s.dataIndexToTimestamp(v);W(f)&&c.push({coord:this.convertToPixel(v),value:f,text:u(f,pr[(t=l?.type)!==null&&t!==void 0?t:"day"],"xAxis")})}return st(this.createTicks)?this.createTicks({range:this.getRange(),bounding:this.getBounding(),defaultTicks:c}):c},e.prototype.getAutoSize=function(){var t=this.getParent().getChart().getStyles(),i=t.xAxis,r=i.size;if(r!=="auto")return r;var o=t.crosshair,a=0;i.show&&(i.axisLine.show&&(a+=i.axisLine.size),i.tickLine.show&&(a+=i.tickLine.length),i.tickText.show&&(a+=i.tickText.marginStart+i.tickText.marginEnd+i.tickText.size));var s=0;return o.show&&o.vertical.show&&o.vertical.text.show&&(s+=o.vertical.text.paddingTop+o.vertical.text.paddingBottom+2*o.vertical.text.borderSize+o.vertical.text.size),Math.max(a,s)},e.prototype.getBounding=function(){return this.getParent().getMainWidget().getBounding()},e.prototype.convertTimestampFromPixel=function(t){var i=this.getParent().getChart().getChartStore(),r=i.coordinateToDataIndex(t);return i.dataIndexToTimestamp(r)},e.prototype.convertTimestampToPixel=function(t){var i=this.getParent().getChart().getChartStore(),r=i.timestampToDataIndex(t);return i.dataIndexToCoordinate(r)},e.prototype.convertFromPixel=function(t){return this.getParent().getChart().getChartStore().coordinateToDataIndex(t)},e.prototype.convertToPixel=function(t){return this.getParent().getChart().getChartStore().dataIndexToCoordinate(t)},e.extend=function(t){var i=function(r){function o(a){return r.call(this,a,t)||this}return Y(o,r),o}(e);return i},e}(hi),Ce={normal:vi.extend({name:"normal"})},Mr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Y(e,n),e.prototype.createAxisComponent=function(t){var i=function(r){var o;return(o=Ce[r])!==null&&o!==void 0?o:Ce.normal}(t);return new i(this)},e.prototype.createMainWidget=function(t){return new Pr(t,this)},e}(pi),Ir=function(n){function e(t,i){var r,o,a,s=n.call(this,t,i)||this;return s._dragFlag=!1,s._dragStartY=0,s._topPaneHeight=0,s._bottomPaneHeight=0,s._topPane=null,s._bottomPane=null,s._pressedMouseMoveEvent=(r=s._pressedTouchMouseMoveEvent,o=20,a=0,function(){var u=Date.now();u-a>o&&(r.apply(this,arguments),a=u)}),s.registerEvent("touchStartEvent",s._mouseDownEvent.bind(s)).registerEvent("touchMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("touchEndEvent",s._mouseUpEvent.bind(s)).registerEvent("mouseDownEvent",s._mouseDownEvent.bind(s)).registerEvent("mouseUpEvent",s._mouseUpEvent.bind(s)).registerEvent("pressedMouseMoveEvent",s._pressedMouseMoveEvent.bind(s)).registerEvent("mouseEnterEvent",s._mouseEnterEvent.bind(s)).registerEvent("mouseLeaveEvent",s._mouseLeaveEvent.bind(s)),s}return Y(e,n),e.prototype.getName=function(){return jt},e.prototype._mouseDownEvent=function(t){var i=this;this._dragFlag=!0,this._dragStartY=t.pageY;var r=this.getPane(),o=r.getChart();this._topPane=r.getTopPane(),this._bottomPane=r.getBottomPane();var a=o.getDrawPanes();if(this._topPane.getOptions().state==="minimize")for(var s=a.findIndex(function(h){var p;return h.getId()===((p=i._topPane)===null||p===void 0?void 0:p.getId())}),u=s-1;u>-1;u--){var l=a[u];if(l.getOptions().state!=="minimize"){this._topPane=l;break}}if(this._bottomPane.getOptions().state==="minimize")for(s=a.findIndex(function(h){var p;return h.getId()===((p=i._bottomPane)===null||p===void 0?void 0:p.getId())}),u=s+1;u<a.length;u++){var c=a[u];if(c.getOptions().state!=="minimize"){this._bottomPane=c;break}}return this._topPaneHeight=this._topPane.getBounding().height,this._bottomPaneHeight=this._bottomPane.getBounding().height,!0},e.prototype._mouseUpEvent=function(){return this._dragFlag=!1,this._topPane=null,this._bottomPane=null,this._topPaneHeight=0,this._bottomPaneHeight=0,this._mouseLeaveEvent()},e.prototype._pressedTouchMouseMoveEvent=function(t){var i=t.pageY-this._dragStartY,r=i<0;if(E(this._topPane)&&E(this._bottomPane)){var o=this._bottomPane.getOptions();if(this._topPane.getOptions().state!=="minimize"&&o.state!=="minimize"&&o.dragEnabled){var a=null,s=null,u=0,l=0;r?(a=this._topPane,s=this._bottomPane,u=this._topPaneHeight,l=this._bottomPaneHeight):(a=this._bottomPane,s=this._topPane,u=this._bottomPaneHeight,l=this._topPaneHeight);var c=a.getOptions().minHeight;if(u>c){var h=Math.max(u-Math.abs(i),c),p=u-h;a.setBounding({height:h}),s.setBounding({height:l+p});var d=this.getPane(),g=d.getChart();g.getChartStore().executeAction("onPaneDrag",{paneId:d.getId()}),g.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}}}return!0},e.prototype._mouseEnterEvent=function(){var t=this.getPane();if(t.getBottomPane().getOptions().dragEnabled){var i=t.getChart().getStyles().separator;return this.getContainer().style.background=i.activeBackgroundColor,!0}return!1},e.prototype._mouseLeaveEvent=function(){return!this._dragFlag&&(this.getContainer().style.background="transparent",!0)},e.prototype.createContainer=function(){return St("div",{width:"100%",height:"".concat(7,"px"),margin:"0",padding:"0",position:"absolute",top:"-3px",zIndex:"20",boxSizing:"border-box",cursor:"ns-resize"})},e.prototype.updateImp=function(t,i,r){if(r===4||r===2){var o=this.getPane().getChart().getStyles().separator;t.style.top="".concat(-Math.floor((7-o.size)/2),"px"),t.style.height="".concat(7,"px")}},e}(Ze),Dr=function(n){function e(t,i,r,o){var a=n.call(this,t,i)||this;return a.getContainer().style.overflow="",a._topPane=r,a._bottomPane=o,a._separatorWidget=new Ir(a.getContainer(),a),a}return Y(e,n),e.prototype.setBounding=function(t){return Q(this.getBounding(),t),this},e.prototype.getTopPane=function(){return this._topPane},e.prototype.setTopPane=function(t){return this._topPane=t,this},e.prototype.getBottomPane=function(){return this._bottomPane},e.prototype.setBottomPane=function(t){return this._bottomPane=t,this},e.prototype.getWidget=function(){return this._separatorWidget},e.prototype.getImage=function(t){var i=this.getBounding(),r=i.width,o=i.height,a=this.getChart().getStyles().separator,s=St("canvas",{width:"".concat(r,"px"),height:"".concat(o,"px"),boxSizing:"border-box"}),u=s.getContext("2d"),l=Ft(s);return s.width=r*l,s.height=o*l,u.scale(l,l),u.fillStyle=a.color,u.fillRect(0,0,r,o),s},e.prototype.updateImp=function(t,i,r){if(t===4||t===2){var o=this.getChart().getStyles().separator;i.style.backgroundColor=o.color,i.style.height="".concat(r.height,"px"),i.style.marginLeft="".concat(r.left,"px"),i.style.width="".concat(r.width,"px"),this._separatorWidget.update(t)}},e}(di);function fi(){return typeof window<"u"&&window.navigator.userAgent.toLowerCase().includes("firefox")}function Ee(){return typeof window<"u"&&/iPhone|iPad|iPod|iOS/.test(window.navigator.userAgent)}var mi=500,kr=500,Ar=500,Fr=5,Br=5,yi=5,_i=30,Te=0,Rr=1,Lr=2,Or=function(){function n(e,t,i){var r=this;this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY},this._longTapTimeoutId=null,this._longTapActive=!1,this._mouseMoveStartCoordinate=null,this._touchMoveStartCoordinate=null,this._touchMoveExceededManhattanDistance=!1,this._cancelClick=!1,this._cancelTap=!1,this._unsubscribeOutsideMouseEvents=null,this._unsubscribeOutsideTouchEvents=null,this._unsubscribeMobileSafariEvents=null,this._unsubscribeMousemove=null,this._unsubscribeMouseWheel=null,this._unsubscribeContextMenu=null,this._unsubscribeRootMouseEvents=null,this._unsubscribeRootTouchEvents=null,this._startPinchMiddleCoordinate=null,this._startPinchDistance=0,this._pinchPrevented=!1,this._preventTouchDragProcess=!1,this._mousePressed=!1,this._lastTouchEventTimeStamp=0,this._activeTouchId=null,this._acceptMouseLeave=!Ee(),this._onFirefoxOutsideMouseUp=function(o){r._mouseUpHandler(o)},this._onMobileSafariDoubleClick=function(o){r._firesTouchEvents(o)?(++r._tapCount,r._tapTimeoutId!==null&&r._tapCount>1&&(r._mouseTouchMoveWithDownInfo(r._getCoordinate(o),r._tapCoordinate).manhattanDistance<_i&&!r._cancelTap&&r._processEvent(r._makeCompatEvent(o),r._handler.doubleTapEvent),r._resetTapTimeout())):(++r._clickCount,r._clickTimeoutId!==null&&r._clickCount>1&&(r._mouseTouchMoveWithDownInfo(r._getCoordinate(o),r._clickCoordinate).manhattanDistance<yi&&!r._cancelClick&&r._processEvent(r._makeCompatEvent(o),r._handler.mouseDoubleClickEvent),r._resetClickTimeout()))},this._target=e,this._handler=t,this._options=i,this._init()}return n.prototype.destroy=function(){this._unsubscribeOutsideMouseEvents!==null&&(this._unsubscribeOutsideMouseEvents(),this._unsubscribeOutsideMouseEvents=null),this._unsubscribeOutsideTouchEvents!==null&&(this._unsubscribeOutsideTouchEvents(),this._unsubscribeOutsideTouchEvents=null),this._unsubscribeMousemove!==null&&(this._unsubscribeMousemove(),this._unsubscribeMousemove=null),this._unsubscribeMouseWheel!==null&&(this._unsubscribeMouseWheel(),this._unsubscribeMouseWheel=null),this._unsubscribeContextMenu!==null&&(this._unsubscribeContextMenu(),this._unsubscribeContextMenu=null),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null),this._unsubscribeMobileSafariEvents!==null&&(this._unsubscribeMobileSafariEvents(),this._unsubscribeMobileSafariEvents=null),this._clearLongTapTimeout(),this._resetClickTimeout()},n.prototype._mouseEnterHandler=function(e){var t,i,r,o=this;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(r=this._unsubscribeContextMenu)===null||r===void 0||r.call(this);var a=this._mouseMoveHandler.bind(this);this._unsubscribeMousemove=function(){o._target.removeEventListener("mousemove",a)},this._target.addEventListener("mousemove",a);var s=this._mouseWheelHandler.bind(this);this._unsubscribeMouseWheel=function(){o._target.removeEventListener("wheel",s)},this._target.addEventListener("wheel",s,{passive:!1});var u=this._contextMenuHandler.bind(this);this._unsubscribeContextMenu=function(){o._target.removeEventListener("contextmenu",u)},this._target.addEventListener("contextmenu",u,{passive:!1}),this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseEnterEvent),this._acceptMouseLeave=!0)},n.prototype._resetClickTimeout=function(){this._clickTimeoutId!==null&&clearTimeout(this._clickTimeoutId),this._clickCount=0,this._clickTimeoutId=null,this._clickCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},n.prototype._resetTapTimeout=function(){this._tapTimeoutId!==null&&clearTimeout(this._tapTimeoutId),this._tapCount=0,this._tapTimeoutId=null,this._tapCoordinate={x:Number.NEGATIVE_INFINITY,y:Number.POSITIVE_INFINITY}},n.prototype._mouseMoveHandler=function(e){this._mousePressed||this._touchMoveStartCoordinate!==null||this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseMoveEvent),this._acceptMouseLeave=!0)},n.prototype._mouseWheelHandler=function(e){if(Math.abs(e.deltaX)>Math.abs(e.deltaY)){if(!E(this._handler.mouseWheelHortEvent)||(this._preventDefault(e),Math.abs(e.deltaX)===0))return;this._handler.mouseWheelHortEvent(this._makeCompatEvent(e),-e.deltaX)}else{if(!E(this._handler.mouseWheelVertEvent))return;var t=-e.deltaY/100;if(t===0)return;switch(this._preventDefault(e),e.deltaMode){case e.DOM_DELTA_PAGE:t*=120;break;case e.DOM_DELTA_LINE:t*=32}if(t!==0){var i=Math.sign(t)*Math.min(1,Math.abs(t));this._handler.mouseWheelVertEvent(this._makeCompatEvent(e),i)}}},n.prototype._contextMenuHandler=function(e){this._preventDefault(e)},n.prototype._touchMoveHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t!==null&&(this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._startPinchMiddleCoordinate===null&&!this._preventTouchDragProcess)){this._pinchPrevented=!0;var i=this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._touchMoveStartCoordinate),r=i.xOffset,o=i.yOffset,a=i.manhattanDistance;if(this._touchMoveExceededManhattanDistance||!(a<Br)){if(!this._touchMoveExceededManhattanDistance){var s=.5*r,u=o>=s&&!this._options.treatVertDragAsPageScroll(),l=s>o&&!this._options.treatHorzDragAsPageScroll();u||l||(this._preventTouchDragProcess=!0),this._touchMoveExceededManhattanDistance=!0,this._cancelTap=!0,this._clearLongTapTimeout(),this._resetTapTimeout()}this._preventTouchDragProcess||this._processEvent(this._makeCompatEvent(e,t),this._handler.touchMoveEvent)}}},n.prototype._mouseMoveWithDownHandler=function(e){e.button===Te&&(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._mouseMoveStartCoordinate).manhattanDistance>=Fr&&(this._cancelClick=!0,this._resetClickTimeout()),this._cancelClick&&this._processEvent(this._makeCompatEvent(e),this._handler.pressedMouseMoveEvent))},n.prototype._mouseTouchMoveWithDownInfo=function(e,t){var i=Math.abs(t.x-e.x),r=Math.abs(t.y-e.y);return{xOffset:i,yOffset:r,manhattanDistance:i+r}},n.prototype._touchEndHandler=function(e){var t=this._touchWithId(e.changedTouches,this._activeTouchId);if(t===null&&e.touches.length===0&&(t=e.changedTouches[0]),t!==null){this._activeTouchId=null,this._lastTouchEventTimeStamp=this._eventTimeStamp(e),this._clearLongTapTimeout(),this._touchMoveStartCoordinate=null,this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var i=this._makeCompatEvent(e,t);this._processEvent(i,this._handler.touchEndEvent),++this._tapCount,this._tapTimeoutId!==null&&this._tapCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(t),this._tapCoordinate).manhattanDistance<_i&&!this._cancelTap&&this._processEvent(i,this._handler.doubleTapEvent),this._resetTapTimeout()):this._cancelTap||(this._processEvent(i,this._handler.tapEvent),E(this._handler.tapEvent)&&this._preventDefault(e)),this._tapCount===0&&this._preventDefault(e),e.touches.length===0&&this._longTapActive&&(this._longTapActive=!1,this._preventDefault(e))}},n.prototype._mouseUpHandler=function(e){if(e.button===Te){var t=this._makeCompatEvent(e);this._mouseMoveStartCoordinate=null,this._mousePressed=!1,this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null),fi()&&this._target.ownerDocument.documentElement.removeEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._firesTouchEvents(e)||(this._processEvent(t,this._handler.mouseUpEvent),++this._clickCount,this._clickTimeoutId!==null&&this._clickCount>1?(this._mouseTouchMoveWithDownInfo(this._getCoordinate(e),this._clickCoordinate).manhattanDistance<yi&&!this._cancelClick&&this._processEvent(t,this._handler.mouseDoubleClickEvent),this._resetClickTimeout()):this._cancelClick||this._processEvent(t,this._handler.mouseClickEvent))}},n.prototype._clearLongTapTimeout=function(){this._longTapTimeoutId!==null&&(clearTimeout(this._longTapTimeoutId),this._longTapTimeoutId=null)},n.prototype._touchStartHandler=function(e){if(this._activeTouchId===null){var t=e.changedTouches[0];this._activeTouchId=t.identifier,this._lastTouchEventTimeStamp=this._eventTimeStamp(e);var i=this._target.ownerDocument.documentElement;this._cancelTap=!1,this._touchMoveExceededManhattanDistance=!1,this._preventTouchDragProcess=!1,this._touchMoveStartCoordinate=this._getCoordinate(t),this._unsubscribeRootTouchEvents!==null&&(this._unsubscribeRootTouchEvents(),this._unsubscribeRootTouchEvents=null);var r=this._touchMoveHandler.bind(this),o=this._touchEndHandler.bind(this);this._unsubscribeRootTouchEvents=function(){i.removeEventListener("touchmove",r),i.removeEventListener("touchend",o)},i.addEventListener("touchmove",r,{passive:!1}),i.addEventListener("touchend",o,{passive:!1}),this._clearLongTapTimeout(),this._longTapTimeoutId=setTimeout(this._longTapHandler.bind(this,e),kr),this._processEvent(this._makeCompatEvent(e,t),this._handler.touchStartEvent),this._tapTimeoutId===null&&(this._tapCount=0,this._tapTimeoutId=setTimeout(this._resetTapTimeout.bind(this),mi),this._tapCoordinate=this._getCoordinate(t))}},n.prototype._mouseDownHandler=function(e){if(e.button===Lr)return this._preventDefault(e),void this._processEvent(this._makeCompatEvent(e),this._handler.mouseRightClickEvent);if(e.button===Te){var t=this._target.ownerDocument.documentElement;fi()&&t.addEventListener("mouseleave",this._onFirefoxOutsideMouseUp),this._cancelClick=!1,this._mouseMoveStartCoordinate=this._getCoordinate(e),this._unsubscribeRootMouseEvents!==null&&(this._unsubscribeRootMouseEvents(),this._unsubscribeRootMouseEvents=null);var i=this._mouseMoveWithDownHandler.bind(this),r=this._mouseUpHandler.bind(this);this._unsubscribeRootMouseEvents=function(){t.removeEventListener("mousemove",i),t.removeEventListener("mouseup",r)},t.addEventListener("mousemove",i),t.addEventListener("mouseup",r),this._mousePressed=!0,this._firesTouchEvents(e)||(this._processEvent(this._makeCompatEvent(e),this._handler.mouseDownEvent),this._clickTimeoutId===null&&(this._clickCount=0,this._clickTimeoutId=setTimeout(this._resetClickTimeout.bind(this),mi),this._clickCoordinate=this._getCoordinate(e)))}},n.prototype._init=function(){var e=this;this._target.addEventListener("mouseenter",this._mouseEnterHandler.bind(this)),this._target.addEventListener("touchcancel",this._clearLongTapTimeout.bind(this));var t=this._target.ownerDocument,i=function(r){e._handler.mouseDownOutsideEvent!=null&&(r.composed&&e._target.contains(r.composedPath()[0])||r.target!==null&&e._target.contains(r.target)||e._handler.mouseDownOutsideEvent({x:0,y:0,pageX:0,pageY:0}))};this._unsubscribeOutsideTouchEvents=function(){t.removeEventListener("touchstart",i)},this._unsubscribeOutsideMouseEvents=function(){t.removeEventListener("mousedown",i)},t.addEventListener("mousedown",i),t.addEventListener("touchstart",i,{passive:!0}),Ee()&&(this._unsubscribeMobileSafariEvents=function(){e._target.removeEventListener("dblclick",e._onMobileSafariDoubleClick)},this._target.addEventListener("dblclick",this._onMobileSafariDoubleClick)),this._target.addEventListener("mouseleave",this._mouseLeaveHandler.bind(this)),this._target.addEventListener("touchstart",this._touchStartHandler.bind(this),{passive:!0}),this._target.addEventListener("mousedown",function(r){if(r.button===Rr)return r.preventDefault(),!1}),this._target.addEventListener("mousedown",this._mouseDownHandler.bind(this)),this._initPinch(),this._target.addEventListener("touchmove",function(){},{passive:!1})},n.prototype._initPinch=function(){var e=this;(E(this._handler.pinchStartEvent)||E(this._handler.pinchEvent)||E(this._handler.pinchEndEvent))&&(this._target.addEventListener("touchstart",function(t){e._checkPinchState(t.touches)},{passive:!0}),this._target.addEventListener("touchmove",function(t){if(t.touches.length===2&&e._startPinchMiddleCoordinate!==null&&E(e._handler.pinchEvent)){var i=e._getTouchDistance(t.touches[0],t.touches[1])/e._startPinchDistance;e._handler.pinchEvent(D(D({},e._startPinchMiddleCoordinate),{pageX:0,pageY:0}),i),e._preventDefault(t)}},{passive:!1}),this._target.addEventListener("touchend",function(t){e._checkPinchState(t.touches)}))},n.prototype._checkPinchState=function(e){e.length===1&&(this._pinchPrevented=!1),e.length!==2||this._pinchPrevented||this._longTapActive?this._stopPinch():this._startPinch(e)},n.prototype._startPinch=function(e){var t=this._target.getBoundingClientRect();this._startPinchMiddleCoordinate={x:(e[0].clientX-t.left+(e[1].clientX-t.left))/2,y:(e[0].clientY-t.top+(e[1].clientY-t.top))/2},this._startPinchDistance=this._getTouchDistance(e[0],e[1]),E(this._handler.pinchStartEvent)&&this._handler.pinchStartEvent({x:0,y:0,pageX:0,pageY:0}),this._clearLongTapTimeout()},n.prototype._stopPinch=function(){this._startPinchMiddleCoordinate!==null&&(this._startPinchMiddleCoordinate=null,E(this._handler.pinchEndEvent)&&this._handler.pinchEndEvent({x:0,y:0,pageX:0,pageY:0}))},n.prototype._mouseLeaveHandler=function(e){var t,i,r;(t=this._unsubscribeMousemove)===null||t===void 0||t.call(this),(i=this._unsubscribeMouseWheel)===null||i===void 0||i.call(this),(r=this._unsubscribeContextMenu)===null||r===void 0||r.call(this),this._firesTouchEvents(e)||this._acceptMouseLeave&&(this._processEvent(this._makeCompatEvent(e),this._handler.mouseLeaveEvent),this._acceptMouseLeave=!Ee())},n.prototype._longTapHandler=function(e){var t=this._touchWithId(e.touches,this._activeTouchId);t!==null&&(this._processEvent(this._makeCompatEvent(e,t),this._handler.longTapEvent),this._cancelTap=!0,this._longTapActive=!0)},n.prototype._firesTouchEvents=function(e){var t;return E((t=e.sourceCapabilities)===null||t===void 0?void 0:t.firesTouchEvents)?e.sourceCapabilities.firesTouchEvents:this._eventTimeStamp(e)<this._lastTouchEventTimeStamp+Ar},n.prototype._processEvent=function(e,t){t?.call(this._handler,e)},n.prototype._makeCompatEvent=function(e,t){var i=this,r=t??e,o=this._target.getBoundingClientRect();return{x:r.clientX-o.left,y:r.clientY-o.top,pageX:r.pageX,pageY:r.pageY,isTouch:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click"&&e.type!=="wheel",preventDefault:function(){e.type!=="touchstart"&&i._preventDefault(e)}}},n.prototype._getTouchDistance=function(e,t){var i=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(i*i+r*r)},n.prototype._preventDefault=function(e){e.cancelable&&e.preventDefault()},n.prototype._getCoordinate=function(e){return{x:e.pageX,y:e.pageY}},n.prototype._eventTimeStamp=function(e){var t;return(t=e.timeStamp)!==null&&t!==void 0?t:performance.now()},n.prototype._touchWithId=function(e,t){for(var i=0;i<e.length;++i)if(e[i].identifier===t)return e[i];return null},n}(),Wr=function(){function n(e,t){var i=this;this._flingStartTime=new Date().getTime(),this._flingScrollRequestId=null,this._startScrollCoordinate=null,this._touchCoordinate=null,this._touchCancelCrosshair=!1,this._touchZoomed=!1,this._pinchScale=1,this._mouseDownWidget=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,this._mouseMoveTriggerWidgetInfo={pane:null,widget:null},this._boundKeyBoardDownEvent=function(r){if(r.shiftKey)switch(r.code){case"Equal":i._chart.getChartStore().zoom(.5,null,"main");break;case"Minus":i._chart.getChartStore().zoom(-.5,null,"main");break;case"ArrowLeft":(o=i._chart.getChartStore()).startScroll(),o.scroll(-3*o.getBarSpace().bar);break;case"ArrowRight":var o;(o=i._chart.getChartStore()).startScroll(),o.scroll(3*o.getBarSpace().bar)}},this._container=e,this._chart=t,this._event=new Or(e,this,{treatVertDragAsPageScroll:function(){return!1},treatHorzDragAsPageScroll:function(){return!1}}),e.addEventListener("keydown",this._boundKeyBoardDownEvent)}return n.prototype.pinchStartEvent=function(){return this._touchZoomed=!0,this._pinchScale=1,!0},n.prototype.pinchEvent=function(e,t){var i=this._findWidgetByEvent(e),r=i.pane,o=i.widget;if(r?.getId()!==et&&o?.getName()===ut){var a=this._makeWidgetEvent(e,o),s=5*(t-this._pinchScale);return this._pinchScale=t,this._chart.getChartStore().zoom(s,{x:a.x,y:a.y},"main"),!0}return!1},n.prototype.mouseWheelHortEvent=function(e,t){var i=this._chart.getChartStore();return i.startScroll(),i.scroll(t),!0},n.prototype.mouseWheelVertEvent=function(e,t){var i=this._findWidgetByEvent(e).widget,r=this._makeWidgetEvent(e,i);return i?.getName()===ut&&(this._chart.getChartStore().zoom(t,{x:r.x,y:r.y},"main"),!0)},n.prototype.mouseDownEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(this._mouseDownWidget=r,r!==null){var o=this._makeWidgetEvent(e,r);switch(r.getName()){case jt:return r.dispatchEvent("mouseDownEvent",o);case ut:var a=i.getAxisComponent();if(!a.getAutoCalcTickFlag()){var s=a.getRange();this._prevYAxisRange=D({},s)}return this._startScrollCoordinate={x:o.x,y:o.y},this._chart.getChartStore().startScroll(),r.dispatchEvent("mouseDownEvent",o);case Mt:return this._processXAxisScrollStartEvent(r,o);case wt:return this._processYAxisScaleStartEvent(r,o)}}return!1},n.prototype.mouseMoveEvent=function(e){var t,i,r,o=this._findWidgetByEvent(e),a=o.pane,s=o.widget,u=this._makeWidgetEvent(e,s);if(((t=this._mouseMoveTriggerWidgetInfo.pane)===null||t===void 0?void 0:t.getId())===a?.getId()&&((i=this._mouseMoveTriggerWidgetInfo.widget)===null||i===void 0?void 0:i.getName())===s?.getName()||(s?.dispatchEvent("mouseEnterEvent",u),(r=this._mouseMoveTriggerWidgetInfo.widget)===null||r===void 0||r.dispatchEvent("mouseLeaveEvent",u),this._mouseMoveTriggerWidgetInfo={pane:a,widget:s}),s!==null)switch(s.getName()){case ut:var l=s.dispatchEvent("mouseMoveEvent",u),c={x:u.x,y:u.y,paneId:a?.getId()};return l?(s.getForceCursor()!=="pointer"&&(c=void 0),s.setCursor("pointer")):s.setCursor("crosshair"),this._chart.getChartStore().setCrosshair(c),l;case jt:case Mt:case wt:return l=s.dispatchEvent("mouseMoveEvent",u),this._chart.getChartStore().setCrosshair(),l}return!1},n.prototype.pressedMouseMoveEvent=function(e){var t,i;if(this._mouseDownWidget!==null&&this._mouseDownWidget.getName()===jt)return this._mouseDownWidget.dispatchEvent("pressedMouseMoveEvent",e);var r=this._findWidgetByEvent(e),o=r.pane,a=r.widget;if(a!==null&&((t=this._mouseDownWidget)===null||t===void 0?void 0:t.getPane().getId())===o?.getId()&&((i=this._mouseDownWidget)===null||i===void 0?void 0:i.getName())===a.getName()){var s=this._makeWidgetEvent(e,a);switch(a.getName()){case ut:var u=void 0,l=a.dispatchEvent("pressedMouseMoveEvent",s);return l||this._processMainScrollingEvent(a,s),l&&a.getForceCursor()!=="pointer"||(u={x:s.x,y:s.y,paneId:o?.getId()}),this._chart.getChartStore().setCrosshair(u,{forceInvalidate:!0}),l;case Mt:return this._processXAxisScrollingEvent(a,s);case wt:return this._processYAxisScalingEvent(a,s)}}return!1},n.prototype.mouseUpEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case ut:case jt:case Mt:case wt:i=t.dispatchEvent("mouseUpEvent",r)}i&&this._chart.updatePane(1)}return this._mouseDownWidget=null,this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0,i},n.prototype.mouseClickEvent=function(e){var t=this._findWidgetByEvent(e).widget;if(t!==null){var i=this._makeWidgetEvent(e,t);return t.dispatchEvent("mouseClickEvent",i)}return!1},n.prototype.mouseRightClickEvent=function(e){var t=this._findWidgetByEvent(e).widget,i=!1;if(t!==null){var r=this._makeWidgetEvent(e,t);switch(t.getName()){case ut:case Mt:case wt:i=t.dispatchEvent("mouseRightClickEvent",r)}i&&this._chart.updatePane(1)}return!1},n.prototype.mouseDoubleClickEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(r!==null)switch(r.getName()){case ut:var o=this._makeWidgetEvent(e,r);return r.dispatchEvent("mouseDoubleClickEvent",o);case wt:var a=i.getAxisComponent();if(!a.getAutoCalcTickFlag())return a.setAutoCalcTickFlag(!0),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0}),!0}return!1},n.prototype.mouseLeaveEvent=function(){return this._chart.getChartStore().setCrosshair(),!0},n.prototype.touchStartEvent=function(e){var t,i=this._findWidgetByEvent(e),r=i.pane,o=i.widget;if(o!==null){var a=this._makeWidgetEvent(e,o);switch((t=a.preventDefault)===null||t===void 0||t.call(a),o.getName()){case ut:var s=this._chart.getChartStore();if(o.dispatchEvent("mouseDownEvent",a))return this._touchCancelCrosshair=!0,this._touchCoordinate=null,s.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0;this._flingScrollRequestId!==null&&(ke(this._flingScrollRequestId),this._flingScrollRequestId=null),this._flingStartTime=new Date().getTime();var u=r.getAxisComponent();if(!u.getAutoCalcTickFlag()){var l=u.getRange();this._prevYAxisRange=D({},l)}if(this._startScrollCoordinate={x:a.x,y:a.y},s.startScroll(),this._touchZoomed=!1,this._touchCoordinate!==null){var c=a.x-this._touchCoordinate.x,h=a.y-this._touchCoordinate.y;Math.sqrt(c*c+h*h)<10?(this._touchCoordinate={x:a.x,y:a.y},s.setCrosshair({x:a.x,y:a.y,paneId:r?.getId()})):(this._touchCoordinate=null,this._touchCancelCrosshair=!0,s.setCrosshair())}return!0;case Mt:return this._processXAxisScrollStartEvent(o,a);case wt:return this._processYAxisScaleStartEvent(o,a)}}return!1},n.prototype.touchMoveEvent=function(e){var t,i,r,o=this._findWidgetByEvent(e),a=o.pane,s=o.widget;if(s!==null){var u=this._makeWidgetEvent(e,s),l=s.getName(),c=this._chart.getChartStore();switch(l){case ut:return s.dispatchEvent("pressedMouseMoveEvent",u)?((t=u.preventDefault)===null||t===void 0||t.call(u),c.setCrosshair(void 0,{notInvalidate:!0}),this._chart.updatePane(1),!0):(this._touchCoordinate!==null?((i=u.preventDefault)===null||i===void 0||i.call(u),c.setCrosshair({x:u.x,y:u.y,paneId:a?.getId()})):this._processMainScrollingEvent(s,u),!0);case Mt:return(r=u.preventDefault)===null||r===void 0||r.call(u),this._processXAxisScrollingEvent(s,u);case wt:return this._processYAxisScalingEvent(s,u)}}return!1},n.prototype.touchEndEvent=function(e){var t=this,i=this._findWidgetByEvent(e).widget;if(i!==null){var r=this._makeWidgetEvent(e,i);switch(i.getName()){case ut:if(i.dispatchEvent("mouseUpEvent",r),this._startScrollCoordinate!==null){var o=new Date().getTime()-this._flingStartTime,a=(r.x-this._startScrollCoordinate.x)/(o>0?o:1)*20;if(o<200&&Math.abs(a)>0){var s=this._chart.getChartStore(),u=function(){t._flingScrollRequestId=ee(function(){s.startScroll(),s.scroll(a),a*=.975,Math.abs(a)<1?t._flingScrollRequestId!==null&&(ke(t._flingScrollRequestId),t._flingScrollRequestId=null):u()})};u()}}return!0;case Mt:case wt:i.dispatchEvent("mouseUpEvent",r)&&this._chart.updatePane(1)}this._startScrollCoordinate=null,this._prevYAxisRange=null,this._xAxisStartScaleCoordinate=null,this._xAxisStartScaleDistance=0,this._xAxisScale=1,this._yAxisStartScaleDistance=0}return!1},n.prototype.tapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget,o=!1;if(r!==null){var a=this._makeWidgetEvent(e,r),s=r.dispatchEvent("mouseClickEvent",a);if(r.getName()===ut){var u=this._makeWidgetEvent(e,r),l=this._chart.getChartStore();s?(this._touchCancelCrosshair=!0,this._touchCoordinate=null,l.setCrosshair(void 0,{notInvalidate:!0}),o=!0):(this._touchCancelCrosshair||this._touchZoomed||(this._touchCoordinate={x:u.x,y:u.y},l.setCrosshair({x:u.x,y:u.y,paneId:i?.getId()},{notInvalidate:!0}),o=!0),this._touchCancelCrosshair=!1)}(o||s)&&this._chart.updatePane(1)}return o},n.prototype.doubleTapEvent=function(e){return this.mouseDoubleClickEvent(e)},n.prototype.longTapEvent=function(e){var t=this._findWidgetByEvent(e),i=t.pane,r=t.widget;if(r!==null&&r.getName()===ut){var o=this._makeWidgetEvent(e,r);return this._touchCoordinate={x:o.x,y:o.y},this._chart.getChartStore().setCrosshair({x:o.x,y:o.y,paneId:i?.getId()}),!0}return!1},n.prototype._processMainScrollingEvent=function(e,t){var i;if(this._startScrollCoordinate!==null){var r=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&!r.getAutoCalcTickFlag()&&r.scrollZoomEnabled){(i=t.preventDefault)===null||i===void 0||i.call(t);var o=this._prevYAxisRange,a=o.from,s=o.to,u=o.range*((r.reverse?this._startScrollCoordinate.y-t.y:t.y-this._startScrollCoordinate.y)/e.getBounding().height),l=a+u,c=s+u,h=r.valueToRealValue(l,{range:this._prevYAxisRange}),p=r.valueToRealValue(c,{range:this._prevYAxisRange}),d=r.realValueToDisplayValue(h,{range:this._prevYAxisRange}),g=r.realValueToDisplayValue(p,{range:this._prevYAxisRange});r.setRange({from:l,to:c,range:c-l,realFrom:h,realTo:p,realRange:p-h,displayFrom:d,displayTo:g,displayRange:g-d})}var v=t.x-this._startScrollCoordinate.x;this._chart.getChartStore().scroll(v)}},n.prototype._processXAxisScrollStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);return i&&this._chart.updatePane(1),this._xAxisStartScaleCoordinate={x:t.x,y:t.y},this._xAxisStartScaleDistance=t.pageX,i},n.prototype._processXAxisScrollingEvent=function(e,t){var i=e.dispatchEvent("pressedMouseMoveEvent",t);if(i)this._chart.updatePane(1);else if(e.getPane().getAxisComponent().scrollZoomEnabled&&this._xAxisStartScaleDistance!==0){var r=this._xAxisStartScaleDistance/t.pageX;if(Number.isFinite(r)){var o=10*(r-this._xAxisScale);this._xAxisScale=r,this._chart.getChartStore().zoom(o,this._xAxisStartScaleCoordinate,"xAxis")}}return i},n.prototype._processYAxisScaleStartEvent=function(e,t){var i=e.dispatchEvent("mouseDownEvent",t);i&&this._chart.updatePane(1);var r=e.getPane().getAxisComponent().getRange();return this._prevYAxisRange=D({},r),this._yAxisStartScaleDistance=t.pageY,i},n.prototype._processYAxisScalingEvent=function(e,t){var i,r=e.dispatchEvent("pressedMouseMoveEvent",t);if(r)this._chart.updatePane(1);else{var o=e.getPane().getAxisComponent();if(this._prevYAxisRange!==null&&o.scrollZoomEnabled&&this._yAxisStartScaleDistance!==0){(i=t.preventDefault)===null||i===void 0||i.call(t);var a=this._prevYAxisRange,s=a.from,u=a.to,l=a.range,c=l*(t.pageY/this._yAxisStartScaleDistance),h=(c-l)/2,p=s-h,d=u+h,g=o.valueToRealValue(p,{range:this._prevYAxisRange}),v=o.valueToRealValue(d,{range:this._prevYAxisRange}),f=o.realValueToDisplayValue(g,{range:this._prevYAxisRange}),_=o.realValueToDisplayValue(v,{range:this._prevYAxisRange});o.setRange({from:p,to:d,range:c,realFrom:g,realTo:v,realRange:v-g,displayFrom:f,displayTo:_,displayRange:_-f}),this._chart.layout({measureWidth:!0,update:!0,buildYAxisTick:!0})}}return r},n.prototype._findWidgetByEvent=function(e){var t,i,r,o,a=e.x,s=e.y,u=this._chart.getSeparatorPanes(),l=this._chart.getStyles().separator.size;try{for(var c=yt(u),h=c.next();!h.done;h=c.next()){var p=h.value[1],d=(x=p.getBounding()).top-Math.round((7-l)/2);if(a>=x.left&&a<=x.left+x.width&&s>=d&&s<=d+7)return{pane:p,widget:p.getWidget()}}}catch(S){t={error:S}}finally{try{h&&!h.done&&(i=c.return)&&i.call(c)}finally{if(t)throw t.error}}var g=this._chart.getDrawPanes(),v=null;try{for(var f=yt(g),_=f.next();!_.done;_=f.next()){var x,m=_.value;if(a>=(x=m.getBounding()).left&&a<=x.left+x.width&&s>=x.top&&s<=x.top+x.height){v=m;break}}}catch(S){r={error:S}}finally{try{_&&!_.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}var b=null;if(v!==null){if(!E(b)){var w=v.getMainWidget(),C=w.getBounding();a>=C.left&&a<=C.left+C.width&&s>=C.top&&s<=C.top+C.height&&(b=w)}if(!E(b)){var y=v.getYAxisWidget();if(y!==null){var T=y.getBounding();a>=T.left&&a<=T.left+T.width&&s>=T.top&&s<=T.top+T.height&&(b=y)}}}return{pane:v,widget:b}},n.prototype._makeWidgetEvent=function(e,t){var i,r,o,a=(i=t?.getBounding())!==null&&i!==void 0?i:null;return D(D({},e),{x:e.x-((r=a?.left)!==null&&r!==void 0?r:0),y:e.y-((o=a?.top)!==null&&o!==void 0?o:0)})},n.prototype.destroy=function(){this._container.removeEventListener("keydown",this._boundKeyBoardDownEvent),this._event.destroy()},n}(),xi=function(){function n(e,t){this._chartBounding=te(),this._drawPanes=[],this._separatorPanes=new Map,this._layoutOptions={sort:!0,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1},this._layoutPending=!1,this._cacheYAxisWidth={left:0,right:0},this._initContainer(e),this._chartEvent=new Wr(this._chartContainer,this),this._chartStore=new Ki(this,t),this._initPanes(t),this._layout()}return n.prototype._initContainer=function(e){this._container=e,this._chartContainer=St("div",{position:"relative",width:"100%",height:"100%",outline:"none",borderStyle:"none",cursor:"crosshair",boxSizing:"border-box",userSelect:"none",webkitUserSelect:"none",overflow:"hidden",msUserSelect:"none",MozUserSelect:"none",webkitTapHighlightColor:"transparent"}),this._chartContainer.tabIndex=1,e.appendChild(this._chartContainer),this._cacheChartBounding()},n.prototype._cacheChartBounding=function(){this._chartBounding.width=Math.floor(this._chartContainer.clientWidth),this._chartBounding.height=Math.floor(this._chartContainer.clientHeight)},n.prototype._initPanes=function(e){var t,i=this,r=(t=e?.layout)!==null&&t!==void 0?t:[{type:"candle"}],o=function(s){var u,l;if(!E(i._candlePane)){var c=(u=s.options)!==null&&u!==void 0?u:{};Q(c,{id:at}),i._candlePane=i._createPane(Cr,at,c),((l=s.content)!==null&&l!==void 0?l:[]).forEach(function(h){i.createIndicator(h,!0,c)})}},a=function(s){if(!E(i._xAxisPane)){var u=i._createPane(Mr,et,s??{});i._xAxisPane=u}};r.forEach(function(s){var u,l,c;switch(s.type){case"candle":o(s);break;case"indicator":var h=(u=s.content)!==null&&u!==void 0?u:[];if(h.length>0){var p=(c=(l=s.options)===null||l===void 0?void 0:l.id)!==null&&c!==void 0?c:null;E(p)&&(p=ie(Ge));var d=D(D({},s.options),{id:p});h.forEach(function(g){i.createIndicator(g,!0,d)})}break;case"xAxis":a(s.options)}}),o({}),a({order:Number.MAX_SAFE_INTEGER})},n.prototype._createPane=function(e,t,i){var r=new e(this,t,i??{});return this._drawPanes.push(r),r},n.prototype._recalculatePaneHeight=function(e,t,i){if(i===0)return!1;var r=this._drawPanes.filter(function(h){var p=h.getId();return h.getOptions().state==="normal"&&p!==e.getId()&&p!==et}),o=r.length;if(o===0)return!1;if(e.getId()!==at&&E(this._candlePane)&&this._candlePane.getOptions().state==="normal"){var a=this._candlePane.getBounding().height;if(a>0){var s=this._candlePane.getOptions().minHeight,u=a+i;u<s&&(t-=a+i-(u=s)),this._candlePane.setBounding({height:u})}}else{var l=i,c=Math.floor(i/o);r.forEach(function(h,p){var d=h.getBounding().height,g=0;(g=p===o-1?d+l:d+c)<h.getOptions().minHeight&&(g=h.getOptions().minHeight),h.setBounding({height:g}),l-=g-d}),Math.abs(l)>0&&(t-=l)}return e.setBounding({height:t}),!0},n.prototype.getDrawPaneById=function(e){if(e===at)return this._candlePane;if(e===et)return this._xAxisPane;var t=this._drawPanes.find(function(i){return i.getId()===e});return t??null},n.prototype.getContainer=function(){return this._container},n.prototype.getChartStore=function(){return this._chartStore},n.prototype.getXAxisPane=function(){return this._xAxisPane},n.prototype.getDrawPanes=function(){return this._drawPanes},n.prototype.getSeparatorPanes=function(){return this._separatorPanes},n.prototype.layout=function(e){var t,i,r,o,a,s,u,l=this;(t=e.sort)!==null&&t!==void 0&&t&&(this._layoutOptions.sort=e.sort),(i=e.measureHeight)!==null&&i!==void 0&&i&&(this._layoutOptions.measureHeight=e.measureHeight),(r=e.measureWidth)!==null&&r!==void 0&&r&&(this._layoutOptions.measureWidth=e.measureWidth),(o=e.update)!==null&&o!==void 0&&o&&(this._layoutOptions.update=e.update),(a=e.buildYAxisTick)!==null&&a!==void 0&&a&&(this._layoutOptions.buildYAxisTick=e.buildYAxisTick),(s=e.cacheYAxisWidth)!==null&&s!==void 0&&s&&(this._layoutOptions.cacheYAxisWidth=e.cacheYAxisWidth),(u=e.buildYAxisTick)!==null&&u!==void 0&&u&&(this._layoutOptions.forceBuildYAxisTick=e.forceBuildYAxisTick),this._layoutPending||(this._layoutPending=!0,Promise.resolve().then(function(c){l._layout(),l._layoutPending=!1}).catch(function(c){}))},n.prototype._layout=function(){var e=this,t=this._layoutOptions,i=t.sort,r=t.measureHeight,o=t.measureWidth,a=t.update,s=t.buildYAxisTick,u=t.cacheYAxisWidth,l=t.forceBuildYAxisTick;if(i){for(;E(this._chartContainer.firstChild);)this._chartContainer.removeChild(this._chartContainer.firstChild);this._separatorPanes.clear(),this._drawPanes.sort(function(I,M){return I.getOptions().order-M.getOptions().order});var c=null;this._drawPanes.forEach(function(I){if(I.getId()!==et){if(E(c)){var M=new Dr(e,"",c,I);e._chartContainer.appendChild(M.getContainer()),e._separatorPanes.set(I,M)}c=I}e._chartContainer.appendChild(I.getContainer())})}if(r){var h=this._chartBounding.height,p=this.getStyles().separator.size,d=this._xAxisPane.getAxisComponent().getAutoSize(),g=h-d;g<0&&(g=0),this._drawPanes.forEach(function(I){var M=I.getId();if(E(e._separatorPanes.get(I))&&(g-=p),M!==et&&M!==at&&I.getVisible()){var B=I.getBounding().height;B>g?(B=g,g=0):g-=B,I.setBounding({height:B})}}),this._candlePane.setBounding({height:Math.max(g,0)}),this._xAxisPane.setBounding({height:d});var v=0;this._drawPanes.forEach(function(I){var M=e._separatorPanes.get(I);E(M)&&(M.setBounding({height:p,top:v}),v+=p),I.setBounding({top:v}),v+=I.getBounding().height})}var f=o;if((s||l)&&this._drawPanes.forEach(function(I){var M=I.getAxisComponent().buildTicks(l);f||(f=M)}),f){var _=this._chartBounding.width,x=this.getStyles(),m=0,b=!0,w=0,C=!0;this._drawPanes.forEach(function(I){if(I.getId()!==et){var M=I.getAxisComponent(),B=M.inside,O=M.getAutoSize();M.position==="left"?(m=Math.max(m,O),B&&(b=!1)):(w=Math.max(w,O),B&&(C=!1))}}),u&&(m=Math.max(this._cacheYAxisWidth.left,m),w=Math.max(this._cacheYAxisWidth.right,w)),this._cacheYAxisWidth.left=m,this._cacheYAxisWidth.right=w;var y=_,T=0,S=0;b&&(y-=m,T=m),C&&(y-=w,S=w),this._chartStore.setTotalBarSpace(y);var P={width:_},k={width:y,left:T,right:S},R={width:m},A={width:w},F=x.separator.fill,L={};L=F?P:k,this._drawPanes.forEach(function(I){var M;(M=e._separatorPanes.get(I))===null||M===void 0||M.setBounding(L),I.setBounding(P,k,R,A)})}a&&(this._xAxisPane.getAxisComponent().buildTicks(!0),this.updatePane(4)),this._layoutOptions={sort:!1,measureHeight:!1,measureWidth:!1,update:!1,buildYAxisTick:!1,cacheYAxisWidth:!1,forceBuildYAxisTick:!1}},n.prototype.updatePane=function(e,t){var i=this;if(E(t)){var r=this.getDrawPaneById(t);r?.update(e)}else this._drawPanes.forEach(function(o){var a;o.update(e),(a=i._separatorPanes.get(o))===null||a===void 0||a.update(e)})},n.prototype.getDom=function(e,t){var i,r;if(!E(e))return this._chartContainer;var o=this.getDrawPaneById(e);if(E(o))switch(t??"root"){case"root":return o.getContainer();case"main":return o.getMainWidget().getContainer();case"yAxis":return(r=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getContainer())!==null&&r!==void 0?r:null}return null},n.prototype.getSize=function(e,t){var i,r;if(!E(e))return this._chartBounding;var o=this.getDrawPaneById(e);if(E(o))switch(t??"root"){case"root":return o.getBounding();case"main":return o.getMainWidget().getBounding();case"yAxis":return(r=(i=o.getYAxisWidget())===null||i===void 0?void 0:i.getBounding())!==null&&r!==void 0?r:null}return null},n.prototype._resetYAxisAutoCalcTickFlag=function(){this._drawPanes.forEach(function(e){e.getAxisComponent().setAutoCalcTickFlag(!0)})},n.prototype.setSymbol=function(e){e!==this.getSymbol()&&(this._resetYAxisAutoCalcTickFlag(),this._chartStore.setSymbol(e))},n.prototype.getSymbol=function(){return this._chartStore.getSymbol()},n.prototype.setPeriod=function(e){e!==this.getPeriod()&&(this._resetYAxisAutoCalcTickFlag(),this._chartStore.setPeriod(e))},n.prototype.getPeriod=function(){return this._chartStore.getPeriod()},n.prototype.setStyles=function(e){var t=this;this._setOptions(function(){t._chartStore.setStyles(e)})},n.prototype.getStyles=function(){return this._chartStore.getStyles()},n.prototype.setFormatter=function(e){var t=this;this._setOptions(function(){t._chartStore.setFormatter(e)})},n.prototype.getFormatter=function(){return this._chartStore.getFormatter()},n.prototype.setLocale=function(e){var t=this;this._setOptions(function(){t._chartStore.setLocale(e)})},n.prototype.getLocale=function(){return this._chartStore.getLocale()},n.prototype.setTimezone=function(e){var t=this;this._setOptions(function(){t._chartStore.setTimezone(e)})},n.prototype.getTimezone=function(){return this._chartStore.getTimezone()},n.prototype.setThousandsSeparator=function(e){var t=this;this._setOptions(function(){t._chartStore.setThousandsSeparator(e)})},n.prototype.getThousandsSeparator=function(){return this._chartStore.getThousandsSeparator()},n.prototype.setDecimalFold=function(e){var t=this;this._setOptions(function(){t._chartStore.setDecimalFold(e)})},n.prototype.getDecimalFold=function(){return this._chartStore.getDecimalFold()},n.prototype._setOptions=function(e){e(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.setOffsetRightDistance=function(e){this._chartStore.setOffsetRightDistance(e,!0)},n.prototype.getOffsetRightDistance=function(){return this._chartStore.getOffsetRightDistance()},n.prototype.setMaxOffsetLeftDistance=function(e){e<0||this._chartStore.setMaxOffsetLeftDistance(e)},n.prototype.setMaxOffsetRightDistance=function(e){e<0||this._chartStore.setMaxOffsetRightDistance(e)},n.prototype.setLeftMinVisibleBarCount=function(e){e<0||this._chartStore.setLeftMinVisibleBarCount(Math.ceil(e))},n.prototype.setRightMinVisibleBarCount=function(e){e<0||this._chartStore.setRightMinVisibleBarCount(Math.ceil(e))},n.prototype.setBarSpace=function(e){this._chartStore.setBarSpace(e)},n.prototype.getBarSpace=function(){return this._chartStore.getBarSpace()},n.prototype.getVisibleRange=function(){return this._chartStore.getVisibleRange()},n.prototype.resetData=function(){this._chartStore.resetData()},n.prototype.getDataList=function(){return this._chartStore.getDataList()},n.prototype.setDataLoader=function(e){this._resetYAxisAutoCalcTickFlag(),this._chartStore.setDataLoader(e)},n.prototype.createIndicator=function(e,t,i){var r,o=H(e)?{name:e}:e;if(We(o.name)===null)return null;var a=i??{};if(H(a.id)||(a.id=ie(Ge)),H(o.id)||(o.id=ie(o.name)),this._chartStore.addIndicator(o,a.id,t!=null&&t)){var s=!1;return E(this.getDrawPaneById(a.id))||(this._createPane(gi,a.id,a),(r=a.height)!==null&&r!==void 0||(a.height=100),s=!0),this.setPaneOptions(a),this.layout({sort:s,measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0}),o.id}return null},n.prototype.overrideIndicator=function(e){return this._chartStore.overrideIndicator(e)},n.prototype.getIndicators=function(e){return this._chartStore.getIndicatorsByFilter(e??{})},n.prototype.removeIndicator=function(e){var t=this,i=this._chartStore.removeIndicator(e??{});if(i){var r=!1,o=[];this._drawPanes.forEach(function(a){var s=a.getId();s!==at&&s!==et&&o.push(s)}),o.forEach(function(a){if(!t._chartStore.hasIndicators(a)){var s=t._drawPanes.findIndex(function(l){return l.getId()===a}),u=t._drawPanes[s];E(u)&&(r=!0,t._recalculatePaneHeight(u,0,u.getBounding().height),t._drawPanes.splice(s,1),u.destroy())}}),this._drawPanes.length===2&&(this._candlePane.setVisible(!0),this._candlePane.setBounding({height:this._chartBounding.height-this._xAxisPane.getBounding().height})),this.layout({sort:r,measureHeight:r,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})}return i},n.prototype.createOverlay=function(e){var t=this,i=[],r=[],o=function(s){E(s.paneId)&&t.getDrawPaneById(s.paneId)!==null?r.push(!0):(s.paneId=at,r.push(!1)),i.push(s)};H(e)?o({name:e}):bt(e)?e.forEach(function(s){var u=null;u=H(s)?{name:s}:s,o(u)}):o(e);var a=this._chartStore.addOverlays(i,r);return bt(e)?a:a[0]},n.prototype.getOverlays=function(e){return this._chartStore.getOverlaysByFilter(e??{})},n.prototype.overrideOverlay=function(e){return this._chartStore.overrideOverlay(e)},n.prototype.removeOverlay=function(e){return this._chartStore.removeOverlay(e??{})},n.prototype.setPaneOptions=function(e){var t,i,r,o=this,a=!1,s=!1,u=E(e.id),l=function(d){var g=d.getId();if(u&&e.id===g||!u){if(g!==et){if(W(e.height)&&e.height>0){var v=Math.max((r=e.minHeight)!==null&&r!==void 0?r:d.getOptions().minHeight,0),f=Math.max(v,e.height);s=!0,a=!0,d.setOriginalBounding({height:f}),c._recalculatePaneHeight(d,f,-f)}if(E(e.state)&&d.getOptions().state!==e.state){a=!0,s=!0;var _=e.state;switch(_){case"maximize":if(!E(c._drawPanes.find(function(C){var y=C.getId();return C.getOptions().state==="maximize"&&y!==et}))){d.getOptions().state==="normal"&&d.setOriginalBounding({height:d.getBounding().height}),d.setOptions({state:_});var x=c._chartBounding.height;d.setBounding({height:x-c._xAxisPane.getBounding().height}),c._drawPanes.forEach(function(C){var y;C.getId()!==et&&C.getId()!==g&&(C.setBounding({height:C.getOriginalBounding().height}),C.setVisible(!1),(y=o._separatorPanes.get(C))===null||y===void 0||y.setVisible(!1))})}break;case"minimize":f=d.getBounding().height;var m=d.getOptions().state,b=f-30;m==="maximize"&&(b=d.getOriginalBounding().height-30),c._recalculatePaneHeight(d,30,b)&&(m==="normal"&&d.setOriginalBounding({height:f}),d.setOptions({state:_})),c._drawPanes.forEach(function(C){var y;C.getId()!==et&&(C.setVisible(!0),(y=o._separatorPanes.get(C))===null||y===void 0||y.setVisible(!0))});break;default:f=d.getOriginalBounding().height,c._recalculatePaneHeight(d,f,d.getBounding().height-f)&&d.setOptions({state:_}),c._drawPanes.forEach(function(C){var y;C.getId()!==et&&(C.setVisible(!0),(y=o._separatorPanes.get(C))===null||y===void 0||y.setVisible(!0))})}}}E(e.axis)&&(s=!0);var w=D({},e);if(delete w.state,d.setOptions(w),g===e.id)return"break"}},c=this;try{for(var h=yt(this._drawPanes),p=h.next();!p.done&&l(p.value)!=="break";p=h.next());}catch(d){t={error:d}}finally{try{p&&!p.done&&(i=h.return)&&i.call(h)}finally{if(t)throw t.error}}s&&this.layout({measureHeight:a,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.getPaneOptions=function(e){var t;if(E(e)){var i=this.getDrawPaneById(e);return(t=i?.getOptions())!==null&&t!==void 0?t:null}return this._drawPanes.map(function(r){return r.getOptions()})},n.prototype.setZoomEnabled=function(e){this._chartStore.setZoomEnabled(e)},n.prototype.isZoomEnabled=function(){return this._chartStore.isZoomEnabled()},n.prototype.setZoomAnchor=function(e){this._chartStore.setZoomAnchor(e)},n.prototype.getZoomAnchor=function(){return this._chartStore.getZoomAnchor()},n.prototype.setScrollEnabled=function(e){this._chartStore.setScrollEnabled(e)},n.prototype.isScrollEnabled=function(){return this._chartStore.isScrollEnabled()},n.prototype.scrollByDistance=function(e,t){var i=this,r=W(t)&&t>0?t:0;if(this._chartStore.startScroll(),r>0){var o=new pe({duration:r});o.doFrame(function(a){var s=e*(a/r);i._chartStore.scroll(s)}),o.start()}else this._chartStore.scroll(e)},n.prototype.scrollToRealTime=function(e){var t=this._chartStore.getBarSpace().bar,i=(this._chartStore.getLastBarRightSideDiffBarCount()-this._chartStore.getInitialOffsetRightDistance()/t)*t;this.scrollByDistance(i,e)},n.prototype.scrollToDataIndex=function(e,t){var i=(this._chartStore.getLastBarRightSideDiffBarCount()+(this.getDataList().length-1-e))*this._chartStore.getBarSpace().bar;this.scrollByDistance(i,t)},n.prototype.scrollToTimestamp=function(e,t){var i=ve(this.getDataList(),"timestamp",e);this.scrollToDataIndex(i,t)},n.prototype.zoomAtCoordinate=function(e,t,i){var r=this,o=W(i)&&i>0?i:0,a=this._chartStore.getBarSpace().bar,s=a*e-a;if(o>0){var u=0,l=new pe({duration:o});l.doFrame(function(c){var h=s*(c/o),p=(h-u)/r._chartStore.getBarSpace().bar*10;r._chartStore.zoom(p,t??null,"main"),u=h}),l.start()}else this._chartStore.zoom(s/a*10,t??null,"main")},n.prototype.zoomAtDataIndex=function(e,t,i){var r=this._chartStore.dataIndexToCoordinate(t);this.zoomAtCoordinate(e,{x:r,y:0},i)},n.prototype.zoomAtTimestamp=function(e,t,i){var r=ve(this.getDataList(),"timestamp",t);this.zoomAtDataIndex(e,r,i)},n.prototype.convertToPixel=function(e,t){var i,r=this,o=t??{},a=o.paneId,s=a===void 0?at:a,u=o.absolute,l=u!==void 0&&u,c=[];if(s!==et){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),g=this._xAxisPane.getAxisComponent(),v=h.getAxisComponent();c=d.map(function(f){var _={},x=f.dataIndex;if(W(f.timestamp)&&(x=r._chartStore.timestampToDataIndex(f.timestamp)),W(x)&&(_.x=g.convertToPixel(x)),W(f.value)){var m=v.convertToPixel(f.value);_.y=l?p.top+m:m}return _})}}return bt(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},n.prototype.convertFromPixel=function(e,t){var i,r=this,o=t??{},a=o.paneId,s=a===void 0?at:a,u=o.absolute,l=u!==void 0&&u,c=[];if(s!==et){var h=this.getDrawPaneById(s);if(h!==null){var p=h.getBounding(),d=[].concat(e),g=this._xAxisPane.getAxisComponent(),v=h.getAxisComponent();c=d.map(function(f){var _,x={};if(W(f.x)){var m=g.convertFromPixel(f.x);x.dataIndex=m,x.timestamp=(_=r._chartStore.dataIndexToTimestamp(m))!==null&&_!==void 0?_:void 0}if(W(f.y)){var b=l?f.y-p.top:f.y;x.value=v.convertFromPixel(b)}return x})}}return bt(e)?c:(i=c[0])!==null&&i!==void 0?i:{}},n.prototype.executeAction=function(e,t){var i;if(e==="onCrosshairChange"){var r=null;E(t)&&((i=(r=D({},t)).paneId)!==null&&i!==void 0||(r.paneId=at)),this._chartStore.setCrosshair(r,{notExecuteAction:!0})}},n.prototype.subscribeAction=function(e,t){this._chartStore.subscribeAction(e,t)},n.prototype.unsubscribeAction=function(e,t){this._chartStore.unsubscribeAction(e,t)},n.prototype.getConvertPictureUrl=function(e,t,i){var r=this,o=this._chartBounding,a=o.width,s=o.height,u=St("canvas",{width:"".concat(a,"px"),height:"".concat(s,"px"),boxSizing:"border-box"}),l=u.getContext("2d"),c=Ft(u);u.width=a*c,u.height=s*c,l.scale(c,c),l.fillStyle=i??"#FFFFFF",l.fillRect(0,0,a,s);var h=e!=null&&e;return this._drawPanes.forEach(function(p){var d=r._separatorPanes.get(p);if(E(d)){var g=d.getBounding();l.drawImage(d.getImage(h),g.left,g.top,g.width,g.height)}var v=p.getBounding();l.drawImage(p.getImage(h),0,v.top,a,v.height)}),u.toDataURL("image/".concat(t??"jpeg"))},n.prototype.resize=function(){this._cacheChartBounding(),this.layout({measureHeight:!0,measureWidth:!0,update:!0,buildYAxisTick:!0,forceBuildYAxisTick:!0})},n.prototype.destroy=function(){this._chartEvent.destroy(),this._drawPanes.forEach(function(e){e.destroy()}),this._drawPanes=[],this._separatorPanes.clear(),this._chartStore.destroy(),this._container.removeChild(this._chartContainer)},n}(),ae=new Map,zr=1,Vr={clone:Vt,merge:Q,isString:H,isNumber:W,isValid:E,isObject:ft,isArray:bt,isFunction:st,isBoolean:Xt,formatValue:nt,formatPrecision:ot,formatBigNumber:Pe,formatDate:Se,formatThousands:Me,formatFoldDecimal:Ie,calcTextWidth:mt,getLinearSlopeIntercept:ne,getLinearYFromSlopeIntercept:_e,getLinearYFromCoordinates:Ut,checkCoordinateOnArc:Ke,checkCoordinateOnCircle:je,checkCoordinateOnLine:Ne,checkCoordinateOnPolygon:qe,checkCoordinateOnRect:be,checkCoordinateOnText:$e};rt.dispose=function(n){var e,t,i=null;if(n instanceof xi)i=n.id;else{var r=null;i=(e=(r=H(n)?document.getElementById(n):n)==null?void 0:r.getAttribute("k-line-chart-id"))!==null&&e!==void 0?e:null}i!==null&&((t=ae.get(i))===null||t===void 0||t.destroy(),ae.delete(i))},rt.getFigureClass=function(n){var e;return(e=qt[n])!==null&&e!==void 0?e:null},rt.getOverlayClass=function(n){var e;return(e=Zt[n])!==null&&e!==void 0?e:null},rt.getSupportedFigures=function(){return Object.keys(qt)},rt.getSupportedIndicators=function(){return Object.keys(re)},rt.getSupportedLocales=function(){return Object.keys(oe)},rt.getSupportedOverlays=function(){return Object.keys(Zt)},rt.init=function(n,e){var t=null;if((t=H(n)?document.getElementById(n):n)===null)return null;var i=ae.get(t.id);if(E(i))return i;var r="k_line_chart_".concat(zr++);return(i=new xi(t,e)).id=r,t.setAttribute("k-line-chart-id",r),ae.set(r,i),i},rt.registerFigure=function(n){qt[n.name]=Ve.extend(n)},rt.registerIndicator=function(n){re[n.name]=Le.extend(n)},rt.registerLocale=function(n,e){oe[n]=D(D({},oe[n]),e)},rt.registerOverlay=function(n){Zt[n.name]=ze.extend(n)},rt.registerStyles=function(n,e){Xe[n]=e},rt.registerXAxis=function(n){Ce[n.name]=vi.extend(n)},rt.registerYAxis=function(n){we[n.name]=Qt.extend(n)},rt.utils=Vr,rt.version=function(){return"10.0.0-beta1"}});</script>
    <script>var _hmt=_hmt||[];(function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?f5f0d6d79a8fb0825e285ab72dc542cb";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})();</script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><!--[--><div class="loading page-loading" data-v-237f9eb3><div class="loader" data-v-237f9eb3></div></div><div class="Layout" data-v-0b4d615f><!--[--><!----><!--]--><!--[--><span tabindex="-1" data-v-02846e27></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-02846e27>Skip to content</a><!--]--><!----><header class="VPNav" data-v-0b4d615f data-v-acb87d31><div class="VPNavBar" data-v-acb87d31 data-v-669935a8><div class="wrapper" data-v-669935a8><div class="container" data-v-669935a8><div class="title" data-v-669935a8><div class="NavBarTitle has-sidebar" data-v-669935a8 data-v-84ad2c7e><a class="title" href="/" data-v-84ad2c7e><!--[--><!--]--><svg fill="var(--vp-c-indigo-1)" width="133" height="24" style="transition:all 0.3s ease;" viewBox="0 0 398 72" data-v-84ad2c7e><path d="M114.40619,17.071849942207336L114.40619,35.54174994220733L128.14,17.071849942207336L140.0076,17.071849942207336L126.0983,35.168949942207334L141.1561,55.34764994220733L129.8946,55.34764994220733L119.8455,41.32044994220733L114.40619,47.09904994220734L114.40619,55.34764994220733L106,55.34764994220733L106,17.087351742207336L114.40619,17.087351742207336L114.40619,17.071849942207336Z" data-v-84ad2c7e></path><path d="M154.84208782714845,47.145602496910094L167.31579782714843,47.145602496910094L167.31579782714843,55.332102496910096L146.43589782714844,55.332102496910096L146.43589782714844,17.071802496910095L154.84208782714845,17.071802496910095L154.84208782714845,47.145602496910094Z" data-v-84ad2c7e></path><path d="M182.15032984863282,21.033002176856996C182.15032984863282,23.487352176856994,180.1245598486328,25.475702176856995,177.58834984863282,25.475702176856995C175.0521398486328,25.475702176856995,172.9784698486328,23.502902176856995,172.9784698486328,21.033002176856996C172.9784698486328,18.563102176856994,175.06804984863282,16.543652176856995,177.58834984863282,16.543652176856995C180.1086398486328,16.543652176856995,182.15032984863282,18.578652176856995,182.15032984863282,21.033002176856996ZM180.5073698486328,26.547552176856996L181.6558498486328,26.547552176856996L181.6558498486328,27.666052176856994L181.6558498486328,54.213652176856996L181.6558498486328,55.332052176857L180.5073698486328,55.332052176857L174.50975984863283,55.332052176857L173.36127984863282,55.332052176857L173.36127984863282,54.213652176856996L173.36127984863282,27.666052176856994L173.36127984863282,26.547552176856996L174.50975984863283,26.547552176856996L180.5073698486328,26.547552176856996Z" data-v-84ad2c7e></path><path d="M214.53091014404296,40.776701406860354L214.53091014404296,55.33210140686035L206.39591014404297,55.33210140686035L206.39591014404297,40.776701406860354C206.39591014404297,37.25050140686035,204.46581014404296,33.66220140686035,200.23881014404296,33.66220140686035C196.17131014404296,33.66220140686035,192.93326014404298,36.87770140686035,192.93326014404298,40.776701406860354L192.93326014404298,55.33210140686035L184.79821014404297,55.33210140686035L184.79821014404297,26.26799940686035L192.93326014404298,26.26799940686035L192.93326014404298,27.55730140686035C195.07071014404298,26.43885040686035,197.60691014404296,25.73980140686035,200.23881014404296,25.73980140686035C208.48551014404296,25.73980140686035,214.53091014404296,32.06215140686035,214.53091014404296,40.776701406860354Z" data-v-84ad2c7e></path><path d="M249.91042846679687,45.17288851470947C246.5607284667969,52.61368851470947,239.57412846679688,57.42918851470947,231.23172846679688,55.61168851470947C223.75068846679687,54.011688514709476,218.19970146679688,46.94378851470947,218.98133606679687,39.130188514709474C220.79977846679688,20.396148514709473,247.56562846679688,21.14179851470947,249.47972846679687,39.61168851470947C242.66862846679686,41.646688514709474,235.74592846679687,43.52628851470948,228.80719846679688,45.49908851470947C232.76302846679687,50.050588514709474,239.79752846679688,48.23308851470947,242.15822846679688,43.09138851470947L249.91042846679687,45.17288851470947ZM227.00471846679687,39.704888514709474L240.24402846679686,35.899088514709476C237.88332846679688,29.76314851470947,225.68074846679687,33.289348514709474,227.00471846679687,39.704888514709474Z" data-v-84ad2c7e></path><path d="M283.7106639404297,40.6214L289.8039639404297,46.5554L286.7254639404297,49.5535C282.92906394042967,53.2972,277.8726639404297,55.3787,272.4333639404297,55.3321C261.3314039404297,55.3321,252.2711639404297,46.5088,252.2711639404297,35.6971C252.2711639404297,24.83885,261.33135394042966,16,272.4333639404297,16C277.8247639404297,16,282.9929639404297,18.08155,286.7254639404297,21.77865L289.8039639404297,24.7146L283.7106639404297,30.648600000000002L280.6321639404297,27.712699999999998C278.4308639404297,25.52235,275.5277639404297,24.450499999999998,272.44926394042966,24.388350000000003C266.13266394042967,24.388350000000003,260.9006939404297,29.468,260.9006939404297,35.6816C260.9006939404297,41.833,266.1166639404297,46.928200000000004,272.44926394042966,46.928200000000004C275.5756639404297,46.928200000000004,278.4468639404297,45.7476,280.6321639404297,43.603899999999996L283.7106639404297,40.6214Z" data-v-84ad2c7e></path><path d="M324.7527347900391,40.77679981307983L324.7527347900391,55.332099813079836L316.61773479003904,55.332099813079836L316.61773479003904,40.77679981307983C316.61773479003904,37.250499813079834,314.68763479003906,33.66219981307984,310.4606347900391,33.66219981307984C306.3931347900391,33.66219981307984,303.15508479003904,36.87779981307983,303.15508479003904,40.77679981307983L303.15508479003904,55.332099813079836L295.02003479003906,55.332099813079836L295.02003479003906,16.683499813079834L303.15508479003904,17.009700813079835L303.15508479003904,27.557299813079833C305.29253479003904,26.438849813079834,307.82873479003905,25.739799813079834,310.4606347900391,25.739799813079834C318.70733479003906,25.739799813079834,324.7527347900391,32.062199813079836,324.7527347900391,40.77679981307983Z" data-v-84ad2c7e></path><path d="M350.4818719970703,26.330101210144043L358.55307199707033,26.330101210144043L358.55307199707033,55.54959821014404L350.4818719970703,55.54959821014404L350.4818719970703,54.15149821014404C348.2805719970703,55.33209821014404,345.8081719970703,55.96899821014404,343.17627199707033,55.96899821014404C334.6584219970703,55.96899821014404,327.7356719970703,49.22729821014404,327.7356719970703,40.93209821014404C327.7356719970703,32.68354821014404,334.6584219970703,25.941798210144043,343.17627199707033,25.941798210144043C345.8081719970703,25.941798210144043,348.2806719970703,26.578698210144044,350.4818719970703,27.712698210144044L350.4818719970703,26.330101210144043ZM350.4818719970703,40.947598210144044C350.4818719970703,37.04859821014404,347.1799719970703,33.83304821014404,343.17627199707033,33.83304821014404C339.10877199707033,33.83304821014404,335.8707219970703,37.04859821014404,335.8707219970703,40.947598210144044C335.8707219970703,44.90879821014404,339.10877199707033,48.06219821014405,343.17627199707033,48.06219821014405C347.1799719970703,48.06219821014405,350.4818719970703,44.90879821014404,350.4818719970703,40.947598210144044Z" data-v-84ad2c7e></path><path d="M377.51888061523437,25.957301139831543L378.6672806152344,25.957301139831543L378.6672806152344,33.506801139831545L377.51888061523437,33.506801139831545L377.0721806152344,33.506801139831545C371.40960061523435,33.56895113983154,370.8034506152344,39.068001139831544,370.8034506152344,41.42920113983154L370.8034506152344,54.21370113983154L370.8034506152344,55.33210113983154L362.5088806152344,55.33210113983154L362.5088806152344,54.21370113983154L362.5088806152344,27.66605113983154L362.5088806152344,26.330149139831544L370.8034506152344,26.330149139831544L370.8034506152344,27.66605113983154L370.8034506152344,27.712651139831543C372.6697806152344,26.547601139831542,374.9347806152344,25.957301139831543,377.51888061523437,25.957301139831543Z" data-v-84ad2c7e></path><path d="M396.85155932617187,23.22330319480896L397.99995932617185,23.22330319480896L397.99995932617185,30.710653194808962L396.85155932617187,30.710653194808962L393.5496593261719,30.710653194808962L393.5496593261719,40.03105319480896L393.5496593261719,47.68935319480896C393.5496593261719,48.434953194808955,394.8097593261719,48.54375319480896,395.3680593261719,48.54375319480896C395.8625593261719,48.54375319480896,396.19755932617187,48.49715319480896,396.4687593261719,48.434953194808955L397.99995932617185,47.90685319480896L397.99995932617185,55.08355319480896L397.2343593261719,55.40975319480896C396.19755932617187,55.78255319480896,395.0330593261719,55.99995319480896,393.70915932617186,55.99995319480896C388.8121793261719,55.99995319480896,385.2391593261719,52.52035319480896,385.2391593261719,47.70485319480896L385.2391593261719,30.741753194808958L383.1495693261719,30.741753194808958L382.0170593261719,30.741753194808958L382.0170593261719,23.254303194808962L383.1655393261719,23.254303194808962L385.2551193261719,23.254303194808962L385.2551193261719,18.17470319480896L385.2551193261719,17.05625319480896L393.5496593261719,17.05625319480896L393.5496593261719,18.17470319480896L393.5496593261719,23.254303194808962L396.85155932617187,23.254303194808962L396.85155932617187,23.22330319480896Z" data-v-84ad2c7e></path><rect x="33.251625061035156" y="21.002683639526367" width="5.999998092651367" height="29.99462127685547" rx="0" data-v-84ad2c7e></rect><path d="M52.3097,5.21198L52.3097,3.90897C47.4065,1.41911,41.871,0,36,0C16.1161,0,0,16.1132,0,35.9935C0,47.6688,5.56129,58.0283,14.1677,64.6077L14.1677,56.5576C9.10967,51.1908,5.99999,43.9534,5.99999,35.9935C5.99999,19.4288,19.4322,5.99892,36,5.99892C39.6258,5.99892,43.0968,6.64396,46.3096,7.83086L46.3096,32.2136L52.3096,32.2136L52.3097,5.21198Z" data-v-84ad2c7e></path><path d="M58.309641775512695,7.753461837768555L58.309641775512695,15.945551837768555C63.0967417755127,21.260761837768555,65.9999417755127,28.291761837768554,65.9999417755127,35.99356183776855C65.9999417755127,52.55836183776856,52.567741775512694,65.98816183776856,35.999941775512696,65.98816183776856C32.5548417755127,65.98816183776856,29.251581775512697,65.40766183776856,26.167731775512696,64.33686183776855L26.167731775512696,39.69616183776856L20.167741775512695,39.69616183776856L20.167741775512695,66.69776183776855L20.167741775512695,68.33616183776856C24.941931775512696,70.68416183776856,30.322541775512697,71.99996183776855,35.999941775512696,71.99996183776855C55.88384177551269,71.99996183776855,71.9999417755127,55.88676183776855,71.9999417755127,36.006461837768555C72.0128417755127,24.537561837768553,66.65804177551269,14.345811837768554,58.309641775512695,7.753461837768555Z" data-v-84ad2c7e></path></svg><!----><!--[--><!--]--></a></div></div><div class="content" data-v-669935a8><div class="content-body" data-v-669935a8><!--[--><!--]--><div class="VPNavBarSearch search" data-v-669935a8><!--[--><!----><div id="local-search"><button type="button" aria-label="ÊêúÁ¥¢ÊñáÊ°£" aria-keyshortcuts="/ control+k meta+k" class="DocSearch DocSearch-Button"><span class="DocSearch-Button-Container"><span class="vpi-search DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">ÊêúÁ¥¢ÊñáÊ°£</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key"></kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-669935a8 data-v-516d488a><span id="main-nav-aria-label" class="visually-hidden" data-v-516d488a> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/guide/introduction" tabindex="0" data-v-516d488a data-v-73a522e4><!--[--><span data-v-73a522e4>ÊåáÂçó</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-516d488a data-v-d526fb88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d526fb88><span class="text" data-v-d526fb88><!----><span data-v-d526fb88>API</span><span class="vpi-chevron-down text-icon" data-v-d526fb88></span></span></button><div class="menu" data-v-d526fb88><div class="VPMenu" data-v-d526fb88 data-v-7b1aeb82><div class="items" data-v-7b1aeb82><!--[--><!--[--><div class="VPMenuLink" data-v-7b1aeb82 data-v-1a2d1fe6><a class="VPLink link" href="/api/chart/init" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>ÂõæË°®API</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7b1aeb82 data-v-1a2d1fe6><a class="VPLink link" href="/api/instance/getDom" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>ÂÆû‰æãAPI</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://pro.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-516d488a data-v-73a522e4><!--[--><span data-v-73a522e4>Pro</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://preview.klinecharts.com" target="_blank" rel="noreferrer" tabindex="0" data-v-516d488a data-v-73a522e4><!--[--><span data-v-73a522e4>È¢ÑËßà</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/customize" tabindex="0" data-v-516d488a data-v-73a522e4><!--[--><span data-v-73a522e4>ÂÆöÂà∂</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sponsor" tabindex="0" data-v-516d488a data-v-73a522e4><!--[--><span data-v-73a522e4>ËµûÂä©</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-516d488a data-v-d526fb88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-d526fb88><span class="text" data-v-d526fb88><!----><span data-v-d526fb88>10.0.0-beta1</span><span class="vpi-chevron-down text-icon" data-v-d526fb88></span></span></button><div class="menu" data-v-d526fb88><div class="VPMenu" data-v-d526fb88 data-v-7b1aeb82><div class="items" data-v-7b1aeb82><!--[--><!--[--><div class="VPMenuLink" data-v-7b1aeb82 data-v-1a2d1fe6><a class="VPLink link vp-external-link-icon" href="https://v9.klinecharts.com" target="_blank" rel="noreferrer" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>9.x ÊñáÊ°£</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-7b1aeb82 data-v-1a2d1fe6><a class="VPLink link vp-external-link-icon" href="https://v8.klinecharts.com/zh-CN" target="_blank" rel="noreferrer" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>8.x ÊñáÊ°£</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-669935a8 data-v-dcebbc71 data-v-d526fb88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-d526fb88><span class="text" data-v-d526fb88><span class="vpi-languages option-icon" data-v-d526fb88></span><!----><span class="vpi-chevron-down text-icon" data-v-d526fb88></span></span></button><div class="menu" data-v-d526fb88><div class="VPMenu" data-v-d526fb88 data-v-7b1aeb82><!----><!--[--><!--[--><div class="items" data-v-dcebbc71><p class="title" data-v-dcebbc71>üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá</p><!--[--><div class="VPMenuLink" data-v-dcebbc71 data-v-1a2d1fe6><a class="VPLink link" href="/en-US/guide/i18n" lang="en-US" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>üá¨üáß English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-669935a8 data-v-bc699976><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bc699976 data-v-567fca17 data-v-ee63a72c><span class="check" data-v-ee63a72c><span class="icon" data-v-ee63a72c><!--[--><span class="vpi-sun sun" data-v-567fca17></span><span class="vpi-moon moon" data-v-567fca17></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-669935a8 data-v-a7af3920 data-v-6720e8b1><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/guide/feedback" aria-label target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-669935a8 data-v-911d88f4 data-v-d526fb88><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d526fb88><span class="vpi-more-horizontal icon" data-v-d526fb88></span></button><div class="menu" data-v-d526fb88><div class="VPMenu" data-v-d526fb88 data-v-7b1aeb82><!----><!--[--><!--[--><div class="group translations" data-v-911d88f4><p class="trans-title" data-v-911d88f4>üá®üá≥ ÁÆÄ‰Ωì‰∏≠Êñá</p><!--[--><div class="VPMenuLink" data-v-911d88f4 data-v-1a2d1fe6><a class="VPLink link" href="/en-US/guide/i18n" lang="en-US" data-v-1a2d1fe6><!--[--><span data-v-1a2d1fe6>üá¨üáß English</span><!--]--></a></div><!--]--></div><div class="group" data-v-911d88f4><div class="item appearance" data-v-911d88f4><p class="label" data-v-911d88f4>‰∏ªÈ¢ò</p><div class="appearance-action" data-v-911d88f4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-911d88f4 data-v-567fca17 data-v-ee63a72c><span class="check" data-v-ee63a72c><span class="icon" data-v-ee63a72c><!--[--><span class="vpi-sun sun" data-v-567fca17></span><span class="vpi-moon moon" data-v-567fca17></span><!--]--></span></span></button></div></div></div><div class="group" data-v-911d88f4><div class="item social-links" data-v-911d88f4><div class="VPSocialLinks social-links-list" data-v-911d88f4 data-v-6720e8b1><!--[--><a class="VPSocialLink no-icon" href="https://github.com/klinecharts/KLineChart" aria-label="github" target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://t.me/klinecharts" aria-label target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><svg viewBox="0 0 1024 1024"><path d="M679.424 746.862l84.005-395.996c7.424-34.852-12.581-48.567-35.438-40.009L234.277 501.138c-33.72 13.13-33.134 32-5.706 40.558l126.282 39.424 293.156-184.576c13.714-9.143 26.295-3.986 16.018 5.157L426.898 615.973l-9.143 130.304c13.13 0 18.871-5.706 25.71-12.581l61.696-59.429 128 94.282c23.442 13.129 40.01 6.29 46.3-21.724zM1024 512c0 282.843-229.157 512-512 512S0 794.843 0 512 229.157 0 512 0s512 229.157 512 512z"/></svg></a><a class="VPSocialLink no-icon" href="/guide/feedback" aria-label target="_blank" rel="me noopener" data-v-6720e8b1 data-v-2ceb582f><svg viewBox="0 0 1193 1024"><path d="M806.287212 309.998684c13.642769 0 27.127442 1.050875 40.528417 2.631837C810.407012 133.842355 629.080008 1.032275 422.076327 1.032275 190.688636 1.032275 1.112733 167.275045 1.112733 378.379926c0 121.864245 63.061771 221.92052 168.465415 299.536438l-42.100079 133.470365 147.122433-77.783315c52.692523 10.992333 94.922799 22.27296 147.475825 22.27296 13.20568 0 26.309062-0.678884 39.310147-1.757657-8.2396-29.666281-13.001085-60.727528-13.001085-92.960546 0-193.8538 157.910172-351.159486 357.901823-351.159487z m-226.356512-120.301883c31.684332 0 52.683223 21.975367 52.683222 55.370858 0 33.255994-20.998891 55.519654-52.692522 55.519654-31.544835 0-63.191968-22.27296-63.191968-55.519654 0-33.39549 31.647133-55.370858 63.191968-55.370858zM285.323142 300.596612c-31.554135 0-63.405863-22.27296-63.405863-55.528953 0-33.39549 31.851728-55.370858 63.405863-55.370858 31.544835 0 52.543726 21.975367 52.543726 55.370858 0 33.255994-20.998891 55.519654-52.543726 55.519654z" p-id="3781"></path><path d="M1190.460898 655.8201c0-177.393199-168.400317-321.986094-357.557732-321.986094-200.289244 0-358.04132 144.592894-358.041319 321.986094 0 177.700092 157.752075 321.976794 358.041319 321.976794 41.923384 0 84.237358-11.159729 126.328138-22.27296l115.447401 66.651484-31.656433-110.881212c84.507051-66.80958 147.438625-155.417832 147.438626-255.474106z m-473.618918-55.519654c-20.961692 0-42.127979-21.966067-42.127978-44.387824 0-22.114864 21.166287-44.369224 42.127978-44.369224 31.823828 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-20.859394 44.387824-52.683223 44.387824z m231.536487 0c-20.831495 0-41.830386-21.966067-41.830386-44.387824 0-22.114864 20.998891-44.369224 41.830386-44.369224 31.544835 0 52.683223 22.25436 52.683223 44.369224 0 22.412457-21.138388 44.387824-52.683223 44.387824z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-669935a8 data-v-48d3bfe8><span class="container" data-v-48d3bfe8><span class="top" data-v-48d3bfe8></span><span class="middle" data-v-48d3bfe8></span><span class="bottom" data-v-48d3bfe8></span></span></button></div></div></div></div><div class="divider" data-v-669935a8><div class="divider-line" data-v-669935a8></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-0b4d615f data-v-410ea8b2><div class="container" data-v-410ea8b2><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-410ea8b2><span class="vpi-align-left menu-icon" data-v-410ea8b2></span><span class="menu-text" data-v-410ea8b2>ËèúÂçï</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-410ea8b2 data-v-709b8f51><button data-v-709b8f51>ËøîÂõûÈ°∂ÈÉ®</button><!----></div></div></div><aside class="VPSidebar" data-v-0b4d615f data-v-add493db><div class="curtain" data-v-add493db></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-add493db><span class="visually-hidden" id="sidebar-aria-label" data-v-add493db> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-ebceedf2><section class="VPSidebarItem level-0 collapsible" data-v-ebceedf2 data-v-8a5d243e><div class="item" role="button" tabindex="0" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><h2 class="text" data-v-8a5d243e>ÂºÄÂßã</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-8a5d243e><span class="vpi-chevron-right caret-icon" data-v-8a5d243e></span></div></div><div class="items" data-v-8a5d243e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/introduction" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>ÁÆÄ‰ªã</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/quick-start" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Âø´ÈÄü‰∏äÊâã</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ebceedf2><section class="VPSidebarItem level-0 collapsible has-active" data-v-ebceedf2 data-v-8a5d243e><div class="item" role="button" tabindex="0" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><h2 class="text" data-v-8a5d243e>Âü∫Á°Ä</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-8a5d243e><span class="vpi-chevron-right caret-icon" data-v-8a5d243e></span></div></div><div class="items" data-v-8a5d243e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/styles" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Ê†∑ÂºèÈÖçÁΩÆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/data-source" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Êï∞ÊçÆ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/i18n" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>ÂõΩÈôÖÂåñ</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/environment" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>ÁéØÂ¢ÉË¶ÅÊ±Ç</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/hot-key" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Âø´Êç∑ÈîÆ</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ebceedf2><section class="VPSidebarItem level-0 collapsible" data-v-ebceedf2 data-v-8a5d243e><div class="item" role="button" tabindex="0" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><h2 class="text" data-v-8a5d243e>ËøõÈò∂</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-8a5d243e><span class="vpi-chevron-right caret-icon" data-v-8a5d243e></span></div></div><div class="items" data-v-8a5d243e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/figure" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Âü∫Á°ÄÂõæÂΩ¢</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/indicator" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>ÊäÄÊúØÊåáÊ†á</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/overlay" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Ë¶ÜÁõñÁâ©</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/local-development" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Êú¨Âú∞ÂºÄÂèë</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-ebceedf2><section class="VPSidebarItem level-0 collapsible" data-v-ebceedf2 data-v-8a5d243e><div class="item" role="button" tabindex="0" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><h2 class="text" data-v-8a5d243e>ÂÖ∂ÂÆÉ</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-8a5d243e><span class="vpi-chevron-right caret-icon" data-v-8a5d243e></span></div></div><div class="items" data-v-8a5d243e><!--[--><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/v9-to-v10" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>‰ªé 9.x Âà∞ 10.x</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/faq" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Â∏∏ËßÅÈóÆÈ¢ò</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/feedback" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>ÂèçÈ¶àÂíåÂÖ±Âª∫</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-8a5d243e data-v-8a5d243e><div class="item" data-v-8a5d243e><div class="indicator" data-v-8a5d243e></div><a class="VPLink link link" href="/guide/changelog" data-v-8a5d243e><!--[--><p class="text" data-v-8a5d243e>Êõ¥Êñ∞Êó•Âøó</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-0b4d615f data-v-3efd1b64><div class="VPDoc has-sidebar has-aside" data-v-3efd1b64 data-v-f79d9de8><!--[--><!--]--><div class="container" data-v-f79d9de8><div class="aside" data-v-f79d9de8><div class="aside-curtain" data-v-f79d9de8></div><div class="aside-container" data-v-f79d9de8><div class="aside-content" data-v-f79d9de8><div class="VPDocAside" data-v-f79d9de8 data-v-05834402><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-05834402 data-v-c892804b><div class="content" data-v-c892804b><div class="outline-marker" data-v-c892804b></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c892804b>È°µÈù¢ÂØºËà™</div><ul class="VPDocOutlineItem root" data-v-c892804b data-v-35cbb8b4><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-05834402></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-f79d9de8><div class="content-container" data-v-f79d9de8><!--[--><!--]--><main class="main" data-v-f79d9de8><div style="position:relative;" class="vp-doc _guide_i18n" data-v-f79d9de8><div><h1 id="üåè-ÂõΩÈôÖÂåñ" tabindex="-1">üåè ÂõΩÈôÖÂåñ <a class="header-anchor" href="#üåè-ÂõΩÈôÖÂåñ" aria-label="Permalink to ‚Äúüåè ÂõΩÈôÖÂåñ‚Äù">‚Äã</a></h1><p>ÁõÆÂâçÂõæË°®ÂÜÖÁΩÆ‰∫Ü <code>en-US</code> Âíå <code>zh-CN</code> ‰∏§ÁßçËØ≠Ë®ÄÔºåÈªòËÆ§ËØ≠Ë®ÄÊòØ <code>en-US</code> ÔºåÂ¶ÇÊûúÈúÄË¶Å‰ΩøÁî®ÂÖ∂‰ªñËØ≠Ë®ÄÔºåÂèØ‰ª•ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÊñπÊ°à„ÄÇ</p><h2 id="Â¢ûÂä†ËØ≠Ë®ÄÂåÖ" tabindex="-1">Â¢ûÂä†ËØ≠Ë®ÄÂåÖ <a class="header-anchor" href="#Â¢ûÂä†ËØ≠Ë®ÄÂåÖ" aria-label="Permalink to ‚ÄúÂ¢ûÂä†ËØ≠Ë®ÄÂåÖ‚Äù">‚Äã</a></h2><p>Â¢ûÂä†ËØ≠Ë®ÄÂåÖÈÄöËøá <code>klinecharts.registerLocale(key, locales)</code> ÂéªÂÆåÊàê„ÄÇ ‰æãÂ¶ÇÔºåÊ∑ªÂä†‰∏Ä‰∏™‰∏≠ÊñáÁπÅ‰ΩìÁöÑËØ≠Ë®ÄÂåÖÔºåÂèØ‰ª•ËøôÊ†∑ÂÅöÔºö</p><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">klinecharts.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerLocale</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;zh-HK&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  time: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ÊôÇÈñìÔºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  open: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ÈñãÔºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  high: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;È´òÔºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  low: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;‰ΩéÔºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  close: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Êî∂Ôºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  volume: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ÈáèÔºö&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  second: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Áßí&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  minute: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ÂàÜÈêò&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  hour: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Â∞èÊôÇ&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  day: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Â§©&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  week: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;ÈÄ±&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  month: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Êúà&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  year: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Âπ¥&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="‰ΩøÁî®ËØ≠Ë®ÄÂåÖ" tabindex="-1">‰ΩøÁî®ËØ≠Ë®ÄÂåÖ <a class="header-anchor" href="#‰ΩøÁî®ËØ≠Ë®ÄÂåÖ" aria-label="Permalink to ‚Äú‰ΩøÁî®ËØ≠Ë®ÄÂåÖ‚Äù">‚Äã</a></h2><p>ÂΩìÊ∑ªÂä†ÂÆåËØ≠Ë®ÄÂåÖÂêéÔºåÂèØ‰ª•ÈÄöËøáÂõæË°®API <code>init(options)</code> ÊàñËÄÖ <code>setLocale(key)</code> ÔºåÂÆåÊàêËØ≠Ë®ÄÂàáÊç¢„ÄÇ</p></div></div></main><footer class="VPDocFooter" data-v-f79d9de8 data-v-448719ba><!--[--><!--]--><div class="edit-info" data-v-448719ba><div class="edit-link" data-v-448719ba><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/klinecharts/KLineChart/edit/main/docs/guide/i18n.md" target="_blank" rel="noreferrer" data-v-448719ba><!--[--><span class="vpi-square-pen edit-link-icon" data-v-448719ba></span> Âú® GitHub ‰∏äÁºñËæëÊ≠§È°µÈù¢<!--]--></a></div><div class="last-updated" data-v-448719ba><p class="VPLastUpdated" data-v-448719ba data-v-5f21dda4>ÊúÄÂêéÊõ¥Êñ∞‰∫é: <time datetime="2025-05-16T18:18:14.000Z" data-v-5f21dda4></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-448719ba><span class="visually-hidden" id="doc-footer-aria-label" data-v-448719ba>Pager</span><div class="pager" data-v-448719ba><a class="VPLink link pager-link prev" href="/guide/data-source" data-v-448719ba><!--[--><span class="desc" data-v-448719ba>‰∏ä‰∏ÄÁØá</span><span class="title" data-v-448719ba>Êï∞ÊçÆ</span><!--]--></a></div><div class="pager" data-v-448719ba><a class="VPLink link pager-link next" href="/guide/environment" data-v-448719ba><!--[--><span class="desc" data-v-448719ba>‰∏ã‰∏ÄÁØá</span><span class="title" data-v-448719ba>ÁéØÂ¢ÉË¶ÅÊ±Ç</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-0b4d615f data-v-7b707dd0><div class="container" data-v-7b707dd0><p class="message" data-v-7b707dd0>Released under the <a href="https://github.com/klinecharts/KLineChart/blob/main/LICENSE">Apache License V2</a>.</p><p class="copyright" data-v-7b707dd0>Copyright ¬© 2018-2025 <a href="https://github.com/liihuu">liihuu</a></p></div></footer><!--[--><!----><!--]--></div><!--]--></div>
    
    
  </body>
</html>