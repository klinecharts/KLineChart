<script setup lang="ts">
import { useData } from 'vitepress'
import { useLayout } from 'vitepress/dist/client/theme-default/composables/layout'
import { normalizeLink } from 'vitepress/dist/client/theme-default/support/utils'
import { useLangs } from 'vitepress/dist/client/theme-default/composables/langs'
import { computed } from 'vue'

const { site, theme } = useData()
const { hasSidebar } = useLayout()
const { currentLang } = useLangs()

const link = computed(() =>
  typeof theme.value.logoLink === 'string'
    ? theme.value.logoLink
    : theme.value.logoLink?.link
)

const rel = computed(() =>
  typeof theme.value.logoLink === 'string'
    ? undefined
    : theme.value.logoLink?.rel
)

const target = computed(() =>
  typeof theme.value.logoLink === 'string'
    ? undefined
    : theme.value.logoLink?.target
)
</script>

<template>
  <div class="NavBarTitle" :class="{ 'has-sidebar': hasSidebar }">
    <a
      class="title"
      :href="link ?? normalizeLink(currentLang.link)"
      :rel
      :target
    >
      <slot name="nav-bar-title-before" />
      <svg
        fill="var(--vp-c-indigo-1)"
        width="133"
        height="24"
        style="transition: all 0.3s ease;"
        viewBox="0 0 398 72">
        <path
          d="M114.40619,17.071849942207336L114.40619,35.54174994220733L128.14,17.071849942207336L140.0076,17.071849942207336L126.0983,35.168949942207334L141.1561,55.34764994220733L129.8946,55.34764994220733L119.8455,41.32044994220733L114.40619,47.09904994220734L114.40619,55.34764994220733L106,55.34764994220733L106,17.087351742207336L114.40619,17.087351742207336L114.40619,17.071849942207336Z"
        />
        <path
          d="M154.84208782714845,47.145602496910094L167.31579782714843,47.145602496910094L167.31579782714843,55.332102496910096L146.43589782714844,55.332102496910096L146.43589782714844,17.071802496910095L154.84208782714845,17.071802496910095L154.84208782714845,47.145602496910094Z"
        />
        <path
          d="M182.15032984863282,21.033002176856996C182.15032984863282,23.487352176856994,180.1245598486328,25.475702176856995,177.58834984863282,25.475702176856995C175.0521398486328,25.475702176856995,172.9784698486328,23.502902176856995,172.9784698486328,21.033002176856996C172.9784698486328,18.563102176856994,175.06804984863282,16.543652176856995,177.58834984863282,16.543652176856995C180.1086398486328,16.543652176856995,182.15032984863282,18.578652176856995,182.15032984863282,21.033002176856996ZM180.5073698486328,26.547552176856996L181.6558498486328,26.547552176856996L181.6558498486328,27.666052176856994L181.6558498486328,54.213652176856996L181.6558498486328,55.332052176857L180.5073698486328,55.332052176857L174.50975984863283,55.332052176857L173.36127984863282,55.332052176857L173.36127984863282,54.213652176856996L173.36127984863282,27.666052176856994L173.36127984863282,26.547552176856996L174.50975984863283,26.547552176856996L180.5073698486328,26.547552176856996Z"
        />
        <path
          d="M214.53091014404296,40.776701406860354L214.53091014404296,55.33210140686035L206.39591014404297,55.33210140686035L206.39591014404297,40.776701406860354C206.39591014404297,37.25050140686035,204.46581014404296,33.66220140686035,200.23881014404296,33.66220140686035C196.17131014404296,33.66220140686035,192.93326014404298,36.87770140686035,192.93326014404298,40.776701406860354L192.93326014404298,55.33210140686035L184.79821014404297,55.33210140686035L184.79821014404297,26.26799940686035L192.93326014404298,26.26799940686035L192.93326014404298,27.55730140686035C195.07071014404298,26.43885040686035,197.60691014404296,25.73980140686035,200.23881014404296,25.73980140686035C208.48551014404296,25.73980140686035,214.53091014404296,32.06215140686035,214.53091014404296,40.776701406860354Z"
        />
        <path
          d="M249.91042846679687,45.17288851470947C246.5607284667969,52.61368851470947,239.57412846679688,57.42918851470947,231.23172846679688,55.61168851470947C223.75068846679687,54.011688514709476,218.19970146679688,46.94378851470947,218.98133606679687,39.130188514709474C220.79977846679688,20.396148514709473,247.56562846679688,21.14179851470947,249.47972846679687,39.61168851470947C242.66862846679686,41.646688514709474,235.74592846679687,43.52628851470948,228.80719846679688,45.49908851470947C232.76302846679687,50.050588514709474,239.79752846679688,48.23308851470947,242.15822846679688,43.09138851470947L249.91042846679687,45.17288851470947ZM227.00471846679687,39.704888514709474L240.24402846679686,35.899088514709476C237.88332846679688,29.76314851470947,225.68074846679687,33.289348514709474,227.00471846679687,39.704888514709474Z"
        />
        <path
          d="M283.7106639404297,40.6214L289.8039639404297,46.5554L286.7254639404297,49.5535C282.92906394042967,53.2972,277.8726639404297,55.3787,272.4333639404297,55.3321C261.3314039404297,55.3321,252.2711639404297,46.5088,252.2711639404297,35.6971C252.2711639404297,24.83885,261.33135394042966,16,272.4333639404297,16C277.8247639404297,16,282.9929639404297,18.08155,286.7254639404297,21.77865L289.8039639404297,24.7146L283.7106639404297,30.648600000000002L280.6321639404297,27.712699999999998C278.4308639404297,25.52235,275.5277639404297,24.450499999999998,272.44926394042966,24.388350000000003C266.13266394042967,24.388350000000003,260.9006939404297,29.468,260.9006939404297,35.6816C260.9006939404297,41.833,266.1166639404297,46.928200000000004,272.44926394042966,46.928200000000004C275.5756639404297,46.928200000000004,278.4468639404297,45.7476,280.6321639404297,43.603899999999996L283.7106639404297,40.6214Z"
        />
        <path
          d="M324.7527347900391,40.77679981307983L324.7527347900391,55.332099813079836L316.61773479003904,55.332099813079836L316.61773479003904,40.77679981307983C316.61773479003904,37.250499813079834,314.68763479003906,33.66219981307984,310.4606347900391,33.66219981307984C306.3931347900391,33.66219981307984,303.15508479003904,36.87779981307983,303.15508479003904,40.77679981307983L303.15508479003904,55.332099813079836L295.02003479003906,55.332099813079836L295.02003479003906,16.683499813079834L303.15508479003904,17.009700813079835L303.15508479003904,27.557299813079833C305.29253479003904,26.438849813079834,307.82873479003905,25.739799813079834,310.4606347900391,25.739799813079834C318.70733479003906,25.739799813079834,324.7527347900391,32.062199813079836,324.7527347900391,40.77679981307983Z"
        />
        <path
          d="M350.4818719970703,26.330101210144043L358.55307199707033,26.330101210144043L358.55307199707033,55.54959821014404L350.4818719970703,55.54959821014404L350.4818719970703,54.15149821014404C348.2805719970703,55.33209821014404,345.8081719970703,55.96899821014404,343.17627199707033,55.96899821014404C334.6584219970703,55.96899821014404,327.7356719970703,49.22729821014404,327.7356719970703,40.93209821014404C327.7356719970703,32.68354821014404,334.6584219970703,25.941798210144043,343.17627199707033,25.941798210144043C345.8081719970703,25.941798210144043,348.2806719970703,26.578698210144044,350.4818719970703,27.712698210144044L350.4818719970703,26.330101210144043ZM350.4818719970703,40.947598210144044C350.4818719970703,37.04859821014404,347.1799719970703,33.83304821014404,343.17627199707033,33.83304821014404C339.10877199707033,33.83304821014404,335.8707219970703,37.04859821014404,335.8707219970703,40.947598210144044C335.8707219970703,44.90879821014404,339.10877199707033,48.06219821014405,343.17627199707033,48.06219821014405C347.1799719970703,48.06219821014405,350.4818719970703,44.90879821014404,350.4818719970703,40.947598210144044Z"
        />
        <path
          d="M377.51888061523437,25.957301139831543L378.6672806152344,25.957301139831543L378.6672806152344,33.506801139831545L377.51888061523437,33.506801139831545L377.0721806152344,33.506801139831545C371.40960061523435,33.56895113983154,370.8034506152344,39.068001139831544,370.8034506152344,41.42920113983154L370.8034506152344,54.21370113983154L370.8034506152344,55.33210113983154L362.5088806152344,55.33210113983154L362.5088806152344,54.21370113983154L362.5088806152344,27.66605113983154L362.5088806152344,26.330149139831544L370.8034506152344,26.330149139831544L370.8034506152344,27.66605113983154L370.8034506152344,27.712651139831543C372.6697806152344,26.547601139831542,374.9347806152344,25.957301139831543,377.51888061523437,25.957301139831543Z"
        />
        <path
          d="M396.85155932617187,23.22330319480896L397.99995932617185,23.22330319480896L397.99995932617185,30.710653194808962L396.85155932617187,30.710653194808962L393.5496593261719,30.710653194808962L393.5496593261719,40.03105319480896L393.5496593261719,47.68935319480896C393.5496593261719,48.434953194808955,394.8097593261719,48.54375319480896,395.3680593261719,48.54375319480896C395.8625593261719,48.54375319480896,396.19755932617187,48.49715319480896,396.4687593261719,48.434953194808955L397.99995932617185,47.90685319480896L397.99995932617185,55.08355319480896L397.2343593261719,55.40975319480896C396.19755932617187,55.78255319480896,395.0330593261719,55.99995319480896,393.70915932617186,55.99995319480896C388.8121793261719,55.99995319480896,385.2391593261719,52.52035319480896,385.2391593261719,47.70485319480896L385.2391593261719,30.741753194808958L383.1495693261719,30.741753194808958L382.0170593261719,30.741753194808958L382.0170593261719,23.254303194808962L383.1655393261719,23.254303194808962L385.2551193261719,23.254303194808962L385.2551193261719,18.17470319480896L385.2551193261719,17.05625319480896L393.5496593261719,17.05625319480896L393.5496593261719,18.17470319480896L393.5496593261719,23.254303194808962L396.85155932617187,23.254303194808962L396.85155932617187,23.22330319480896Z"
        />
        <rect
          x="33.251625061035156"
          y="21.002683639526367"
          width="5.999998092651367"
          height="29.99462127685547"
          rx="0"
        />
        <path
          d="M52.3097,5.21198L52.3097,3.90897C47.4065,1.41911,41.871,0,36,0C16.1161,0,0,16.1132,0,35.9935C0,47.6688,5.56129,58.0283,14.1677,64.6077L14.1677,56.5576C9.10967,51.1908,5.99999,43.9534,5.99999,35.9935C5.99999,19.4288,19.4322,5.99892,36,5.99892C39.6258,5.99892,43.0968,6.64396,46.3096,7.83086L46.3096,32.2136L52.3096,32.2136L52.3097,5.21198Z"
        />
        <path
          d="M58.309641775512695,7.753461837768555L58.309641775512695,15.945551837768555C63.0967417755127,21.260761837768555,65.9999417755127,28.291761837768554,65.9999417755127,35.99356183776855C65.9999417755127,52.55836183776856,52.567741775512694,65.98816183776856,35.999941775512696,65.98816183776856C32.5548417755127,65.98816183776856,29.251581775512697,65.40766183776856,26.167731775512696,64.33686183776855L26.167731775512696,39.69616183776856L20.167741775512695,39.69616183776856L20.167741775512695,66.69776183776855L20.167741775512695,68.33616183776856C24.941931775512696,70.68416183776856,30.322541775512697,71.99996183776855,35.999941775512696,71.99996183776855C55.88384177551269,71.99996183776855,71.9999417755127,55.88676183776855,71.9999417755127,36.006461837768555C72.0128417755127,24.537561837768553,66.65804177551269,14.345811837768554,58.309641775512695,7.753461837768555Z"
        />
      </svg>
      <span v-if="theme.siteTitle" v-html="theme.siteTitle"></span>
      <span v-else-if="theme.siteTitle === undefined">{{ site.title }}</span>
      <slot name="nav-bar-title-after" />
    </a>
  </div>
</template>

<style scoped>
.title {
  display: flex;
  align-items: center;
  border-bottom: 1px solid transparent;
  width: 100%;
  height: var(--vp-nav-height);
  font-size: 16px;
  font-weight: 600;
  color: var(--vp-c-text-1);
  transition: opacity 0.25s;
}

@media (min-width: 960px) {
  .title {
    flex-shrink: 0;
  }

  .NavBarTitle.has-sidebar .title {
    border-bottom-color: var(--vp-c-divider);
  }
}

:deep(.logo) {
  margin-right: 8px;
  height: var(--vp-nav-logo-height);
}
</style>
